var x$=Object.defineProperty;var aC=t=>{throw TypeError(t)};var b$=(t,e,n)=>e in t?x$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>b$(t,typeof e!="symbol"?e+"":e,n),a0=(t,e,n)=>e.has(t)||aC("Cannot "+n);var G=(t,e,n)=>(a0(t,e,"read from private field"),n?n.call(t):e.get(t)),ze=(t,e,n)=>e.has(t)?aC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ce=(t,e,n,r)=>(a0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vn=(t,e,n)=>(a0(t,e,"access private method"),n);var vp=(t,e,n,r)=>({set _(s){Ce(t,e,s,n)},get _(){return G(t,e,r)}});function _R(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var xR={exports:{}},by={},bR={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=Symbol.for("react.element"),E$=Symbol.for("react.portal"),T$=Symbol.for("react.fragment"),C$=Symbol.for("react.strict_mode"),P$=Symbol.for("react.profiler"),A$=Symbol.for("react.provider"),I$=Symbol.for("react.context"),N$=Symbol.for("react.forward_ref"),k$=Symbol.for("react.suspense"),R$=Symbol.for("react.memo"),j$=Symbol.for("react.lazy"),lC=Symbol.iterator;function O$(t){return t===null||typeof t!="object"?null:(t=lC&&t[lC]||t["@@iterator"],typeof t=="function"?t:null)}var SR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ER=Object.assign,TR={};function zu(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||SR}zu.prototype.isReactComponent={};zu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CR(){}CR.prototype=zu.prototype;function Bb(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||SR}var zb=Bb.prototype=new CR;zb.constructor=Bb;ER(zb,zu.prototype);zb.isPureReactComponent=!0;var cC=Array.isArray,PR=Object.prototype.hasOwnProperty,qb={current:null},AR={key:!0,ref:!0,__self:!0,__source:!0};function IR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)PR.call(e,r)&&!AR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:If,type:t,key:i,ref:o,props:s,_owner:qb.current}}function D$(t,e){return{$$typeof:If,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wb(t){return typeof t=="object"&&t!==null&&t.$$typeof===If}function M$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uC=/\/+/g;function l0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M$(""+t.key):e.toString(36)}function hm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case If:case E$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+l0(o,0):r,cC(s)?(n="",t!=null&&(n=t.replace(uC,"$&/")+"/"),hm(s,e,n,"",function(u){return u})):s!=null&&(Wb(s)&&(s=D$(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(uC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",cC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+l0(i,a);o+=hm(i,e,n,l,s)}else if(l=O$(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+l0(i,a++),o+=hm(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wp(t,e,n){if(t==null)return t;var r=[],s=0;return hm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function L$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},fm={transition:null},V$={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:fm,ReactCurrentOwner:qb};function NR(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:wp,forEach:function(t,e,n){wp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wp(t,function(){e++}),e},toArray:function(t){return wp(t,function(e){return e})||[]},only:function(t){if(!Wb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=zu;Oe.Fragment=T$;Oe.Profiler=P$;Oe.PureComponent=Bb;Oe.StrictMode=C$;Oe.Suspense=k$;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V$;Oe.act=NR;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ER({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qb.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)PR.call(e,l)&&!AR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:If,type:t.type,key:s,ref:i,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:I$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A$,_context:t},t.Consumer=t};Oe.createElement=IR;Oe.createFactory=function(t){var e=IR.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:N$,render:t}};Oe.isValidElement=Wb;Oe.lazy=function(t){return{$$typeof:j$,_payload:{_status:-1,_result:t},_init:L$}};Oe.memo=function(t,e){return{$$typeof:R$,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=fm.transition;fm.transition={};try{t()}finally{fm.transition=e}};Oe.unstable_act=NR;Oe.useCallback=function(t,e){return qn.current.useCallback(t,e)};Oe.useContext=function(t){return qn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return qn.current.useEffect(t,e)};Oe.useId=function(){return qn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return qn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};Oe.useRef=function(t){return qn.current.useRef(t)};Oe.useState=function(t){return qn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return qn.current.useTransition()};Oe.version="18.3.1";bR.exports=Oe;var b=bR.exports;const W=$b(b),Hb=_R({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$=b,U$=Symbol.for("react.element"),$$=Symbol.for("react.fragment"),B$=Object.prototype.hasOwnProperty,z$=F$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q$={key:!0,ref:!0,__self:!0,__source:!0};function kR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B$.call(e,r)&&!q$.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:U$,type:t,key:i,ref:o,props:s,_owner:z$.current}}by.Fragment=$$;by.jsx=kR;by.jsxs=kR;xR.exports=by;var c=xR.exports,RR={exports:{}},Or={},jR={exports:{}},OR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var q=M.length;M.push(F);e:for(;0<q;){var L=q-1>>>1,z=M[L];if(0<s(z,F))M[L]=F,M[q]=z,q=L;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],q=M.pop();if(q!==F){M[0]=q;e:for(var L=0,z=M.length,te=z>>>1;L<te;){var J=2*(L+1)-1,fe=M[J],ke=J+1,Z=M[ke];if(0>s(fe,q))ke<z&&0>s(Z,fe)?(M[L]=Z,M[ke]=q,L=ke):(M[L]=fe,M[J]=q,L=J);else if(ke<z&&0>s(Z,q))M[L]=Z,M[ke]=q,L=ke;else break e}}return F}function s(M,F){var q=M.sortIndex-F.sortIndex;return q!==0?q:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function T(M){if(g=!1,x(M),!w)if(n(l)!==null)w=!0,Q(I);else{var F=n(u);F!==null&&B(T,F.startTime-M)}}function I(M,F){w=!1,g&&(g=!1,_(E),E=-1),p=!0;var q=f;try{for(x(F),h=n(l);h!==null&&(!(h.expirationTime>F)||M&&!j());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var z=L(h.expirationTime<=F);F=t.unstable_now(),typeof z=="function"?h.callback=z:h===n(l)&&r(l),x(F)}else r(l);h=n(l)}if(h!==null)var te=!0;else{var J=n(u);J!==null&&B(T,J.startTime-F),te=!1}return te}finally{h=null,f=q,p=!1}}var k=!1,C=null,E=-1,A=5,R=-1;function j(){return!(t.unstable_now()-R<A)}function N(){if(C!==null){var M=t.unstable_now();R=M;var F=!0;try{F=C(!0,M)}finally{F?O():(k=!1,C=null)}}else k=!1}var O;if(typeof v=="function")O=function(){v(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=N,O=function(){Y.postMessage(null)}}else O=function(){y(N,0)};function Q(M){C=M,k||(k=!0,O())}function B(M,F){E=y(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,Q(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var q=f;f=F;try{return M()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=f;f=M;try{return F()}finally{f=q}},t.unstable_scheduleCallback=function(M,F,q){var L=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?L+q:L):q=L,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=q+z,M={id:d++,callback:F,priorityLevel:M,startTime:q,expirationTime:z,sortIndex:-1},q>L?(M.sortIndex=q,e(u,M),n(l)===null&&M===n(u)&&(g?(_(E),E=-1):g=!0,B(T,q-L))):(M.sortIndex=z,e(l,M),w||p||(w=!0,Q(I))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var F=f;return function(){var q=f;f=F;try{return M.apply(this,arguments)}finally{f=q}}}})(OR);jR.exports=OR;var W$=jR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H$=b,kr=W$;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DR=new Set,Nh={};function Fl(t,e){uu(t,e),uu(t+"Capture",e)}function uu(t,e){for(Nh[t]=e,t=0;t<e.length;t++)DR.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ww=Object.prototype.hasOwnProperty,G$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dC={},hC={};function K$(t){return Ww.call(hC,t)?!0:Ww.call(dC,t)?!1:G$.test(t)?hC[t]=!0:(dC[t]=!0,!1)}function Y$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q$(t,e,n,r){if(e===null||typeof e>"u"||Y$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gb=/[\-:]([a-z])/g;function Kb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gb,Kb);gn[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gb,Kb);gn[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gb,Kb);gn[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yb(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q$(e,n,s,r)&&(n=null),r||s===null?K$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wi=H$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),yc=Symbol.for("react.portal"),vc=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Kw=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),VR=Symbol.for("react.offscreen"),fC=Symbol.iterator;function Td(t){return t===null||typeof t!="object"?null:(t=fC&&t[fC]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,c0;function Bd(t){if(c0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);c0=e&&e[1]||""}return`
`+c0+t}var u0=!1;function d0(t,e){if(!t||u0)return"";u0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{u0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bd(t):""}function X$(t){switch(t.tag){case 5:return Bd(t.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return t=d0(t.type,!1),t;case 11:return t=d0(t.type.render,!1),t;case 1:return t=d0(t.type,!0),t;default:return""}}function Yw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vc:return"Fragment";case yc:return"Portal";case Hw:return"Profiler";case Qb:return"StrictMode";case Gw:return"Suspense";case Kw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LR:return(t.displayName||"Context")+".Consumer";case MR:return(t._context.displayName||"Context")+".Provider";case Xb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jb:return e=t.displayName||null,e!==null?e:Yw(t.type)||"Memo";case co:e=t._payload,t=t._init;try{return Yw(t(e))}catch{}}return null}function J$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yw(e);case 8:return e===Qb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z$(t){var e=FR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xp(t){t._valueTracker||(t._valueTracker=Z$(t))}function UR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qw(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $R(t,e){e=e.checked,e!=null&&Yb(t,"checked",e,!1)}function Xw(t,e){$R(t,e);var n=Xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jw(t,e.type,Xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jw(t,e,n){(e!=="number"||Jm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(zd(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xo(n)}}function BR(t,e){var n=Xo(e.value),r=Xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,qR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e6=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(t){e6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),th[e]=th[t]})});function WR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||th.hasOwnProperty(t)&&th[t]?(""+e).trim():e+"px"}function HR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=WR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var t6=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t_(t,e){if(e){if(t6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function n_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r_=null;function Zb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s_=null,Vc=null,Fc=null;function vC(t){if(t=Rf(t)){if(typeof s_!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Py(e),s_(t.stateNode,t.type,e))}}function GR(t){Vc?Fc?Fc.push(t):Fc=[t]:Vc=t}function KR(){if(Vc){var t=Vc,e=Fc;if(Fc=Vc=null,vC(t),e)for(t=0;t<e.length;t++)vC(e[t])}}function YR(t,e){return t(e)}function QR(){}var h0=!1;function XR(t,e,n){if(h0)return t(e,n);h0=!0;try{return YR(t,e,n)}finally{h0=!1,(Vc!==null||Fc!==null)&&(QR(),KR())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var r=Py(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var i_=!1;if(Ni)try{var Cd={};Object.defineProperty(Cd,"passive",{get:function(){i_=!0}}),window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{i_=!1}function n6(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var nh=!1,Zm=null,eg=!1,o_=null,r6={onError:function(t){nh=!0,Zm=t}};function s6(t,e,n,r,s,i,o,a,l){nh=!1,Zm=null,n6.apply(r6,arguments)}function i6(t,e,n,r,s,i,o,a,l){if(s6.apply(this,arguments),nh){if(nh){var u=Zm;nh=!1,Zm=null}else throw Error(X(198));eg||(eg=!0,o_=u)}}function Ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wC(t){if(Ul(t)!==t)throw Error(X(188))}function o6(t){var e=t.alternate;if(!e){if(e=Ul(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wC(s),t;if(i===r)return wC(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function ZR(t){return t=o6(t),t!==null?ej(t):null}function ej(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ej(t);if(e!==null)return e;t=t.sibling}return null}var tj=kr.unstable_scheduleCallback,_C=kr.unstable_cancelCallback,a6=kr.unstable_shouldYield,l6=kr.unstable_requestPaint,Ot=kr.unstable_now,c6=kr.unstable_getCurrentPriorityLevel,e1=kr.unstable_ImmediatePriority,nj=kr.unstable_UserBlockingPriority,tg=kr.unstable_NormalPriority,u6=kr.unstable_LowPriority,rj=kr.unstable_IdlePriority,Sy=null,Ys=null;function d6(t){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(Sy,t,void 0,(t.current.flags&128)===128)}catch{}}var Es=Math.clz32?Math.clz32:p6,h6=Math.log,f6=Math.LN2;function p6(t){return t>>>=0,t===0?32:31-(h6(t)/f6|0)|0}var Sp=64,Ep=4194304;function qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ng(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qd(a):(i&=o,i!==0&&(r=qd(i)))}else o=n&~s,o!==0?r=qd(o):i!==0&&(r=qd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Es(e),s=1<<n,r|=t[n],e&=~s;return r}function m6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Es(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=m6(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function a_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sj(){var t=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),t}function f0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Es(e),t[e]=n}function y6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Es(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function t1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Es(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Xe=0;function ij(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oj,n1,aj,lj,cj,l_=!1,Tp=[],Oo=null,Do=null,Mo=null,jh=new Map,Oh=new Map,ho=[],v6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xC(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(e.pointerId)}}function Pd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rf(e),e!==null&&n1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function w6(t,e,n,r,s){switch(e){case"focusin":return Oo=Pd(Oo,t,e,n,r,s),!0;case"dragenter":return Do=Pd(Do,t,e,n,r,s),!0;case"mouseover":return Mo=Pd(Mo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jh.set(i,Pd(jh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oh.set(i,Pd(Oh.get(i)||null,t,e,n,r,s)),!0}return!1}function uj(t){var e=Xa(t.target);if(e!==null){var n=Ul(e);if(n!==null){if(e=n.tag,e===13){if(e=JR(n),e!==null){t.blockedOn=e,cj(t.priority,function(){aj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r_=r,n.target.dispatchEvent(r),r_=null}else return e=Rf(n),e!==null&&n1(e),t.blockedOn=n,!1;e.shift()}return!0}function bC(t,e,n){pm(t)&&n.delete(e)}function _6(){l_=!1,Oo!==null&&pm(Oo)&&(Oo=null),Do!==null&&pm(Do)&&(Do=null),Mo!==null&&pm(Mo)&&(Mo=null),jh.forEach(bC),Oh.forEach(bC)}function Ad(t,e){t.blockedOn===e&&(t.blockedOn=null,l_||(l_=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,_6)))}function Dh(t){function e(s){return Ad(s,t)}if(0<Tp.length){Ad(Tp[0],t);for(var n=1;n<Tp.length;n++){var r=Tp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oo!==null&&Ad(Oo,t),Do!==null&&Ad(Do,t),Mo!==null&&Ad(Mo,t),jh.forEach(e),Oh.forEach(e),n=0;n<ho.length;n++)r=ho[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ho.length&&(n=ho[0],n.blockedOn===null);)uj(n),n.blockedOn===null&&ho.shift()}var Uc=Wi.ReactCurrentBatchConfig,rg=!0;function x6(t,e,n,r){var s=Xe,i=Uc.transition;Uc.transition=null;try{Xe=1,r1(t,e,n,r)}finally{Xe=s,Uc.transition=i}}function b6(t,e,n,r){var s=Xe,i=Uc.transition;Uc.transition=null;try{Xe=4,r1(t,e,n,r)}finally{Xe=s,Uc.transition=i}}function r1(t,e,n,r){if(rg){var s=c_(t,e,n,r);if(s===null)S0(t,e,r,sg,n),xC(t,r);else if(w6(s,t,e,n,r))r.stopPropagation();else if(xC(t,r),e&4&&-1<v6.indexOf(t)){for(;s!==null;){var i=Rf(s);if(i!==null&&oj(i),i=c_(t,e,n,r),i===null&&S0(t,e,r,sg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else S0(t,e,r,null,n)}}var sg=null;function c_(t,e,n,r){if(sg=null,t=Zb(r),t=Xa(t),t!==null)if(e=Ul(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sg=t,null}function dj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c6()){case e1:return 1;case nj:return 4;case tg:case u6:return 16;case rj:return 536870912;default:return 16}default:return 16}}var Co=null,s1=null,mm=null;function hj(){if(mm)return mm;var t,e=s1,n=e.length,r,s="value"in Co?Co.value:Co.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mm=s.slice(t,1<r?1-r:void 0)}function gm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cp(){return!0}function SC(){return!1}function Dr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cp:SC,this.isPropagationStopped=SC,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),e}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i1=Dr(qu),kf=St({},qu,{view:0,detail:0}),S6=Dr(kf),p0,m0,Id,Ey=St({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Id&&(Id&&t.type==="mousemove"?(p0=t.screenX-Id.screenX,m0=t.screenY-Id.screenY):m0=p0=0,Id=t),p0)},movementY:function(t){return"movementY"in t?t.movementY:m0}}),EC=Dr(Ey),E6=St({},Ey,{dataTransfer:0}),T6=Dr(E6),C6=St({},kf,{relatedTarget:0}),g0=Dr(C6),P6=St({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),A6=Dr(P6),I6=St({},qu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N6=Dr(I6),k6=St({},qu,{data:0}),TC=Dr(k6),R6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O6[t])?!!e[t]:!1}function o1(){return D6}var M6=St({},kf,{key:function(t){if(t.key){var e=R6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o1,charCode:function(t){return t.type==="keypress"?gm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L6=Dr(M6),V6=St({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=Dr(V6),F6=St({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o1}),U6=Dr(F6),$6=St({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=Dr($6),z6=St({},Ey,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q6=Dr(z6),W6=[9,13,27,32],a1=Ni&&"CompositionEvent"in window,rh=null;Ni&&"documentMode"in document&&(rh=document.documentMode);var H6=Ni&&"TextEvent"in window&&!rh,fj=Ni&&(!a1||rh&&8<rh&&11>=rh),PC=" ",AC=!1;function pj(t,e){switch(t){case"keyup":return W6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function G6(t,e){switch(t){case"compositionend":return mj(e);case"keypress":return e.which!==32?null:(AC=!0,PC);case"textInput":return t=e.data,t===PC&&AC?null:t;default:return null}}function K6(t,e){if(wc)return t==="compositionend"||!a1&&pj(t,e)?(t=hj(),mm=s1=Co=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fj&&e.locale!=="ko"?null:e.data;default:return null}}var Y6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y6[t.type]:e==="textarea"}function gj(t,e,n,r){GR(r),e=ig(e,"onChange"),0<e.length&&(n=new i1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sh=null,Mh=null;function Q6(t){Pj(t,0)}function Ty(t){var e=bc(t);if(UR(e))return t}function X6(t,e){if(t==="change")return e}var yj=!1;if(Ni){var y0;if(Ni){var v0="oninput"in document;if(!v0){var NC=document.createElement("div");NC.setAttribute("oninput","return;"),v0=typeof NC.oninput=="function"}y0=v0}else y0=!1;yj=y0&&(!document.documentMode||9<document.documentMode)}function kC(){sh&&(sh.detachEvent("onpropertychange",vj),Mh=sh=null)}function vj(t){if(t.propertyName==="value"&&Ty(Mh)){var e=[];gj(e,Mh,t,Zb(t)),XR(Q6,e)}}function J6(t,e,n){t==="focusin"?(kC(),sh=e,Mh=n,sh.attachEvent("onpropertychange",vj)):t==="focusout"&&kC()}function Z6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ty(Mh)}function eB(t,e){if(t==="click")return Ty(e)}function tB(t,e){if(t==="input"||t==="change")return Ty(e)}function nB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ps=typeof Object.is=="function"?Object.is:nB;function Lh(t,e){if(Ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ww.call(e,s)||!Ps(t[s],e[s]))return!1}return!0}function RC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jC(t,e){var n=RC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RC(n)}}function wj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _j(){for(var t=window,e=Jm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jm(t.document)}return e}function l1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rB(t){var e=_j(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wj(n.ownerDocument.documentElement,n)){if(r!==null&&l1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jC(n,i);var o=jC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sB=Ni&&"documentMode"in document&&11>=document.documentMode,_c=null,u_=null,ih=null,d_=!1;function OC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d_||_c==null||_c!==Jm(r)||(r=_c,"selectionStart"in r&&l1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ih&&Lh(ih,r)||(ih=r,r=ig(u_,"onSelect"),0<r.length&&(e=new i1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_c)))}function Pp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xc={animationend:Pp("Animation","AnimationEnd"),animationiteration:Pp("Animation","AnimationIteration"),animationstart:Pp("Animation","AnimationStart"),transitionend:Pp("Transition","TransitionEnd")},w0={},xj={};Ni&&(xj=document.createElement("div").style,"AnimationEvent"in window||(delete xc.animationend.animation,delete xc.animationiteration.animation,delete xc.animationstart.animation),"TransitionEvent"in window||delete xc.transitionend.transition);function Cy(t){if(w0[t])return w0[t];if(!xc[t])return t;var e=xc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xj)return w0[t]=e[n];return t}var bj=Cy("animationend"),Sj=Cy("animationiteration"),Ej=Cy("animationstart"),Tj=Cy("transitionend"),Cj=new Map,DC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){Cj.set(t,e),Fl(e,[t])}for(var _0=0;_0<DC.length;_0++){var x0=DC[_0],iB=x0.toLowerCase(),oB=x0[0].toUpperCase()+x0.slice(1);fa(iB,"on"+oB)}fa(bj,"onAnimationEnd");fa(Sj,"onAnimationIteration");fa(Ej,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(Tj,"onTransitionEnd");uu("onMouseEnter",["mouseout","mouseover"]);uu("onMouseLeave",["mouseout","mouseover"]);uu("onPointerEnter",["pointerout","pointerover"]);uu("onPointerLeave",["pointerout","pointerover"]);Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function MC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i6(r,e,void 0,t),t.currentTarget=null}function Pj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;MC(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;MC(s,a,u),i=l}}}if(eg)throw t=o_,eg=!1,o_=null,t}function dt(t,e){var n=e[g_];n===void 0&&(n=e[g_]=new Set);var r=t+"__bubble";n.has(r)||(Aj(e,t,2,!1),n.add(r))}function b0(t,e,n){var r=0;e&&(r|=4),Aj(n,t,r,e)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function Vh(t){if(!t[Ap]){t[Ap]=!0,DR.forEach(function(n){n!=="selectionchange"&&(aB.has(n)||b0(n,!1,t),b0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ap]||(e[Ap]=!0,b0("selectionchange",!1,e))}}function Aj(t,e,n,r){switch(dj(e)){case 1:var s=x6;break;case 4:s=b6;break;default:s=r1}n=s.bind(null,e,n,t),s=void 0,!i_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function S0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}XR(function(){var u=i,d=Zb(n),h=[];e:{var f=Cj.get(t);if(f!==void 0){var p=i1,w=t;switch(t){case"keypress":if(gm(n)===0)break e;case"keydown":case"keyup":p=L6;break;case"focusin":w="focus",p=g0;break;case"focusout":w="blur",p=g0;break;case"beforeblur":case"afterblur":p=g0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=EC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=U6;break;case bj:case Sj:case Ej:p=A6;break;case Tj:p=B6;break;case"scroll":p=S6;break;case"wheel":p=q6;break;case"copy":case"cut":case"paste":p=N6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=CC}var g=(e&4)!==0,y=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,x;v!==null;){x=v;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,_!==null&&(T=Rh(v,_),T!=null&&g.push(Fh(v,T,x)))),y)break;v=v.return}0<g.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==r_&&(w=n.relatedTarget||n.fromElement)&&(Xa(w)||w[ki]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Xa(w):null,w!==null&&(y=Ul(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=EC,T="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=CC,T="onPointerLeave",_="onPointerEnter",v="pointer"),y=p==null?f:bc(p),x=w==null?f:bc(w),f=new g(T,v+"leave",p,n,d),f.target=y,f.relatedTarget=x,T=null,Xa(d)===u&&(g=new g(_,v+"enter",w,n,d),g.target=x,g.relatedTarget=y,T=g),y=T,p&&w)t:{for(g=p,_=w,v=0,x=g;x;x=Jl(x))v++;for(x=0,T=_;T;T=Jl(T))x++;for(;0<v-x;)g=Jl(g),v--;for(;0<x-v;)_=Jl(_),x--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=Jl(g),_=Jl(_)}g=null}else g=null;p!==null&&LC(h,f,p,g,!1),w!==null&&y!==null&&LC(h,y,w,g,!0)}}e:{if(f=u?bc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=X6;else if(IC(f))if(yj)I=tB;else{I=Z6;var k=J6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=eB);if(I&&(I=I(t,u))){gj(h,I,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Jw(f,"number",f.value)}switch(k=u?bc(u):window,t){case"focusin":(IC(k)||k.contentEditable==="true")&&(_c=k,u_=u,ih=null);break;case"focusout":ih=u_=_c=null;break;case"mousedown":d_=!0;break;case"contextmenu":case"mouseup":case"dragend":d_=!1,OC(h,n,d);break;case"selectionchange":if(sB)break;case"keydown":case"keyup":OC(h,n,d)}var C;if(a1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wc?pj(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(fj&&n.locale!=="ko"&&(wc||E!=="onCompositionStart"?E==="onCompositionEnd"&&wc&&(C=hj()):(Co=d,s1="value"in Co?Co.value:Co.textContent,wc=!0)),k=ig(u,E),0<k.length&&(E=new TC(E,t,null,n,d),h.push({event:E,listeners:k}),C?E.data=C:(C=mj(n),C!==null&&(E.data=C)))),(C=H6?G6(t,n):K6(t,n))&&(u=ig(u,"onBeforeInput"),0<u.length&&(d=new TC("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Pj(h,e)})}function Fh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ig(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rh(t,n),i!=null&&r.unshift(Fh(t,i,s)),i=Rh(t,e),i!=null&&r.push(Fh(t,i,s))),t=t.return}return r}function Jl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Rh(n,i),l!=null&&o.unshift(Fh(n,l,a))):s||(l=Rh(n,i),l!=null&&o.push(Fh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lB=/\r\n?/g,cB=/\u0000|\uFFFD/g;function VC(t){return(typeof t=="string"?t:""+t).replace(lB,`
`).replace(cB,"")}function Ip(t,e,n){if(e=VC(e),VC(t)!==e&&n)throw Error(X(425))}function og(){}var h_=null,f_=null;function p_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m_=typeof setTimeout=="function"?setTimeout:void 0,uB=typeof clearTimeout=="function"?clearTimeout:void 0,FC=typeof Promise=="function"?Promise:void 0,dB=typeof queueMicrotask=="function"?queueMicrotask:typeof FC<"u"?function(t){return FC.resolve(null).then(t).catch(hB)}:m_;function hB(t){setTimeout(function(){throw t})}function E0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dh(e)}function Lo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),qs="__reactFiber$"+Wu,Uh="__reactProps$"+Wu,ki="__reactContainer$"+Wu,g_="__reactEvents$"+Wu,fB="__reactListeners$"+Wu,pB="__reactHandles$"+Wu;function Xa(t){var e=t[qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UC(t);t!==null;){if(n=t[qs])return n;t=UC(t)}return e}t=n,n=t.parentNode}return null}function Rf(t){return t=t[qs]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Py(t){return t[Uh]||null}var y_=[],Sc=-1;function pa(t){return{current:t}}function ft(t){0>Sc||(t.current=y_[Sc],y_[Sc]=null,Sc--)}function at(t,e){Sc++,y_[Sc]=t.current,t.current=e}var Jo={},Nn=pa(Jo),nr=pa(!1),bl=Jo;function du(t,e){var n=t.type.contextTypes;if(!n)return Jo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rr(t){return t=t.childContextTypes,t!=null}function ag(){ft(nr),ft(Nn)}function $C(t,e,n){if(Nn.current!==Jo)throw Error(X(168));at(Nn,e),at(nr,n)}function Ij(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,J$(t)||"Unknown",s));return St({},n,r)}function lg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jo,bl=Nn.current,at(Nn,t),at(nr,nr.current),!0}function BC(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Ij(t,e,bl),r.__reactInternalMemoizedMergedChildContext=t,ft(nr),ft(Nn),at(Nn,t)):ft(nr),at(nr,n)}var _i=null,Ay=!1,T0=!1;function Nj(t){_i===null?_i=[t]:_i.push(t)}function mB(t){Ay=!0,Nj(t)}function ma(){if(!T0&&_i!==null){T0=!0;var t=0,e=Xe;try{var n=_i;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_i=null,Ay=!1}catch(s){throw _i!==null&&(_i=_i.slice(t+1)),tj(e1,ma),s}finally{Xe=e,T0=!1}}return null}var Ec=[],Tc=0,cg=null,ug=0,qr=[],Wr=0,Sl=null,Si=1,Ei="";function Ua(t,e){Ec[Tc++]=ug,Ec[Tc++]=cg,cg=t,ug=e}function kj(t,e,n){qr[Wr++]=Si,qr[Wr++]=Ei,qr[Wr++]=Sl,Sl=t;var r=Si;t=Ei;var s=32-Es(r)-1;r&=~(1<<s),n+=1;var i=32-Es(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Si=1<<32-Es(e)+s|n<<s|r,Ei=i+t}else Si=1<<i|n<<s|r,Ei=t}function c1(t){t.return!==null&&(Ua(t,1),kj(t,1,0))}function u1(t){for(;t===cg;)cg=Ec[--Tc],Ec[Tc]=null,ug=Ec[--Tc],Ec[Tc]=null;for(;t===Sl;)Sl=qr[--Wr],qr[Wr]=null,Ei=qr[--Wr],qr[Wr]=null,Si=qr[--Wr],qr[Wr]=null}var Pr=null,Er=null,pt=!1,bs=null;function Rj(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Er=Lo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sl!==null?{id:Si,overflow:Ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,Er=null,!0):!1;default:return!1}}function v_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w_(t){if(pt){var e=Er;if(e){var n=e;if(!zC(t,e)){if(v_(t))throw Error(X(418));e=Lo(n.nextSibling);var r=Pr;e&&zC(t,e)?Rj(r,n):(t.flags=t.flags&-4097|2,pt=!1,Pr=t)}}else{if(v_(t))throw Error(X(418));t.flags=t.flags&-4097|2,pt=!1,Pr=t}}}function qC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function Np(t){if(t!==Pr)return!1;if(!pt)return qC(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p_(t.type,t.memoizedProps)),e&&(e=Er)){if(v_(t))throw jj(),Error(X(418));for(;e;)Rj(t,e),e=Lo(e.nextSibling)}if(qC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Er=Lo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Er=null}}else Er=Pr?Lo(t.stateNode.nextSibling):null;return!0}function jj(){for(var t=Er;t;)t=Lo(t.nextSibling)}function hu(){Er=Pr=null,pt=!1}function d1(t){bs===null?bs=[t]:bs.push(t)}var gB=Wi.ReactCurrentBatchConfig;function Nd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function kp(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WC(t){var e=t._init;return e(t._payload)}function Oj(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=$o(_,v),_.index=0,_.sibling=null,_}function i(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,T){return v===null||v.tag!==6?(v=R0(x,_.mode,T),v.return=_,v):(v=s(v,x),v.return=_,v)}function l(_,v,x,T){var I=x.type;return I===vc?d(_,v,x.props.children,T,x.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===co&&WC(I)===v.type)?(T=s(v,x.props),T.ref=Nd(_,v,x),T.return=_,T):(T=Sm(x.type,x.key,x.props,null,_.mode,T),T.ref=Nd(_,v,x),T.return=_,T)}function u(_,v,x,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=j0(x,_.mode,T),v.return=_,v):(v=s(v,x.children||[]),v.return=_,v)}function d(_,v,x,T,I){return v===null||v.tag!==7?(v=hl(x,_.mode,T,I),v.return=_,v):(v=s(v,x),v.return=_,v)}function h(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=R0(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _p:return x=Sm(v.type,v.key,v.props,null,_.mode,x),x.ref=Nd(_,null,v),x.return=_,x;case yc:return v=j0(v,_.mode,x),v.return=_,v;case co:var T=v._init;return h(_,T(v._payload),x)}if(zd(v)||Td(v))return v=hl(v,_.mode,x,null),v.return=_,v;kp(_,v)}return null}function f(_,v,x,T){var I=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(_,v,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:return x.key===I?l(_,v,x,T):null;case yc:return x.key===I?u(_,v,x,T):null;case co:return I=x._init,f(_,v,I(x._payload),T)}if(zd(x)||Td(x))return I!==null?null:d(_,v,x,T,null);kp(_,x)}return null}function p(_,v,x,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(x)||null,a(v,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _p:return _=_.get(T.key===null?x:T.key)||null,l(v,_,T,I);case yc:return _=_.get(T.key===null?x:T.key)||null,u(v,_,T,I);case co:var k=T._init;return p(_,v,x,k(T._payload),I)}if(zd(T)||Td(T))return _=_.get(x)||null,d(v,_,T,I,null);kp(v,T)}return null}function w(_,v,x,T){for(var I=null,k=null,C=v,E=v=0,A=null;C!==null&&E<x.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var R=f(_,C,x[E],T);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(_,C),v=i(R,v,E),k===null?I=R:k.sibling=R,k=R,C=A}if(E===x.length)return n(_,C),pt&&Ua(_,E),I;if(C===null){for(;E<x.length;E++)C=h(_,x[E],T),C!==null&&(v=i(C,v,E),k===null?I=C:k.sibling=C,k=C);return pt&&Ua(_,E),I}for(C=r(_,C);E<x.length;E++)A=p(C,_,E,x[E],T),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?E:A.key),v=i(A,v,E),k===null?I=A:k.sibling=A,k=A);return t&&C.forEach(function(j){return e(_,j)}),pt&&Ua(_,E),I}function g(_,v,x,T){var I=Td(x);if(typeof I!="function")throw Error(X(150));if(x=I.call(x),x==null)throw Error(X(151));for(var k=I=null,C=v,E=v=0,A=null,R=x.next();C!==null&&!R.done;E++,R=x.next()){C.index>E?(A=C,C=null):A=C.sibling;var j=f(_,C,R.value,T);if(j===null){C===null&&(C=A);break}t&&C&&j.alternate===null&&e(_,C),v=i(j,v,E),k===null?I=j:k.sibling=j,k=j,C=A}if(R.done)return n(_,C),pt&&Ua(_,E),I;if(C===null){for(;!R.done;E++,R=x.next())R=h(_,R.value,T),R!==null&&(v=i(R,v,E),k===null?I=R:k.sibling=R,k=R);return pt&&Ua(_,E),I}for(C=r(_,C);!R.done;E++,R=x.next())R=p(C,_,E,R.value,T),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?E:R.key),v=i(R,v,E),k===null?I=R:k.sibling=R,k=R);return t&&C.forEach(function(N){return e(_,N)}),pt&&Ua(_,E),I}function y(_,v,x,T){if(typeof x=="object"&&x!==null&&x.type===vc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:e:{for(var I=x.key,k=v;k!==null;){if(k.key===I){if(I=x.type,I===vc){if(k.tag===7){n(_,k.sibling),v=s(k,x.props.children),v.return=_,_=v;break e}}else if(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===co&&WC(I)===k.type){n(_,k.sibling),v=s(k,x.props),v.ref=Nd(_,k,x),v.return=_,_=v;break e}n(_,k);break}else e(_,k);k=k.sibling}x.type===vc?(v=hl(x.props.children,_.mode,T,x.key),v.return=_,_=v):(T=Sm(x.type,x.key,x.props,null,_.mode,T),T.ref=Nd(_,v,x),T.return=_,_=T)}return o(_);case yc:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=s(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=j0(x,_.mode,T),v.return=_,_=v}return o(_);case co:return k=x._init,y(_,v,k(x._payload),T)}if(zd(x))return w(_,v,x,T);if(Td(x))return g(_,v,x,T);kp(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,x),v.return=_,_=v):(n(_,v),v=R0(x,_.mode,T),v.return=_,_=v),o(_)):n(_,v)}return y}var fu=Oj(!0),Dj=Oj(!1),dg=pa(null),hg=null,Cc=null,h1=null;function f1(){h1=Cc=hg=null}function p1(t){var e=dg.current;ft(dg),t._currentValue=e}function __(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $c(t,e){hg=t,h1=Cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function rs(t){var e=t._currentValue;if(h1!==t)if(t={context:t,memoizedValue:e,next:null},Cc===null){if(hg===null)throw Error(X(308));Cc=t,hg.dependencies={lanes:0,firstContext:t}}else Cc=Cc.next=t;return e}var Ja=null;function m1(t){Ja===null?Ja=[t]:Ja.push(t)}function Mj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,m1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ri(t,r)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var uo=!1;function g1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ri(t,n)}return s=r.interleaved,s===null?(e.next=e,m1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ri(t,n)}function ym(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t1(t,n)}}function HC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fg(t,e,n,r){var s=t.updateQueue;uo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(f=e,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=St({},h,f);break e;case 2:uo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Tl|=o,t.lanes=o,t.memoizedState=h}}function GC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var jf={},Qs=pa(jf),$h=pa(jf),Bh=pa(jf);function Za(t){if(t===jf)throw Error(X(174));return t}function y1(t,e){switch(at(Bh,e),at($h,t),at(Qs,jf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e_(e,t)}ft(Qs),at(Qs,e)}function pu(){ft(Qs),ft($h),ft(Bh)}function Vj(t){Za(Bh.current);var e=Za(Qs.current),n=e_(e,t.type);e!==n&&(at($h,t),at(Qs,n))}function v1(t){$h.current===t&&(ft(Qs),ft($h))}var vt=pa(0);function pg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var C0=[];function w1(){for(var t=0;t<C0.length;t++)C0[t]._workInProgressVersionPrimary=null;C0.length=0}var vm=Wi.ReactCurrentDispatcher,P0=Wi.ReactCurrentBatchConfig,El=0,bt=null,Qt=null,nn=null,mg=!1,oh=!1,zh=0,yB=0;function wn(){throw Error(X(321))}function _1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ps(t[n],e[n]))return!1;return!0}function x1(t,e,n,r,s,i){if(El=i,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vm.current=t===null||t.memoizedState===null?xB:bB,t=n(r,s),oh){i=0;do{if(oh=!1,zh=0,25<=i)throw Error(X(301));i+=1,nn=Qt=null,e.updateQueue=null,vm.current=SB,t=n(r,s)}while(oh)}if(vm.current=gg,e=Qt!==null&&Qt.next!==null,El=0,nn=Qt=bt=null,mg=!1,e)throw Error(X(300));return t}function b1(){var t=zh!==0;return zh=0,t}function Vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?bt.memoizedState=nn=t:nn=nn.next=t,nn}function ss(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=nn===null?bt.memoizedState:nn.next;if(e!==null)nn=e,Qt=t;else{if(t===null)throw Error(X(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?bt.memoizedState=nn=t:nn=nn.next=t}return nn}function qh(t,e){return typeof e=="function"?e(t):e}function A0(t){var e=ss(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((El&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,bt.lanes|=d,Tl|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ps(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,bt.lanes|=i,Tl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I0(t){var e=ss(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ps(i,e.memoizedState)||(er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Fj(){}function Uj(t,e){var n=bt,r=ss(),s=e(),i=!Ps(r.memoizedState,s);if(i&&(r.memoizedState=s,er=!0),r=r.queue,S1(zj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,Wh(9,Bj.bind(null,n,r,s,e),void 0,null),rn===null)throw Error(X(349));El&30||$j(n,e,s)}return s}function $j(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bj(t,e,n,r){e.value=n,e.getSnapshot=r,qj(e)&&Wj(t)}function zj(t,e,n){return n(function(){qj(e)&&Wj(t)})}function qj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ps(t,n)}catch{return!0}}function Wj(t){var e=Ri(t,1);e!==null&&Ts(e,t,1,-1)}function KC(t){var e=Vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:t},e.queue=t,t=t.dispatch=_B.bind(null,bt,t),[e.memoizedState,t]}function Wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hj(){return ss().memoizedState}function wm(t,e,n,r){var s=Vs();bt.flags|=t,s.memoizedState=Wh(1|e,n,void 0,r===void 0?null:r)}function Iy(t,e,n,r){var s=ss();r=r===void 0?null:r;var i=void 0;if(Qt!==null){var o=Qt.memoizedState;if(i=o.destroy,r!==null&&_1(r,o.deps)){s.memoizedState=Wh(e,n,i,r);return}}bt.flags|=t,s.memoizedState=Wh(1|e,n,i,r)}function YC(t,e){return wm(8390656,8,t,e)}function S1(t,e){return Iy(2048,8,t,e)}function Gj(t,e){return Iy(4,2,t,e)}function Kj(t,e){return Iy(4,4,t,e)}function Yj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qj(t,e,n){return n=n!=null?n.concat([t]):null,Iy(4,4,Yj.bind(null,e,t),n)}function E1(){}function Xj(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jj(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zj(t,e,n){return El&21?(Ps(n,e)||(n=sj(),bt.lanes|=n,Tl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function vB(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=P0.transition;P0.transition={};try{t(!1),e()}finally{Xe=n,P0.transition=r}}function e2(){return ss().memoizedState}function wB(t,e,n){var r=Uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t2(t))n2(e,n);else if(n=Mj(t,e,n,r),n!==null){var s=zn();Ts(n,t,r,s),r2(n,e,r)}}function _B(t,e,n){var r=Uo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t2(t))n2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ps(a,o)){var l=e.interleaved;l===null?(s.next=s,m1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Mj(t,e,s,r),n!==null&&(s=zn(),Ts(n,t,r,s),r2(n,e,r))}}function t2(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function n2(t,e){oh=mg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t1(t,n)}}var gg={readContext:rs,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},xB={readContext:rs,useCallback:function(t,e){return Vs().memoizedState=[t,e===void 0?null:e],t},useContext:rs,useEffect:YC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wm(4194308,4,Yj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return wm(4,2,t,e)},useMemo:function(t,e){var n=Vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wB.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Vs();return t={current:t},e.memoizedState=t},useState:KC,useDebugValue:E1,useDeferredValue:function(t){return Vs().memoizedState=t},useTransition:function(){var t=KC(!1),e=t[0];return t=vB.bind(null,t[1]),Vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,s=Vs();if(pt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),rn===null)throw Error(X(349));El&30||$j(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,YC(zj.bind(null,r,i,t),[t]),r.flags|=2048,Wh(9,Bj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Vs(),e=rn.identifierPrefix;if(pt){var n=Ei,r=Si;n=(r&~(1<<32-Es(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bB={readContext:rs,useCallback:Xj,useContext:rs,useEffect:S1,useImperativeHandle:Qj,useInsertionEffect:Gj,useLayoutEffect:Kj,useMemo:Jj,useReducer:A0,useRef:Hj,useState:function(){return A0(qh)},useDebugValue:E1,useDeferredValue:function(t){var e=ss();return Zj(e,Qt.memoizedState,t)},useTransition:function(){var t=A0(qh)[0],e=ss().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:Uj,useId:e2,unstable_isNewReconciler:!1},SB={readContext:rs,useCallback:Xj,useContext:rs,useEffect:S1,useImperativeHandle:Qj,useInsertionEffect:Gj,useLayoutEffect:Kj,useMemo:Jj,useReducer:I0,useRef:Hj,useState:function(){return I0(qh)},useDebugValue:E1,useDeferredValue:function(t){var e=ss();return Qt===null?e.memoizedState=t:Zj(e,Qt.memoizedState,t)},useTransition:function(){var t=I0(qh)[0],e=ss().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:Uj,useId:e2,unstable_isNewReconciler:!1};function ms(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function x_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ny={isMounted:function(t){return(t=t._reactInternals)?Ul(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zn(),s=Uo(t),i=Pi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vo(t,i,s),e!==null&&(Ts(e,t,s,r),ym(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zn(),s=Uo(t),i=Pi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vo(t,i,s),e!==null&&(Ts(e,t,s,r),ym(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),r=Uo(t),s=Pi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vo(t,s,r),e!==null&&(Ts(e,t,r,n),ym(e,t,r))}};function QC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Lh(n,r)||!Lh(s,i):!0}function s2(t,e,n){var r=!1,s=Jo,i=e.contextType;return typeof i=="object"&&i!==null?i=rs(i):(s=rr(e)?bl:Nn.current,r=e.contextTypes,i=(r=r!=null)?du(t,s):Jo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ny,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function XC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ny.enqueueReplaceState(e,e.state,null)}function b_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},g1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rs(i):(i=rr(e)?bl:Nn.current,s.context=du(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(x_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ny.enqueueReplaceState(s,s.state,null),fg(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mu(t,e){try{var n="",r=e;do n+=X$(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function N0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function S_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EB=typeof WeakMap=="function"?WeakMap:Map;function i2(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vg||(vg=!0,j_=r),S_(t,e)},n}function o2(t,e,n){n=Pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){S_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){S_(t,e),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function JC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=VB.bind(null,t,e,n),e.then(t,t))}function ZC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eP(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,Vo(n,e,1))),n.lanes|=1),t)}var TB=Wi.ReactCurrentOwner,er=!1;function Vn(t,e,n,r){e.child=t===null?Dj(e,null,n,r):fu(e,t.child,n,r)}function tP(t,e,n,r,s){n=n.render;var i=e.ref;return $c(e,s),r=x1(t,e,n,r,i,s),n=b1(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ji(t,e,s)):(pt&&n&&c1(e),e.flags|=1,Vn(t,e,r,s),e.child)}function nP(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!R1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,a2(t,e,i,r,s)):(t=Sm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lh,n(o,r)&&t.ref===e.ref)return ji(t,e,s)}return e.flags|=1,t=$o(i,r),t.ref=e.ref,t.return=e,e.child=t}function a2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lh(i,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,ji(t,e,s)}return E_(t,e,n,r,s)}function l2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ac,mr),mr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Ac,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(Ac,mr),mr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(Ac,mr),mr|=r;return Vn(t,e,s,n),e.child}function c2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function E_(t,e,n,r,s){var i=rr(n)?bl:Nn.current;return i=du(e,i),$c(e,s),n=x1(t,e,n,r,i,s),r=b1(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ji(t,e,s)):(pt&&r&&c1(e),e.flags|=1,Vn(t,e,n,s),e.child)}function rP(t,e,n,r,s){if(rr(n)){var i=!0;lg(e)}else i=!1;if($c(e,s),e.stateNode===null)_m(t,e),s2(e,n,r),b_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rs(u):(u=rr(n)?bl:Nn.current,u=du(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&XC(e,o,r,u),uo=!1;var f=e.memoizedState;o.state=f,fg(e,r,o,s),l=e.memoizedState,a!==r||f!==l||nr.current||uo?(typeof d=="function"&&(x_(e,n,d,r),l=e.memoizedState),(a=uo||QC(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lj(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ms(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rs(l):(l=rr(n)?bl:Nn.current,l=du(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&XC(e,o,r,l),uo=!1,f=e.memoizedState,o.state=f,fg(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||nr.current||uo?(typeof p=="function"&&(x_(e,n,p,r),w=e.memoizedState),(u=uo||QC(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return T_(t,e,n,r,i,s)}function T_(t,e,n,r,s,i){c2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&BC(e,n,!1),ji(t,e,i);r=e.stateNode,TB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fu(e,t.child,null,i),e.child=fu(e,null,a,i)):Vn(t,e,a,i),e.memoizedState=r.state,s&&BC(e,n,!0),e.child}function u2(t){var e=t.stateNode;e.pendingContext?$C(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$C(t,e.context,!1),y1(t,e.containerInfo)}function sP(t,e,n,r,s){return hu(),d1(s),e.flags|=256,Vn(t,e,n,r),e.child}var C_={dehydrated:null,treeContext:null,retryLane:0};function P_(t){return{baseLanes:t,cachePool:null,transitions:null}}function d2(t,e,n){var r=e.pendingProps,s=vt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(vt,s&1),t===null)return w_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jy(o,r,0,null),t=hl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=P_(n),e.memoizedState=C_,t):T1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return CB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$o(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$o(a,i):(i=hl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?P_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=C_,r}return i=t.child,t=i.sibling,r=$o(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T1(t,e){return e=jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rp(t,e,n,r){return r!==null&&d1(r),fu(e,t.child,null,n),t=T1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=N0(Error(X(422))),Rp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jy({mode:"visible",children:r.children},s,0,null),i=hl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fu(e,t.child,null,o),e.child.memoizedState=P_(o),e.memoizedState=C_,i);if(!(e.mode&1))return Rp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=N0(i,r,void 0),Rp(t,e,o,r)}if(a=(o&t.childLanes)!==0,er||a){if(r=rn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ri(t,s),Ts(r,t,s,-1))}return k1(),r=N0(Error(X(421))),Rp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=FB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Er=Lo(s.nextSibling),Pr=e,pt=!0,bs=null,t!==null&&(qr[Wr++]=Si,qr[Wr++]=Ei,qr[Wr++]=Sl,Si=t.id,Ei=t.overflow,Sl=e),e=T1(e,r.children),e.flags|=4096,e)}function iP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),__(t.return,e,n)}function k0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function h2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Vn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iP(t,n,e);else if(t.tag===19)iP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),k0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}k0(e,!0,n,null,i);break;case"together":k0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=$o(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$o(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PB(t,e,n){switch(e.tag){case 3:u2(e),hu();break;case 5:Vj(e);break;case 1:rr(e.type)&&lg(e);break;case 4:y1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(dg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?d2(t,e,n):(at(vt,vt.current&1),t=ji(t,e,n),t!==null?t.sibling:null);at(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,l2(t,e,n)}return ji(t,e,n)}var f2,A_,p2,m2;f2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A_=function(){};p2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Za(Qs.current);var i=null;switch(n){case"input":s=Qw(t,s),r=Qw(t,r),i=[];break;case"select":s=St({},s,{value:void 0}),r=St({},r,{value:void 0}),i=[];break;case"textarea":s=Zw(t,s),r=Zw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=og)}t_(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};m2=function(t,e,n,r){n!==r&&(e.flags|=4)};function kd(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AB(t,e,n){var r=e.pendingProps;switch(u1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return rr(e.type)&&ag(),_n(e),null;case 3:return r=e.stateNode,pu(),ft(nr),ft(Nn),w1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Np(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bs!==null&&(M_(bs),bs=null))),A_(t,e),_n(e),null;case 5:v1(e);var s=Za(Bh.current);if(n=e.type,t!==null&&e.stateNode!=null)p2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return _n(e),null}if(t=Za(Qs.current),Np(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qs]=e,r[Uh]=i,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(s=0;s<Wd.length;s++)dt(Wd[s],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":pC(r,i),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dt("invalid",r);break;case"textarea":gC(r,i),dt("invalid",r)}t_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ip(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ip(r.textContent,a,t),s=["children",""+a]):Nh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":xp(r),mC(r,i,!0);break;case"textarea":xp(r),yC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=og)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qs]=e,t[Uh]=r,f2(t,e,!1,!1),e.stateNode=t;e:{switch(o=n_(n,r),n){case"dialog":dt("cancel",t),dt("close",t),s=r;break;case"iframe":case"object":case"embed":dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wd.length;s++)dt(Wd[s],t);s=r;break;case"source":dt("error",t),s=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),s=r;break;case"details":dt("toggle",t),s=r;break;case"input":pC(t,r),s=Qw(t,r),dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=St({},r,{value:void 0}),dt("invalid",t);break;case"textarea":gC(t,r),s=Zw(t,r),dt("invalid",t);break;default:s=r}t_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?HR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kh(t,l):typeof l=="number"&&kh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&dt("scroll",t):l!=null&&Yb(t,i,l,o))}switch(n){case"input":xp(t),mC(t,r,!1);break;case"textarea":xp(t),yC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Lc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=og)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)m2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Za(Bh.current),Za(Qs.current),Np(e)){if(r=e.stateNode,n=e.memoizedProps,r[qs]=e,(i=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:Ip(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ip(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qs]=e,e.stateNode=r}return _n(e),null;case 13:if(ft(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Er!==null&&e.mode&1&&!(e.flags&128))jj(),hu(),e.flags|=98560,i=!1;else if(i=Np(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[qs]=e}else hu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else bs!==null&&(M_(bs),bs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Xt===0&&(Xt=3):k1())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return pu(),A_(t,e),t===null&&Vh(e.stateNode.containerInfo),_n(e),null;case 10:return p1(e.type._context),_n(e),null;case 17:return rr(e.type)&&ag(),_n(e),null;case 19:if(ft(vt),i=e.memoizedState,i===null)return _n(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)kd(i,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pg(t),o!==null){for(e.flags|=128,kd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(vt,vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ot()>gu&&(e.flags|=128,r=!0,kd(i,!1),e.lanes=4194304)}else{if(!r)if(t=pg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pt)return _n(e),null}else 2*Ot()-i.renderingStartTime>gu&&n!==1073741824&&(e.flags|=128,r=!0,kd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ot(),e.sibling=null,n=vt.current,at(vt,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return N1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function IB(t,e){switch(u1(e),e.tag){case 1:return rr(e.type)&&ag(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pu(),ft(nr),ft(Nn),w1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v1(e),null;case 13:if(ft(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(vt),null;case 4:return pu(),null;case 10:return p1(e.type._context),null;case 22:case 23:return N1(),null;case 24:return null;default:return null}}var jp=!1,En=!1,NB=typeof WeakSet=="function"?WeakSet:Set,se=null;function Pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function I_(t,e,n){try{n()}catch(r){At(t,e,r)}}var oP=!1;function kB(t,e){if(h_=rg,t=_j(),l1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(f_={focusedElem:t,selectionRange:n},rg=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:ms(e.type,g),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(T){At(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=oP,oP=!1,w}function ah(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&I_(e,n,i)}s=s.next}while(s!==r)}}function ky(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g2(t){var e=t.alternate;e!==null&&(t.alternate=null,g2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qs],delete e[Uh],delete e[g_],delete e[fB],delete e[pB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y2(t){return t.tag===5||t.tag===3||t.tag===4}function aP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=og));else if(r!==4&&(t=t.child,t!==null))for(k_(t,e,n),t=t.sibling;t!==null;)k_(t,e,n),t=t.sibling}function R_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R_(t,e,n),t=t.sibling;t!==null;)R_(t,e,n),t=t.sibling}var ln=null,_s=!1;function eo(t,e,n){for(n=n.child;n!==null;)v2(t,e,n),n=n.sibling}function v2(t,e,n){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(Sy,n)}catch{}switch(n.tag){case 5:En||Pc(n,e);case 6:var r=ln,s=_s;ln=null,eo(t,e,n),ln=r,_s=s,ln!==null&&(_s?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(_s?(t=ln,n=n.stateNode,t.nodeType===8?E0(t.parentNode,n):t.nodeType===1&&E0(t,n),Dh(t)):E0(ln,n.stateNode));break;case 4:r=ln,s=_s,ln=n.stateNode.containerInfo,_s=!0,eo(t,e,n),ln=r,_s=s;break;case 0:case 11:case 14:case 15:if(!En&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&I_(n,e,o),s=s.next}while(s!==r)}eo(t,e,n);break;case 1:if(!En&&(Pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}eo(t,e,n);break;case 21:eo(t,e,n);break;case 22:n.mode&1?(En=(r=En)||n.memoizedState!==null,eo(t,e,n),En=r):eo(t,e,n);break;default:eo(t,e,n)}}function lP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NB),e.forEach(function(r){var s=UB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function us(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,_s=!1;break e;case 3:ln=a.stateNode.containerInfo,_s=!0;break e;case 4:ln=a.stateNode.containerInfo,_s=!0;break e}a=a.return}if(ln===null)throw Error(X(160));v2(i,o,s),ln=null,_s=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){At(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w2(e,t),e=e.sibling}function w2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(us(e,t),Ls(t),r&4){try{ah(3,t,t.return),ky(3,t)}catch(g){At(t,t.return,g)}try{ah(5,t,t.return)}catch(g){At(t,t.return,g)}}break;case 1:us(e,t),Ls(t),r&512&&n!==null&&Pc(n,n.return);break;case 5:if(us(e,t),Ls(t),r&512&&n!==null&&Pc(n,n.return),t.flags&32){var s=t.stateNode;try{kh(s,"")}catch(g){At(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$R(s,i),n_(a,o);var u=n_(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?HR(s,h):d==="dangerouslySetInnerHTML"?qR(s,h):d==="children"?kh(s,h):Yb(s,d,h,u)}switch(a){case"input":Xw(s,i);break;case"textarea":BR(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Lc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Lc(s,!!i.multiple,i.defaultValue,!0):Lc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uh]=i}catch(g){At(t,t.return,g)}}break;case 6:if(us(e,t),Ls(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){At(t,t.return,g)}}break;case 3:if(us(e,t),Ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dh(e.containerInfo)}catch(g){At(t,t.return,g)}break;case 4:us(e,t),Ls(t);break;case 13:us(e,t),Ls(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(A1=Ot())),r&4&&lP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(En=(u=En)||d,us(e,t),En=u):us(e,t),Ls(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:ah(4,f,f.return);break;case 1:Pc(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){At(r,n,g)}}break;case 5:Pc(f,f.return);break;case 22:if(f.memoizedState!==null){uP(h);continue}}p!==null?(p.return=f,se=p):uP(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WR("display",o))}catch(g){At(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){At(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:us(e,t),Ls(t),r&4&&lP(t);break;case 21:break;default:us(e,t),Ls(t)}}function Ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y2(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kh(s,""),r.flags&=-33);var i=aP(t);R_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aP(t);k_(t,a,o);break;default:throw Error(X(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RB(t,e,n){se=t,_2(t)}function _2(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||jp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||En;a=jp;var u=En;if(jp=o,(En=l)&&!u)for(se=s;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?dP(s):l!==null?(l.return=o,se=l):dP(s);for(;i!==null;)se=i,_2(i),i=i.sibling;se=s,jp=a,En=u}cP(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):cP(t)}}function cP(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:En||ky(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!En)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ms(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&GC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}En||e.flags&512&&N_(e)}catch(f){At(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function uP(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function dP(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ky(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){At(e,s,l)}}var i=e.return;try{N_(e)}catch(l){At(e,i,l)}break;case 5:var o=e.return;try{N_(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var jB=Math.ceil,yg=Wi.ReactCurrentDispatcher,C1=Wi.ReactCurrentOwner,Zr=Wi.ReactCurrentBatchConfig,$e=0,rn=null,zt=null,pn=0,mr=0,Ac=pa(0),Xt=0,Hh=null,Tl=0,Ry=0,P1=0,lh=null,Jn=null,A1=0,gu=1/0,yi=null,vg=!1,j_=null,Fo=null,Op=!1,Po=null,wg=0,ch=0,O_=null,xm=-1,bm=0;function zn(){return $e&6?Ot():xm!==-1?xm:xm=Ot()}function Uo(t){return t.mode&1?$e&2&&pn!==0?pn&-pn:gB.transition!==null?(bm===0&&(bm=sj()),bm):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:dj(t.type)),t):1}function Ts(t,e,n,r){if(50<ch)throw ch=0,O_=null,Error(X(185));Nf(t,n,r),(!($e&2)||t!==rn)&&(t===rn&&(!($e&2)&&(Ry|=n),Xt===4&&fo(t,pn)),sr(t,r),n===1&&$e===0&&!(e.mode&1)&&(gu=Ot()+500,Ay&&ma()))}function sr(t,e){var n=t.callbackNode;g6(t,e);var r=ng(t,t===rn?pn:0);if(r===0)n!==null&&_C(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_C(n),e===1)t.tag===0?mB(hP.bind(null,t)):Nj(hP.bind(null,t)),dB(function(){!($e&6)&&ma()}),n=null;else{switch(ij(r)){case 1:n=e1;break;case 4:n=nj;break;case 16:n=tg;break;case 536870912:n=rj;break;default:n=tg}n=A2(n,x2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x2(t,e){if(xm=-1,bm=0,$e&6)throw Error(X(327));var n=t.callbackNode;if(Bc()&&t.callbackNode!==n)return null;var r=ng(t,t===rn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_g(t,r);else{e=r;var s=$e;$e|=2;var i=S2();(rn!==t||pn!==e)&&(yi=null,gu=Ot()+500,dl(t,e));do try{MB();break}catch(a){b2(t,a)}while(!0);f1(),yg.current=i,$e=s,zt!==null?e=0:(rn=null,pn=0,e=Xt)}if(e!==0){if(e===2&&(s=a_(t),s!==0&&(r=s,e=D_(t,s))),e===1)throw n=Hh,dl(t,0),fo(t,r),sr(t,Ot()),n;if(e===6)fo(t,r);else{if(s=t.current.alternate,!(r&30)&&!OB(s)&&(e=_g(t,r),e===2&&(i=a_(t),i!==0&&(r=i,e=D_(t,i))),e===1))throw n=Hh,dl(t,0),fo(t,r),sr(t,Ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:$a(t,Jn,yi);break;case 3:if(fo(t,r),(r&130023424)===r&&(e=A1+500-Ot(),10<e)){if(ng(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=m_($a.bind(null,t,Jn,yi),e);break}$a(t,Jn,yi);break;case 4:if(fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Es(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jB(r/1960))-r,10<r){t.timeoutHandle=m_($a.bind(null,t,Jn,yi),r);break}$a(t,Jn,yi);break;case 5:$a(t,Jn,yi);break;default:throw Error(X(329))}}}return sr(t,Ot()),t.callbackNode===n?x2.bind(null,t):null}function D_(t,e){var n=lh;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),t=_g(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&M_(e)),t}function M_(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function OB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ps(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fo(t,e){for(e&=~P1,e&=~Ry,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Es(e),r=1<<n;t[n]=-1,e&=~r}}function hP(t){if($e&6)throw Error(X(327));Bc();var e=ng(t,0);if(!(e&1))return sr(t,Ot()),null;var n=_g(t,e);if(t.tag!==0&&n===2){var r=a_(t);r!==0&&(e=r,n=D_(t,r))}if(n===1)throw n=Hh,dl(t,0),fo(t,e),sr(t,Ot()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$a(t,Jn,yi),sr(t,Ot()),null}function I1(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(gu=Ot()+500,Ay&&ma())}}function Cl(t){Po!==null&&Po.tag===0&&!($e&6)&&Bc();var e=$e;$e|=1;var n=Zr.transition,r=Xe;try{if(Zr.transition=null,Xe=1,t)return t()}finally{Xe=r,Zr.transition=n,$e=e,!($e&6)&&ma()}}function N1(){mr=Ac.current,ft(Ac)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uB(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(u1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ag();break;case 3:pu(),ft(nr),ft(Nn),w1();break;case 5:v1(r);break;case 4:pu();break;case 13:ft(vt);break;case 19:ft(vt);break;case 10:p1(r.type._context);break;case 22:case 23:N1()}n=n.return}if(rn=t,zt=t=$o(t.current,null),pn=mr=e,Xt=0,Hh=null,P1=Ry=Tl=0,Jn=lh=null,Ja!==null){for(e=0;e<Ja.length;e++)if(n=Ja[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ja=null}return t}function b2(t,e){do{var n=zt;try{if(f1(),vm.current=gg,mg){for(var r=bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mg=!1}if(El=0,nn=Qt=bt=null,oh=!1,zh=0,C1.current=null,n===null||n.return===null){Xt=1,Hh=e,zt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ZC(o);if(p!==null){p.flags&=-257,eP(p,o,a,i,e),p.mode&1&&JC(i,u,e),e=p,l=u;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){JC(i,u,e),k1();break e}l=Error(X(426))}}else if(pt&&a.mode&1){var y=ZC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),eP(y,o,a,i,e),d1(mu(l,a));break e}}i=l=mu(l,a),Xt!==4&&(Xt=2),lh===null?lh=[i]:lh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=i2(i,l,e);HC(i,_);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fo===null||!Fo.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=o2(i,a,e);HC(i,T);break e}}i=i.return}while(i!==null)}T2(n)}catch(I){e=I,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function S2(){var t=yg.current;return yg.current=gg,t===null?gg:t}function k1(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||!(Tl&268435455)&&!(Ry&268435455)||fo(rn,pn)}function _g(t,e){var n=$e;$e|=2;var r=S2();(rn!==t||pn!==e)&&(yi=null,dl(t,e));do try{DB();break}catch(s){b2(t,s)}while(!0);if(f1(),$e=n,yg.current=r,zt!==null)throw Error(X(261));return rn=null,pn=0,Xt}function DB(){for(;zt!==null;)E2(zt)}function MB(){for(;zt!==null&&!a6();)E2(zt)}function E2(t){var e=P2(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?T2(t):zt=e,C1.current=null}function T2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IB(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,zt=null;return}}else if(n=AB(n,e,mr),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Xt===0&&(Xt=5)}function $a(t,e,n){var r=Xe,s=Zr.transition;try{Zr.transition=null,Xe=1,LB(t,e,n,r)}finally{Zr.transition=s,Xe=r}return null}function LB(t,e,n,r){do Bc();while(Po!==null);if($e&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(y6(t,i),t===rn&&(zt=rn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Op||(Op=!0,A2(tg,function(){return Bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zr.transition,Zr.transition=null;var o=Xe;Xe=1;var a=$e;$e|=4,C1.current=null,kB(t,n),w2(n,t),rB(f_),rg=!!h_,f_=h_=null,t.current=n,RB(n),l6(),$e=a,Xe=o,Zr.transition=i}else t.current=n;if(Op&&(Op=!1,Po=t,wg=s),i=t.pendingLanes,i===0&&(Fo=null),d6(n.stateNode),sr(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vg)throw vg=!1,t=j_,j_=null,t;return wg&1&&t.tag!==0&&Bc(),i=t.pendingLanes,i&1?t===O_?ch++:(ch=0,O_=t):ch=0,ma(),null}function Bc(){if(Po!==null){var t=ij(wg),e=Zr.transition,n=Xe;try{if(Zr.transition=null,Xe=16>t?16:t,Po===null)var r=!1;else{if(t=Po,Po=null,wg=0,$e&6)throw Error(X(331));var s=$e;for($e|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:ah(8,d,i)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,p=d.return;if(g2(d),d===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ah(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,se=_;break e}se=i.return}}var v=t.current;for(se=v;se!==null;){o=se;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,se=x;else e:for(o=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ky(9,a)}}catch(I){At(a,a.return,I)}if(a===o){se=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,se=T;break e}se=a.return}}if($e=s,ma(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(Sy,t)}catch{}r=!0}return r}finally{Xe=n,Zr.transition=e}}return!1}function fP(t,e,n){e=mu(n,e),e=i2(t,e,1),t=Vo(t,e,1),e=zn(),t!==null&&(Nf(t,1,e),sr(t,e))}function At(t,e,n){if(t.tag===3)fP(t,t,n);else for(;e!==null;){if(e.tag===3){fP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){t=mu(n,t),t=o2(e,t,1),e=Vo(e,t,1),t=zn(),e!==null&&(Nf(e,1,t),sr(e,t));break}}e=e.return}}function VB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&n,rn===t&&(pn&n)===n&&(Xt===4||Xt===3&&(pn&130023424)===pn&&500>Ot()-A1?dl(t,0):P1|=n),sr(t,e)}function C2(t,e){e===0&&(t.mode&1?(e=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):e=1);var n=zn();t=Ri(t,e),t!==null&&(Nf(t,e,n),sr(t,n))}function FB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C2(t,n)}function UB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),C2(t,n)}var P2;P2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,PB(t,e,n);er=!!(t.flags&131072)}else er=!1,pt&&e.flags&1048576&&kj(e,ug,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_m(t,e),t=e.pendingProps;var s=du(e,Nn.current);$c(e,n),s=x1(null,e,r,t,s,n);var i=b1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rr(r)?(i=!0,lg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,g1(e),s.updater=Ny,e.stateNode=s,s._reactInternals=e,b_(e,r,t,n),e=T_(null,e,r,!0,i,n)):(e.tag=0,pt&&i&&c1(e),Vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_m(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BB(r),t=ms(r,t),s){case 0:e=E_(null,e,r,t,n);break e;case 1:e=rP(null,e,r,t,n);break e;case 11:e=tP(null,e,r,t,n);break e;case 14:e=nP(null,e,r,ms(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ms(r,s),E_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ms(r,s),rP(t,e,r,s,n);case 3:e:{if(u2(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Lj(t,e),fg(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mu(Error(X(423)),e),e=sP(t,e,r,n,s);break e}else if(r!==s){s=mu(Error(X(424)),e),e=sP(t,e,r,n,s);break e}else for(Er=Lo(e.stateNode.containerInfo.firstChild),Pr=e,pt=!0,bs=null,n=Dj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hu(),r===s){e=ji(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return Vj(e),t===null&&w_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,p_(r,s)?o=null:i!==null&&p_(r,i)&&(e.flags|=32),c2(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&w_(e),null;case 13:return d2(t,e,n);case 4:return y1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fu(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ms(r,s),tP(t,e,r,s,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(dg,r._currentValue),r._currentValue=o,i!==null)if(Ps(i.value,o)){if(i.children===s.children&&!nr.current){e=ji(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Pi(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),__(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),__(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$c(e,n),s=rs(s),r=r(s),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,s=ms(r,e.pendingProps),s=ms(r.type,s),nP(t,e,r,s,n);case 15:return a2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ms(r,s),_m(t,e),e.tag=1,rr(r)?(t=!0,lg(e)):t=!1,$c(e,n),s2(e,r,s),b_(e,r,s,n),T_(null,e,r,!0,t,n);case 19:return h2(t,e,n);case 22:return l2(t,e,n)}throw Error(X(156,e.tag))};function A2(t,e){return tj(t,e)}function $B(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new $B(t,e,n,r)}function R1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BB(t){if(typeof t=="function")return R1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xb)return 11;if(t===Jb)return 14}return 2}function $o(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")R1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vc:return hl(n.children,s,i,e);case Qb:o=8,s|=8;break;case Hw:return t=Kr(12,n,e,s|2),t.elementType=Hw,t.lanes=i,t;case Gw:return t=Kr(13,n,e,s),t.elementType=Gw,t.lanes=i,t;case Kw:return t=Kr(19,n,e,s),t.elementType=Kw,t.lanes=i,t;case VR:return jy(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MR:o=10;break e;case LR:o=9;break e;case Xb:o=11;break e;case Jb:o=14;break e;case co:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hl(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function jy(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=VR,t.lanes=n,t.stateNode={isHidden:!1},t}function R0(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function j0(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f0(0),this.expirationTimes=f0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function j1(t,e,n,r,s,i,o,a,l){return t=new zB(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g1(i),t}function qB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I2(t){if(!t)return Jo;t=t._reactInternals;e:{if(Ul(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(rr(n))return Ij(t,n,e)}return e}function N2(t,e,n,r,s,i,o,a,l){return t=j1(n,r,!0,t,s,i,o,a,l),t.context=I2(null),n=t.current,r=zn(),s=Uo(n),i=Pi(r,s),i.callback=e??null,Vo(n,i,s),t.current.lanes=s,Nf(t,s,r),sr(t,r),t}function Oy(t,e,n,r){var s=e.current,i=zn(),o=Uo(s);return n=I2(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vo(s,e,o),t!==null&&(Ts(t,s,o,i),ym(t,s,o)),o}function xg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O1(t,e){pP(t,e),(t=t.alternate)&&pP(t,e)}function WB(){return null}var k2=typeof reportError=="function"?reportError:function(t){console.error(t)};function D1(t){this._internalRoot=t}Dy.prototype.render=D1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Oy(t,e,null,null)};Dy.prototype.unmount=D1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cl(function(){Oy(null,t,null,null)}),e[ki]=null}};function Dy(t){this._internalRoot=t}Dy.prototype.unstable_scheduleHydration=function(t){if(t){var e=lj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ho.length&&e!==0&&e<ho[n].priority;n++);ho.splice(n,0,t),n===0&&uj(t)}};function M1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mP(){}function HB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=xg(o);i.call(u)}}var o=N2(e,r,t,0,null,!1,!1,"",mP);return t._reactRootContainer=o,t[ki]=o.current,Vh(t.nodeType===8?t.parentNode:t),Cl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=xg(l);a.call(u)}}var l=j1(t,0,!1,null,null,!1,!1,"",mP);return t._reactRootContainer=l,t[ki]=l.current,Vh(t.nodeType===8?t.parentNode:t),Cl(function(){Oy(e,l,n,r)}),l}function Ly(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=xg(o);a.call(l)}}Oy(e,o,t,s)}else o=HB(n,e,t,s,r);return xg(o)}oj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qd(e.pendingLanes);n!==0&&(t1(e,n|1),sr(e,Ot()),!($e&6)&&(gu=Ot()+500,ma()))}break;case 13:Cl(function(){var r=Ri(t,1);if(r!==null){var s=zn();Ts(r,t,1,s)}}),O1(t,1)}};n1=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=zn();Ts(e,t,134217728,n)}O1(t,134217728)}};aj=function(t){if(t.tag===13){var e=Uo(t),n=Ri(t,e);if(n!==null){var r=zn();Ts(n,t,e,r)}O1(t,e)}};lj=function(){return Xe};cj=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};s_=function(t,e,n){switch(e){case"input":if(Xw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Py(r);if(!s)throw Error(X(90));UR(r),Xw(r,s)}}}break;case"textarea":BR(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};YR=I1;QR=Cl;var GB={usingClientEntryPoint:!1,Events:[Rf,bc,Py,GR,KR,I1]},Rd={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KB={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZR(t),t===null?null:t.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||WB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dp.isDisabled&&Dp.supportsFiber)try{Sy=Dp.inject(KB),Ys=Dp}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GB;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M1(e))throw Error(X(200));return qB(t,e,null,n)};Or.createRoot=function(t,e){if(!M1(t))throw Error(X(299));var n=!1,r="",s=k2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=j1(t,1,!1,null,null,n,!1,r,s),t[ki]=e.current,Vh(t.nodeType===8?t.parentNode:t),new D1(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=ZR(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return Cl(t)};Or.hydrate=function(t,e,n){if(!My(e))throw Error(X(200));return Ly(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!M1(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=k2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=N2(e,null,t,1,n??null,s,!1,i,o),t[ki]=e.current,Vh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dy(e)};Or.render=function(t,e,n){if(!My(e))throw Error(X(200));return Ly(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!My(t))throw Error(X(40));return t._reactRootContainer?(Cl(function(){Ly(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};Or.unstable_batchedUpdates=I1;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!My(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Ly(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function R2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R2)}catch(t){console.error(t)}}R2(),RR.exports=Or;var $l=RR.exports;const j2=$b($l);var O2,gP=$l;O2=gP.createRoot,gP.hydrateRoot;const YB=1,QB=1e6;let O0=0;function XB(){return O0=(O0+1)%Number.MAX_SAFE_INTEGER,O0.toString()}const D0=new Map,yP=t=>{if(D0.has(t))return;const e=setTimeout(()=>{D0.delete(t),uh({type:"REMOVE_TOAST",toastId:t})},QB);D0.set(t,e)},JB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?yP(n):t.toasts.forEach(r=>{yP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Em=[];let Tm={toasts:[]};function uh(t){Tm=JB(Tm,t),Em.forEach(e=>{e(Tm)})}function ZB({...t}){const e=XB(),n=s=>uh({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>uh({type:"DISMISS_TOAST",toastId:e});return uh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Of(){const[t,e]=b.useState(Tm);return b.useEffect(()=>(Em.push(e),()=>{const n=Em.indexOf(e);n>-1&&Em.splice(n,1)}),[t]),{...t,toast:ZB,dismiss:n=>uh({type:"DISMISS_TOAST",toastId:n})}}function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D2(...t){return e=>{let n=!1;const r=t.map(s=>{const i=vP(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vP(t[s],null)}}}}function Be(...t){return b.useCallback(D2(...t),t)}function e9(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function os(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=h=>{var _;const{scope:f,children:p,...w}=h,g=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,y=b.useMemo(()=>w,Object.values(w));return c.jsx(g.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,t9(s,...e)]}function t9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function yu(t){const e=r9(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(i9);if(l){const u=l.props.children,d=a.map(h=>h===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var n9=yu("Slot");function r9(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=a9(s),a=o9(i,s.props);return s.type!==b.Fragment&&(a.ref=r?D2(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M2=Symbol("radix.slottable");function s9(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=M2,e}function i9(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M2}function o9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function a9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vy(t){const e=t+"CollectionProvider",[n,r]=os(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:_}=g,v=W.useRef(null),x=W.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:x,collectionRef:v,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=yu(a),u=W.forwardRef((g,y)=>{const{scope:_,children:v}=g,x=i(a,_),T=Be(y,x.collectionRef);return c.jsx(l,{ref:T,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=yu(d),p=W.forwardRef((g,y)=>{const{scope:_,children:v,...x}=g,T=W.useRef(null),I=Be(y,T),k=i(d,_);return W.useEffect(()=>(k.itemMap.set(T,{ref:T,...x}),()=>void k.itemMap.delete(T))),c.jsx(f,{[h]:"",ref:I,children:v})});p.displayName=d;function w(g){const y=i(t+"CollectionConsumer",g);return W.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,C)=>x.indexOf(k.ref.current)-x.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,r]}var l9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=l9.reduce((t,e)=>{const n=yu(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function L2(t,e){t&&$l.flushSync(()=>t.dispatchEvent(e))}function is(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function c9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var u9="DismissableLayer",L_="dismissableLayer.update",d9="dismissableLayer.pointerDownOutside",h9="dismissableLayer.focusOutside",wP,V2=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Df=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(V2),[d,h]=b.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),w=Be(e,C=>h(C)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(y),v=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,T=v>=_,I=p9(C=>{const E=C.target,A=[...u.branches].some(R=>R.contains(E));!T||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),k=m9(C=>{const E=C.target;[...u.branches].some(R=>R.contains(E))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return c9(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wP=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_P(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wP)}},[d,f,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_P())},[d,u]),b.useEffect(()=>{const C=()=>p({});return document.addEventListener(L_,C),()=>document.removeEventListener(L_,C)},[]),c.jsx(xe.div,{...l,ref:w,style:{pointerEvents:x?T?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,k.onFocusCapture),onBlurCapture:me(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,I.onPointerDownCapture)})});Df.displayName=u9;var f9="DismissableLayerBranch",F2=b.forwardRef((t,e)=>{const n=b.useContext(V2),r=b.useRef(null),s=Be(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(xe.div,{...t,ref:s})});F2.displayName=f9;function p9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){U2(d9,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function m9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&U2(h9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _P(){const t=new CustomEvent(L_);document.dispatchEvent(t)}function U2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?L2(s,i):s.dispatchEvent(i)}var g9=Df,y9=F2,sn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},v9="Portal",Fy=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);sn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?j2.createPortal(c.jsx(xe.div,{...r,ref:e}),o):null});Fy.displayName=v9;function w9(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var ga=t=>{const{present:e,children:n}=t,r=_9(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Be(r.ref,x9(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};ga.displayName="Presence";function _9(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=w9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Mp(r.current);i.current=a==="mounted"?u:"none"},[a]),sn(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,p=Mp(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),sn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=Mp(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(i.current=Mp(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Mp(t){return(t==null?void 0:t.animationName)||"none"}function x9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b9=Hb[" useInsertionEffect ".trim().toString()]||sn;function oi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=S9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=b.useCallback(d=>{var h;if(a){const f=E9(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,u]}function S9({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return b9(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function E9(t){return typeof t=="function"}var $2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),T9="VisuallyHidden",Uy=b.forwardRef((t,e)=>c.jsx(xe.span,{...t,ref:e,style:{...$2,...t.style}}));Uy.displayName=T9;var C9=Uy,L1="ToastProvider",[V1,P9,A9]=Vy("Toast"),[B2,Zde]=os("Toast",[A9]),[I9,$y]=B2(L1),z2=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${L1}\`. Expected non-empty \`string\`.`),c.jsx(V1.Provider,{scope:e,children:c.jsx(I9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};z2.displayName=L1;var q2="ToastViewport",N9=["F8"],V_="toast.viewportPause",F_="toast.viewportResume",W2=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=N9,label:s="Notifications ({hotkey})",...i}=t,o=$y(q2,n),a=P9(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=Be(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;b.useEffect(()=>{const y=_=>{var x;r.length!==0&&r.every(T=>_[T]||_.code===T)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),b.useEffect(()=>{const y=l.current,_=h.current;if(w&&y&&_){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(V_);_.dispatchEvent(k),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(F_);_.dispatchEvent(k),o.isClosePausedRef.current=!1}},T=k=>{!y.contains(k.relatedTarget)&&x()},I=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",v),y.addEventListener("focusout",T),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",I),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",T),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",I),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:y})=>{const v=a().map(x=>{const T=x.ref.current,I=[T,...z9(T)];return y==="forwards"?I:I.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return b.useEffect(()=>{const y=h.current;if(y){const _=v=>{var I,k,C;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const E=document.activeElement,A=v.shiftKey;if(v.target===y&&A){(I=u.current)==null||I.focus();return}const N=g({tabbingDirection:A?"backwards":"forwards"}),O=N.findIndex(V=>V===E);M0(N.slice(O+1))?v.preventDefault():A?(k=u.current)==null||k.focus():(C=d.current)==null||C.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[a,g]),c.jsxs(y9,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&c.jsx(U_,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});M0(y)}}),c.jsx(V1.Slot,{scope:n,children:c.jsx(xe.ol,{tabIndex:-1,...i,ref:f})}),w&&c.jsx(U_,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});M0(y)}})]})});W2.displayName=q2;var H2="ToastFocusProxy",U_=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$y(H2,n);return c.jsx(Uy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});U_.displayName=H2;var Mf="Toast",k9="toast.swipeStart",R9="toast.swipeMove",j9="toast.swipeCancel",O9="toast.swipeEnd",G2=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=oi({prop:r,defaultProp:s??!0,onChange:i,caller:Mf});return c.jsx(ga,{present:n||a,children:c.jsx(L9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:is(t.onPause),onResume:is(t.onResume),onSwipeStart:me(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:me(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});G2.displayName=Mf;var[D9,M9]=B2(Mf,{onClose(){}}),L9=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...w}=t,g=$y(Mf,n),[y,_]=b.useState(null),v=Be(e,V=>_(V)),x=b.useRef(null),T=b.useRef(null),I=s||g.duration,k=b.useRef(0),C=b.useRef(I),E=b.useRef(0),{onToastAdd:A,onToastRemove:R}=g,j=is(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),N=b.useCallback(V=>{!V||V===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(j,V))},[j]);b.useEffect(()=>{const V=g.viewport;if(V){const Y=()=>{N(C.current),u==null||u()},Q=()=>{const B=new Date().getTime()-k.current;C.current=C.current-B,window.clearTimeout(E.current),l==null||l()};return V.addEventListener(V_,Q),V.addEventListener(F_,Y),()=>{V.removeEventListener(V_,Q),V.removeEventListener(F_,Y)}}},[g.viewport,I,l,u,N]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&N(I)},[i,I,g.isClosePausedRef,N]),b.useEffect(()=>(A(),()=>R()),[A,R]);const O=b.useMemo(()=>y?eO(y):null,[y]);return g.viewport?c.jsxs(c.Fragment,{children:[O&&c.jsx(V9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),c.jsx(D9,{scope:n,onClose:j,children:$l.createPortal(c.jsx(V1.ItemSlot,{scope:n,children:c.jsx(g9,{asChild:!0,onEscapeKeyDown:me(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:me(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:me(t.onPointerDown,V=>{V.button===0&&(x.current={x:V.clientX,y:V.clientY})}),onPointerMove:me(t.onPointerMove,V=>{if(!x.current)return;const Y=V.clientX-x.current.x,Q=V.clientY-x.current.y,B=!!T.current,M=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=M?F(0,Y):0,L=M?0:F(0,Q),z=V.pointerType==="touch"?10:2,te={x:q,y:L},J={originalEvent:V,delta:te};B?(T.current=te,Lp(R9,h,J,{discrete:!1})):xP(te,g.swipeDirection,z)?(T.current=te,Lp(k9,d,J,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Y)>z||Math.abs(Q)>z)&&(x.current=null)}),onPointerUp:me(t.onPointerUp,V=>{const Y=T.current,Q=V.target;if(Q.hasPointerCapture(V.pointerId)&&Q.releasePointerCapture(V.pointerId),T.current=null,x.current=null,Y){const B=V.currentTarget,M={originalEvent:V,delta:Y};xP(Y,g.swipeDirection,g.swipeThreshold)?Lp(O9,p,M,{discrete:!0}):Lp(j9,f,M,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),V9=t=>{const{__scopeToast:e,children:n,...r}=t,s=$y(Mf,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return $9(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Fy,{asChild:!0,children:c.jsx(Uy,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},F9="ToastTitle",K2=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xe.div,{...r,ref:e})});K2.displayName=F9;var U9="ToastDescription",Y2=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xe.div,{...r,ref:e})});Y2.displayName=U9;var Q2="ToastAction",X2=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(Z2,{altText:n,asChild:!0,children:c.jsx(F1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q2}\`. Expected non-empty \`string\`.`),null)});X2.displayName=Q2;var J2="ToastClose",F1=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=M9(J2,n);return c.jsx(Z2,{asChild:!0,children:c.jsx(xe.button,{type:"button",...r,ref:e,onClick:me(t.onClick,s.onClose)})})});F1.displayName=J2;var Z2=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function eO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),B9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...eO(r))}}),e}function Lp(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?L2(s,i):s.dispatchEvent(i)}var xP=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function $9(t=()=>{}){const e=is(t);sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function B9(t){return t.nodeType===t.ELEMENT_NODE}function z9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var q9=z2,tO=W2,nO=G2,rO=K2,sO=Y2,iO=X2,oO=F1;function aO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aO(t))&&(r&&(r+=" "),r+=e);return r}const bP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SP=lO,Lf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=bP(d)||bP(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...u,h,f]:u},[]);return SP(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...H9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cO("lucide",s),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(G9,{ref:i,iconNode:e,className:cO(`lucide-${W9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=he("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=he("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=he("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=he("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=he("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=he("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=he("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=he("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$1="-",gz=t=>{const e=vz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($1);return a[0]===""&&a.length!==1&&a.shift(),mO(a,e)||yz(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},mO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},CP=/^\[(.+)\]$/,yz=t=>{if(CP.test(t)){const e=CP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _z(Object.entries(t.classGroups),n).forEach(([i,o])=>{H_(o,r,i,e)}),r},H_=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:PP(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wz(s)){H_(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{H_(o,PP(e,i),n,r)})})},PP=(t,e)=>{let n=t;return e.split($1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wz=t=>t.isThemeGetter,_z=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,xz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},gO="!",bz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let y=0;y<a.length;y++){let _=a[y];if(u===0){if(_===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(d,y)),d=y+i;continue}if(_==="/"){h=y;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(gO),w=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Sz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Ez=t=>({cache:xz(t.cacheSize),parseClassName:bz(t),...gz(t)}),Tz=/\s+/,Cz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Tz);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let w=!!p,g=r(w?f.substring(0,p):f);if(!g){if(!w){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}w=!1}const y=Sz(d).join(":"),_=h?y+gO:y,v=_+g;if(i.includes(v))continue;i.push(v);const x=s(g,w);for(let T=0;T<x.length;++T){const I=x[T];i.push(_+I)}a=u+(a.length>0?" "+a:a)}return a};function Pz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yO(e))&&(r&&(r+=" "),r+=n);return r}const yO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yO(t[r]))&&(n&&(n+=" "),n+=e);return n};function Az(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=Ez(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Cz(l,n);return s(l,d),d}return function(){return i(Pz.apply(null,arguments))}}const ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iz=/^\d+\/\d+$/,Nz=new Set(["px","full","screen"]),kz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Oz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=t=>zc(t)||Nz.has(t)||Iz.test(t),to=t=>Hu(t,"length",zz),zc=t=>!!t&&!Number.isNaN(Number(t)),L0=t=>Hu(t,"number",zc),jd=t=>!!t&&Number.isInteger(Number(t)),Mz=t=>t.endsWith("%")&&zc(t.slice(0,-1)),Ne=t=>vO.test(t),no=t=>kz.test(t),Lz=new Set(["length","size","percentage"]),Vz=t=>Hu(t,Lz,wO),Fz=t=>Hu(t,"position",wO),Uz=new Set(["image","url"]),$z=t=>Hu(t,Uz,Wz),Bz=t=>Hu(t,"",qz),Od=()=>!0,Hu=(t,e,n)=>{const r=vO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zz=t=>Rz.test(t)&&!jz.test(t),wO=()=>!1,qz=t=>Oz.test(t),Wz=t=>Dz.test(t),Hz=()=>{const t=ut("colors"),e=ut("spacing"),n=ut("blur"),r=ut("brightness"),s=ut("borderColor"),i=ut("borderRadius"),o=ut("borderSpacing"),a=ut("borderWidth"),l=ut("contrast"),u=ut("grayscale"),d=ut("hueRotate"),h=ut("invert"),f=ut("gap"),p=ut("gradientColorStops"),w=ut("gradientColorStopPositions"),g=ut("inset"),y=ut("margin"),_=ut("opacity"),v=ut("padding"),x=ut("saturate"),T=ut("scale"),I=ut("sepia"),k=ut("skew"),C=ut("space"),E=ut("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ne,e],N=()=>[Ne,e],O=()=>["",mi,to],V=()=>["auto",zc,Ne],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ne],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[zc,Ne];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[mi,to],blur:["none","",no,Ne],brightness:L(),borderColor:[t],borderRadius:["none","","full",no,Ne],borderSpacing:N(),borderWidth:O(),contrast:L(),grayscale:F(),hueRotate:L(),invert:F(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Mz,to],inset:j(),margin:j(),opacity:L(),padding:N(),saturate:L(),scale:L(),sepia:F(),skew:L(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[no]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ne]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jd,Ne]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",jd,Ne]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",jd,Ne]},Ne]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[jd,Ne]},Ne]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[no]},no]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",no,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",L0]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",zc,L0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mi,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mi,to]}],"underline-offset":[{"underline-offset":["auto",mi,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Fz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$z]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[mi,Ne]}],"outline-w":[{outline:[mi,to]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[mi,to]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",no,Bz]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",no,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[jd,Ne]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mi,to,L0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gz=Az(Hz);function Ae(...t){return Gz(lO(t))}const Kz=q9,_O=b.forwardRef(({className:t,...e},n)=>c.jsx(tO,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_O.displayName=tO.displayName;const Yz=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xO=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(nO,{ref:r,className:Ae(Yz({variant:e}),t),...n}));xO.displayName=nO.displayName;const Qz=b.forwardRef(({className:t,...e},n)=>c.jsx(iO,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Qz.displayName=iO.displayName;const bO=b.forwardRef(({className:t,...e},n)=>c.jsx(oO,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Gh,{className:"h-4 w-4"})}));bO.displayName=oO.displayName;const SO=b.forwardRef(({className:t,...e},n)=>c.jsx(rO,{ref:n,className:Ae("text-sm font-semibold",t),...e}));SO.displayName=rO.displayName;const EO=b.forwardRef(({className:t,...e},n)=>c.jsx(sO,{ref:n,className:Ae("text-sm opacity-90",t),...e}));EO.displayName=sO.displayName;function Xz(){const{toasts:t}=Of();return c.jsxs(Kz,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(xO,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(SO,{children:n}),r&&c.jsx(EO,{children:r})]}),s,c.jsx(bO,{})]},e)}),c.jsx(_O,{})]})}var AP=["light","dark"],Jz="(prefers-color-scheme: dark)",Zz=b.createContext(void 0),e8={setTheme:t=>{},themes:[]},t8=()=>{var t;return(t=b.useContext(Zz))!=null?t:e8};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?AP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,g=!1,y=!0)=>{let _=o?o[w]:w,v=g?w+"|| ''":`'${_}'`,x="";return s&&y&&!g&&AP.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),n==="class"?g||_?x+=`c.add(${v})`:x+="null":_&&(x+=`d[s](n,${v})`),x},p=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Jz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var n8=t=>{switch(t){case"success":return i8;case"info":return a8;case"warning":return o8;case"error":return l8;default:return null}},r8=Array(12).fill(0),s8=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},r8.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),i8=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o8=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a8=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l8=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c8=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u8=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},G_=1,d8=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:G_++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],W.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(f8(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||G_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kn=new d8,h8=(t,e)=>{let n=(e==null?void 0:e.id)||G_++;return Kn.addToast({title:t,...e,id:n}),n},f8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",p8=h8,m8=()=>Kn.toasts,g8=()=>Kn.getActiveToasts();Object.assign(p8,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:m8,getToasts:g8});function y8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}y8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vp(t){return t.label!==void 0}var v8=3,w8="32px",_8="16px",IP=4e3,x8=356,b8=14,S8=20,E8=200;function ds(...t){return t.filter(Boolean).join(" ")}function T8(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var C8=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:f,toast:p,unstyled:w,interacting:g,setHeights:y,visibleToasts:_,heights:v,index:x,toasts:T,expanded:I,removeToast:k,defaultRichColors:C,closeButton:E,style:A,cancelButtonStyle:R,actionButtonStyle:j,className:N="",descriptionClassName:O="",duration:V,position:Y,gap:Q,loadingIcon:B,expandByDefault:M,classNames:F,icons:q,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:z}=t,[te,J]=W.useState(null),[fe,ke]=W.useState(null),[Z,Ie]=W.useState(!1),[He,de]=W.useState(!1),[be,Pe]=W.useState(!1),[De,lt]=W.useState(!1),[jn,Ge]=W.useState(!1),[Je,as]=W.useState(0),[Ze,Nt]=W.useState(0),Mr=W.useRef(p.duration||V||IP),Hl=W.useRef(null),Lr=W.useRef(null),Wv=x===0,Pa=x+1<=_,On=p.type,fi=p.dismissible!==!1,dd=p.className||"",Hv=p.descriptionClassName||"",Gl=W.useMemo(()=>v.findIndex(ye=>ye.toastId===p.id)||0,[v,p.id]),op=W.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:E},[p.closeButton,E]),hd=W.useMemo(()=>p.duration||V||IP,[p.duration,V]),pi=W.useRef(0),js=W.useRef(0),Kl=W.useRef(0),Hn=W.useRef(null),[ap,Yl]=Y.split("-"),fd=W.useMemo(()=>v.reduce((ye,Ke,st)=>st>=Gl?ye:ye+Ke.height,0),[v,Gl]),Gi=u8(),lp=p.invert||f,Ht=On==="loading";js.current=W.useMemo(()=>Gl*Q+fd,[Gl,fd]),W.useEffect(()=>{Mr.current=hd},[hd]),W.useEffect(()=>{Ie(!0)},[]),W.useEffect(()=>{let ye=Lr.current;if(ye){let Ke=ye.getBoundingClientRect().height;return Nt(Ke),y(st=>[{toastId:p.id,height:Ke,position:p.position},...st]),()=>y(st=>st.filter(Zt=>Zt.toastId!==p.id))}},[y,p.id]),W.useLayoutEffect(()=>{if(!Z)return;let ye=Lr.current,Ke=ye.style.height;ye.style.height="auto";let st=ye.getBoundingClientRect().height;ye.style.height=Ke,Nt(st),y(Zt=>Zt.find(hr=>hr.toastId===p.id)?Zt.map(hr=>hr.toastId===p.id?{...hr,height:st}:hr):[{toastId:p.id,height:st,position:p.position},...Zt])},[Z,p.title,p.description,y,p.id]);let ls=W.useCallback(()=>{de(!0),as(js.current),y(ye=>ye.filter(Ke=>Ke.toastId!==p.id)),setTimeout(()=>{k(p)},E8)},[p,k,y,js]);W.useEffect(()=>{if(p.promise&&On==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return I||g||z&&Gi?(()=>{if(Kl.current<pi.current){let Ke=new Date().getTime()-pi.current;Mr.current=Mr.current-Ke}Kl.current=new Date().getTime()})():Mr.current!==1/0&&(pi.current=new Date().getTime(),ye=setTimeout(()=>{var Ke;(Ke=p.onAutoClose)==null||Ke.call(p,p),ls()},Mr.current)),()=>clearTimeout(ye)},[I,g,p,On,z,Gi,ls]),W.useEffect(()=>{p.delete&&ls()},[ls,p.delete]);function Aa(){var ye,Ke,st;return q!=null&&q.loading?W.createElement("div",{className:ds(F==null?void 0:F.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":On==="loading"},q.loading):B?W.createElement("div",{className:ds(F==null?void 0:F.loader,(Ke=p==null?void 0:p.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":On==="loading"},B):W.createElement(s8,{className:ds(F==null?void 0:F.loader,(st=p==null?void 0:p.classNames)==null?void 0:st.loader),visible:On==="loading"})}return W.createElement("li",{tabIndex:0,ref:Lr,className:ds(N,dd,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[On],(n=p==null?void 0:p.classNames)==null?void 0:n[On]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Z,"data-promise":!!p.promise,"data-swiped":jn,"data-removed":He,"data-visible":Pa,"data-y-position":ap,"data-x-position":Yl,"data-index":x,"data-front":Wv,"data-swiping":be,"data-dismissible":fi,"data-type":On,"data-invert":lp,"data-swipe-out":De,"data-swipe-direction":fe,"data-expanded":!!(I||M&&Z),style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${He?Je:js.current}px`,"--initial-height":M?"auto":`${Ze}px`,...A,...p.style},onDragEnd:()=>{Pe(!1),J(null),Hn.current=null},onPointerDown:ye=>{Ht||!fi||(Hl.current=new Date,as(js.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(Pe(!0),Hn.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Ke,st,Zt;if(De||!fi)return;Hn.current=null;let hr=Number(((ye=Lr.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Os=Number(((Ke=Lr.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vr=new Date().getTime()-((st=Hl.current)==null?void 0:st.getTime()),Gn=te==="x"?hr:Os,cs=Math.abs(Gn)/Vr;if(Math.abs(Gn)>=S8||cs>.11){as(js.current),(Zt=p.onDismiss)==null||Zt.call(p,p),ke(te==="x"?hr>0?"right":"left":Os>0?"down":"up"),ls(),lt(!0),Ge(!1);return}Pe(!1),J(null)},onPointerMove:ye=>{var Ke,st,Zt,hr;if(!Hn.current||!fi||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;let Os=ye.clientY-Hn.current.y,Vr=ye.clientX-Hn.current.x,Gn=(st=t.swipeDirections)!=null?st:T8(Y);!te&&(Math.abs(Vr)>1||Math.abs(Os)>1)&&J(Math.abs(Vr)>Math.abs(Os)?"x":"y");let cs={x:0,y:0};te==="y"?(Gn.includes("top")||Gn.includes("bottom"))&&(Gn.includes("top")&&Os<0||Gn.includes("bottom")&&Os>0)&&(cs.y=Os):te==="x"&&(Gn.includes("left")||Gn.includes("right"))&&(Gn.includes("left")&&Vr<0||Gn.includes("right")&&Vr>0)&&(cs.x=Vr),(Math.abs(cs.x)>0||Math.abs(cs.y)>0)&&Ge(!0),(Zt=Lr.current)==null||Zt.style.setProperty("--swipe-amount-x",`${cs.x}px`),(hr=Lr.current)==null||hr.style.setProperty("--swipe-amount-y",`${cs.y}px`)}},op&&!p.jsx?W.createElement("button",{"aria-label":L,"data-disabled":Ht,"data-close-button":!0,onClick:Ht||!fi?()=>{}:()=>{var ye;ls(),(ye=p.onDismiss)==null||ye.call(p,p)},className:ds(F==null?void 0:F.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:c8):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,On||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:ds(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Aa():null,p.type!=="loading"?p.icon||(q==null?void 0:q[On])||n8(On):null):null,W.createElement("div",{"data-content":"",className:ds(F==null?void 0:F.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:ds(F==null?void 0:F.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:ds(O,Hv,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&Vp(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:ye=>{var Ke,st;Vp(p.cancel)&&fi&&((st=(Ke=p.cancel).onClick)==null||st.call(Ke,ye),ls())},className:ds(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&Vp(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||j,onClick:ye=>{var Ke,st;Vp(p.action)&&((st=(Ke=p.action).onClick)==null||st.call(Ke,ye),!ye.defaultPrevented&&ls())},className:ds(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function NP(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function P8(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?_8:w8;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var A8=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:w=v8,toastOptions:g,dir:y=NP(),gap:_=b8,loadingIcon:v,icons:x,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:I}=t,[k,C]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([r].concat(k.filter(z=>z.position).map(z=>z.position)))),[k,r]),[A,R]=W.useState([]),[j,N]=W.useState(!1),[O,V]=W.useState(!1),[Y,Q]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=W.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=W.useRef(null),q=W.useRef(!1),L=W.useCallback(z=>{C(te=>{var J;return(J=te.find(fe=>fe.id===z.id))!=null&&J.delete||Kn.dismiss(z.id),te.filter(({id:fe})=>fe!==z.id)})},[]);return W.useEffect(()=>Kn.subscribe(z=>{if(z.dismiss){C(te=>te.map(J=>J.id===z.id?{...J,delete:!0}:J));return}setTimeout(()=>{j2.flushSync(()=>{C(te=>{let J=te.findIndex(fe=>fe.id===z.id);return J!==-1?[...te.slice(0,J),{...te[J],...z},...te.slice(J+1)]:[z,...te]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:te})=>{Q(te?"dark":"light")})}catch{z.addListener(({matches:J})=>{try{Q(J?"dark":"light")}catch(fe){console.error(fe)}})}},[d]),W.useEffect(()=>{k.length<=1&&N(!1)},[k]),W.useEffect(()=>{let z=te=>{var J,fe;s.every(ke=>te[ke]||te.code===ke)&&(N(!0),(J=B.current)==null||J.focus()),te.code==="Escape"&&(document.activeElement===B.current||(fe=B.current)!=null&&fe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),W.useEffect(()=>{if(B.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,q.current=!1)}},[B.current]),W.createElement("section",{ref:e,"aria-label":`${T} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((z,te)=>{var J;let[fe,ke]=z.split("-");return k.length?W.createElement("ol",{key:z,dir:y==="auto"?NP():y,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":fe,"data-lifted":j&&k.length>1&&!i,"data-x-position":ke,style:{"--front-toast-height":`${((J=A[0])==null?void 0:J.height)||0}px`,"--width":`${x8}px`,"--gap":`${_}px`,...p,...P8(l,u)},onBlur:Z=>{q.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||q.current||(q.current=!0,F.current=Z.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{O||N(!1)},onDragEnd:()=>N(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(Z=>!Z.position&&te===0||Z.position===z).map((Z,Ie)=>{var He,de;return W.createElement(C8,{key:Z.id,icons:x,index:Ie,toast:Z,defaultRichColors:h,duration:(He=g==null?void 0:g.duration)!=null?He:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:o,interacting:O,position:z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:L,toasts:k.filter(be=>be.position==Z.position),heights:A.filter(be=>be.position==Z.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:v,expanded:j,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const I8=({...t})=>{const{theme:e="system"}=t8();return c.jsx(A8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var N8=Hb[" useId ".trim().toString()]||(()=>{}),k8=0;function Ai(t){const[e,n]=b.useState(N8());return sn(()=>{n(r=>r??String(k8++))},[t]),e?`radix-${e}`:""}const R8=["top","right","bottom","left"],ea=Math.min,wr=Math.max,Ag=Math.round,Fp=Math.floor,Xs=t=>({x:t,y:t}),j8={left:"right",right:"left",bottom:"top",top:"bottom"},O8={start:"end",end:"start"};function K_(t,e,n){return wr(t,ea(e,n))}function Oi(t,e){return typeof t=="function"?t(e):t}function Di(t){return t.split("-")[0]}function Gu(t){return t.split("-")[1]}function B1(t){return t==="x"?"y":"x"}function z1(t){return t==="y"?"height":"width"}const D8=new Set(["top","bottom"]);function Gs(t){return D8.has(Di(t))?"y":"x"}function q1(t){return B1(Gs(t))}function M8(t,e,n){n===void 0&&(n=!1);const r=Gu(t),s=q1(t),i=z1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ig(o)),[o,Ig(o)]}function L8(t){const e=Ig(t);return[Y_(t),e,Y_(e)]}function Y_(t){return t.replace(/start|end/g,e=>O8[e])}const kP=["left","right"],RP=["right","left"],V8=["top","bottom"],F8=["bottom","top"];function U8(t,e,n){switch(t){case"top":case"bottom":return n?e?RP:kP:e?kP:RP;case"left":case"right":return e?V8:F8;default:return[]}}function $8(t,e,n,r){const s=Gu(t);let i=U8(Di(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Y_)))),i}function Ig(t){return t.replace(/left|right|bottom|top/g,e=>j8[e])}function B8(t){return{top:0,right:0,bottom:0,left:0,...t}}function TO(t){return typeof t!="number"?B8(t):{top:t,right:t,bottom:t,left:t}}function Ng(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function jP(t,e,n){let{reference:r,floating:s}=t;const i=Gs(e),o=q1(e),a=z1(o),l=Di(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Gu(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const z8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=jP(u,r,l),f=r,p={},w=0;for(let g=0;g<a.length;g++){const{name:y,fn:_}=a[g],{x:v,y:x,data:T,reset:I}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=x??h,p={...p,[y]:{...p[y],...T}},I&&w<=50&&(w++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:d,y:h}=jP(u,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Kh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Oi(e,t),w=TO(p),y=a[f?h==="floating"?"reference":"floating":h],_=Ng(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},I=Ng(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(_.top-I.top+w.top)/T.y,bottom:(I.bottom-_.bottom+w.bottom)/T.y,left:(_.left-I.left+w.left)/T.x,right:(I.right-_.right+w.right)/T.x}}const q8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Oi(t,e)||{};if(u==null)return{};const h=TO(d),f={x:n,y:r},p=q1(s),w=z1(p),g=await o.getDimensions(u),y=p==="y",_=y?"top":"left",v=y?"bottom":"right",x=y?"clientHeight":"clientWidth",T=i.reference[w]+i.reference[p]-f[p]-i.floating[w],I=f[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=k?k[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(k)))&&(C=a.floating[x]||i.floating[w]);const E=T/2-I/2,A=C/2-g[w]/2-1,R=ea(h[_],A),j=ea(h[v],A),N=R,O=C-g[w]-j,V=C/2-g[w]/2+E,Y=K_(N,V,O),Q=!l.arrow&&Gu(s)!=null&&V!==Y&&i.reference[w]/2-(V<N?R:j)-g[w]/2<0,B=Q?V<N?V-N:V-O:0;return{[p]:f[p]+B,data:{[p]:Y,centerOffset:V-Y-B,...Q&&{alignmentOffset:B}},reset:Q}}}),W8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...y}=Oi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Di(s),v=Gs(a),x=Di(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),I=f||(x||!g?[Ig(a)]:L8(a)),k=w!=="none";!f&&k&&I.push(...$8(a,g,w,T));const C=[a,...I],E=await Kh(e,y),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(E[_]),h){const V=M8(s,o,T);A.push(E[V[0]],E[V[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(V=>V<=0)){var j,N;const V=(((j=i.flip)==null?void 0:j.index)||0)+1,Y=C[V];if(Y&&(!(h==="alignment"?v!==Gs(Y):!1)||R.every(M=>M.overflows[0]>0&&Gs(M.placement)===v)))return{data:{index:V,overflows:R},reset:{placement:Y}};let Q=(N=R.filter(B=>B.overflows[0]<=0).sort((B,M)=>B.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!Q)switch(p){case"bestFit":{var O;const B=(O=R.filter(M=>{if(k){const F=Gs(M.placement);return F===v||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:O[0];B&&(Q=B);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function OP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DP(t){return R8.some(e=>t[e]>=0)}const H8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Oi(t,e);switch(r){case"referenceHidden":{const i=await Kh(e,{...s,elementContext:"reference"}),o=OP(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DP(o)}}}case"escaped":{const i=await Kh(e,{...s,altBoundary:!0}),o=OP(i,n.floating);return{data:{escapedOffsets:o,escaped:DP(o)}}}default:return{}}}}},CO=new Set(["left","top"]);async function G8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Di(n),a=Gu(n),l=Gs(n)==="y",u=CO.has(o)?-1:1,d=i&&l?-1:1,h=Oi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const K8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await G8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Y8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:v}=y;return{x:_,y:v}}},...l}=Oi(t,e),u={x:n,y:r},d=await Kh(e,l),h=Gs(Di(s)),f=B1(h);let p=u[f],w=u[h];if(i){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=p+d[y],x=p-d[_];p=K_(v,p,x)}if(o){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=w+d[y],x=w-d[_];w=K_(v,w,x)}const g=a.fn({...e,[f]:p,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},Q8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Oi(t,e),d={x:n,y:r},h=Gs(s),f=B1(h);let p=d[f],w=d[h];const g=Oi(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",T=i.reference[f]-i.floating[x]+y.mainAxis,I=i.reference[f]+i.reference[x]-y.mainAxis;p<T?p=T:p>I&&(p=I)}if(u){var _,v;const x=f==="y"?"width":"height",T=CO.has(Di(s)),I=i.reference[h]-i.floating[x]+(T&&((_=o.offset)==null?void 0:_[h])||0)+(T?0:y.crossAxis),k=i.reference[h]+i.reference[x]+(T?0:((v=o.offset)==null?void 0:v[h])||0)-(T?y.crossAxis:0);w<I?w=I:w>k&&(w=k)}return{[f]:p,[h]:w}}}},X8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Oi(t,e),d=await Kh(e,u),h=Di(s),f=Gu(s),p=Gs(s)==="y",{width:w,height:g}=i.floating;let y,_;h==="top"||h==="bottom"?(y=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,y=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=w-d.left-d.right,T=ea(g-d[y],v),I=ea(w-d[_],x),k=!e.middlewareData.shift;let C=T,E=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),k&&!f){const R=wr(d.left,0),j=wr(d.right,0),N=wr(d.top,0),O=wr(d.bottom,0);p?E=w-2*(R!==0||j!==0?R+j:wr(d.left,d.right)):C=g-2*(N!==0||O!==0?N+O:wr(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:C});const A=await o.getDimensions(a.floating);return w!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function zy(){return typeof window<"u"}function Ku(t){return PO(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ui(t){var e;return(e=(PO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PO(t){return zy()?t instanceof Node||t instanceof Ar(t).Node:!1}function As(t){return zy()?t instanceof Element||t instanceof Ar(t).Element:!1}function ai(t){return zy()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function MP(t){return!zy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const J8=new Set(["inline","contents"]);function Ff(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Is(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!J8.has(s)}const Z8=new Set(["table","td","th"]);function eq(t){return Z8.has(Ku(t))}const tq=[":popover-open",":modal"];function qy(t){return tq.some(e=>{try{return t.matches(e)}catch{return!1}})}const nq=["transform","translate","scale","rotate","perspective"],rq=["transform","translate","scale","rotate","perspective","filter"],sq=["paint","layout","strict","content"];function W1(t){const e=H1(),n=As(t)?Is(t):t;return nq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rq.some(r=>(n.willChange||"").includes(r))||sq.some(r=>(n.contain||"").includes(r))}function iq(t){let e=ta(t);for(;ai(e)&&!xu(e);){if(W1(e))return e;if(qy(e))return null;e=ta(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oq=new Set(["html","body","#document"]);function xu(t){return oq.has(Ku(t))}function Is(t){return Ar(t).getComputedStyle(t)}function Wy(t){return As(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ta(t){if(Ku(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MP(t)&&t.host||ui(t);return MP(e)?e.host:e}function AO(t){const e=ta(t);return xu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ai(e)&&Ff(e)?e:AO(e)}function Yh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=AO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ar(s);if(i){const a=Q_(o);return e.concat(o,o.visualViewport||[],Ff(s)?s:[],a&&n?Yh(a):[])}return e.concat(s,Yh(s,[],n))}function Q_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IO(t){const e=Is(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ai(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ag(n)!==i||Ag(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function G1(t){return As(t)?t:t.contextElement}function qc(t){const e=G1(t);if(!ai(e))return Xs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=IO(e);let o=(i?Ag(n.width):n.width)/r,a=(i?Ag(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aq=Xs(0);function NO(t){const e=Ar(t);return!H1()||!e.visualViewport?aq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function Al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=G1(t);let o=Xs(1);e&&(r?As(r)&&(o=qc(r)):o=qc(t));const a=lq(i,n,r)?NO(i):Xs(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Ar(i),p=r&&As(r)?Ar(r):r;let w=f,g=Q_(w);for(;g&&r&&p!==w;){const y=qc(g),_=g.getBoundingClientRect(),v=Is(g),x=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,T=_.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,h*=y.y,l+=x,u+=T,w=Ar(g),g=Q_(w)}}return Ng({width:d,height:h,x:l,y:u})}function K1(t,e){const n=Wy(t).scrollLeft;return e?e.left+n:Al(ui(t)).left+n}function kO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:K1(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function cq(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ui(r),a=e?qy(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Xs(1);const d=Xs(0),h=ai(r);if((h||!h&&!i)&&((Ku(r)!=="body"||Ff(o))&&(l=Wy(r)),ai(r))){const p=Al(r);u=qc(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?kO(o,l,!0):Xs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function uq(t){return Array.from(t.getClientRects())}function dq(t){const e=ui(t),n=Wy(t),r=t.ownerDocument.body,s=wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+K1(t);const a=-n.scrollTop;return Is(r).direction==="rtl"&&(o+=wr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function hq(t,e){const n=Ar(t),r=ui(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=H1();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const fq=new Set(["absolute","fixed"]);function pq(t,e){const n=Al(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ai(t)?qc(t):Xs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function LP(t,e,n){let r;if(e==="viewport")r=hq(t,n);else if(e==="document")r=dq(ui(t));else if(As(e))r=pq(e,n);else{const s=NO(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ng(r)}function RO(t,e){const n=ta(t);return n===e||!As(n)||xu(n)?!1:Is(n).position==="fixed"||RO(n,e)}function mq(t,e){const n=e.get(t);if(n)return n;let r=Yh(t,[],!1).filter(a=>As(a)&&Ku(a)!=="body"),s=null;const i=Is(t).position==="fixed";let o=i?ta(t):t;for(;As(o)&&!xu(o);){const a=Is(o),l=W1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&fq.has(s.position)||Ff(o)&&!l&&RO(t,o))?r=r.filter(d=>d!==o):s=a,o=ta(o)}return e.set(t,r),r}function gq(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?qy(e)?[]:mq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=LP(e,d,s);return u.top=wr(h.top,u.top),u.right=ea(h.right,u.right),u.bottom=ea(h.bottom,u.bottom),u.left=wr(h.left,u.left),u},LP(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yq(t){const{width:e,height:n}=IO(t);return{width:e,height:n}}function vq(t,e,n){const r=ai(e),s=ui(e),i=n==="fixed",o=Al(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Xs(0);function u(){l.x=K1(s)}if(r||!r&&!i)if((Ku(e)!=="body"||Ff(s))&&(a=Wy(e)),r){const p=Al(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?kO(s,a):Xs(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function V0(t){return Is(t).position==="static"}function VP(t,e){if(!ai(t)||Is(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ui(t)===n&&(n=n.ownerDocument.body),n}function jO(t,e){const n=Ar(t);if(qy(t))return n;if(!ai(t)){let s=ta(t);for(;s&&!xu(s);){if(As(s)&&!V0(s))return s;s=ta(s)}return n}let r=VP(t,e);for(;r&&eq(r)&&V0(r);)r=VP(r,e);return r&&xu(r)&&V0(r)&&!W1(r)?n:r||iq(t)||n}const wq=async function(t){const e=this.getOffsetParent||jO,n=this.getDimensions,r=await n(t.floating);return{reference:vq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _q(t){return Is(t).direction==="rtl"}const xq={convertOffsetParentRelativeRectToViewportRelativeRect:cq,getDocumentElement:ui,getClippingRect:gq,getOffsetParent:jO,getElementRects:wq,getClientRects:uq,getDimensions:yq,getScale:qc,isElement:As,isRTL:_q};function OO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bq(t,e){let n=null,r;const s=ui(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const w=Fp(h),g=Fp(s.clientWidth-(d+f)),y=Fp(s.clientHeight-(h+p)),_=Fp(d),x={rootMargin:-w+"px "+-g+"px "+-y+"px "+-_+"px",threshold:wr(0,ea(1,l))||1};let T=!0;function I(k){const C=k[0].intersectionRatio;if(C!==l){if(!T)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!OO(u,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(I,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,x)}n.observe(t)}return o(!0),i}function Sq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=G1(t),d=s||i?[...u?Yh(u):[],...Yh(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&a?bq(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let w,g=l?Al(t):null;l&&y();function y(){const _=Al(t);g&&!OO(g,_)&&n(),g=_,w=requestAnimationFrame(y)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(w)}}const Eq=K8,Tq=Y8,Cq=W8,Pq=X8,Aq=H8,FP=q8,Iq=Q8,Nq=(t,e,n)=>{const r=new Map,s={platform:xq,...n},i={...s.platform,_c:r};return z8(t,e,{...s,platform:i})};var kq=typeof document<"u",Rq=function(){},Am=kq?b.useLayoutEffect:Rq;function kg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function DO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UP(t,e){const n=DO(t);return Math.round(e*n)/n}function F0(t){const e=b.useRef(t);return Am(()=>{e.current=t}),e}function jq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);kg(f,r)||p(r);const[w,g]=b.useState(null),[y,_]=b.useState(null),v=b.useCallback(M=>{M!==k.current&&(k.current=M,g(M))},[]),x=b.useCallback(M=>{M!==C.current&&(C.current=M,_(M))},[]),T=i||w,I=o||y,k=b.useRef(null),C=b.useRef(null),E=b.useRef(d),A=l!=null,R=F0(l),j=F0(s),N=F0(u),O=b.useCallback(()=>{if(!k.current||!C.current)return;const M={placement:e,strategy:n,middleware:f};j.current&&(M.platform=j.current),Nq(k.current,C.current,M).then(F=>{const q={...F,isPositioned:N.current!==!1};V.current&&!kg(E.current,q)&&(E.current=q,$l.flushSync(()=>{h(q)}))})},[f,e,n,j,N]);Am(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const V=b.useRef(!1);Am(()=>(V.current=!0,()=>{V.current=!1}),[]),Am(()=>{if(T&&(k.current=T),I&&(C.current=I),T&&I){if(R.current)return R.current(T,I,O);O()}},[T,I,O,R,A]);const Y=b.useMemo(()=>({reference:k,floating:C,setReference:v,setFloating:x}),[v,x]),Q=b.useMemo(()=>({reference:T,floating:I}),[T,I]),B=b.useMemo(()=>{const M={position:n,left:0,top:0};if(!Q.floating)return M;const F=UP(Q.floating,d.x),q=UP(Q.floating,d.y);return a?{...M,transform:"translate("+F+"px, "+q+"px)",...DO(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,a,Q.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:Y,elements:Q,floatingStyles:B}),[d,O,Y,Q,B])}const Oq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?FP({element:r.current,padding:s}).fn(n):{}:r?FP({element:r,padding:s}).fn(n):{}}}},Dq=(t,e)=>({...Eq(t),options:[t,e]}),Mq=(t,e)=>({...Tq(t),options:[t,e]}),Lq=(t,e)=>({...Iq(t),options:[t,e]}),Vq=(t,e)=>({...Cq(t),options:[t,e]}),Fq=(t,e)=>({...Pq(t),options:[t,e]}),Uq=(t,e)=>({...Aq(t),options:[t,e]}),$q=(t,e)=>({...Oq(t),options:[t,e]});var Bq="Arrow",MO=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});MO.displayName=Bq;var zq=MO;function Y1(t){const[e,n]=b.useState(void 0);return sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Q1="Popper",[LO,Hy]=os(Q1),[qq,VO]=LO(Q1),FO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return c.jsx(qq,{scope:e,anchor:r,onAnchorChange:s,children:n})};FO.displayName=Q1;var UO="PopperAnchor",$O=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=VO(UO,n),o=b.useRef(null),a=Be(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(xe.div,{...s,ref:a})});$O.displayName=UO;var X1="PopperContent",[Wq,Hq]=LO(X1),BO=b.forwardRef((t,e)=>{var Z,Ie,He,de,be,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=t,y=VO(X1,n),[_,v]=b.useState(null),x=Be(e,De=>v(De)),[T,I]=b.useState(null),k=Y1(T),C=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],N=j.length>0,O={padding:R,boundary:j.filter(Kq),altBoundary:N},{refs:V,floatingStyles:Y,placement:Q,isPositioned:B,middlewareData:M}=jq({strategy:"fixed",placement:A,whileElementsMounted:(...De)=>Sq(...De,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Dq({mainAxis:s+E,alignmentAxis:o}),l&&Mq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Lq():void 0,...O}),l&&Vq({...O}),Fq({...O,apply:({elements:De,rects:lt,availableWidth:jn,availableHeight:Ge})=>{const{width:Je,height:as}=lt.reference,Ze=De.floating.style;Ze.setProperty("--radix-popper-available-width",`${jn}px`),Ze.setProperty("--radix-popper-available-height",`${Ge}px`),Ze.setProperty("--radix-popper-anchor-width",`${Je}px`),Ze.setProperty("--radix-popper-anchor-height",`${as}px`)}}),T&&$q({element:T,padding:a}),Yq({arrowWidth:C,arrowHeight:E}),f&&Uq({strategy:"referenceHidden",...O})]}),[F,q]=WO(Q),L=is(w);sn(()=>{B&&(L==null||L())},[B,L]);const z=(Z=M.arrow)==null?void 0:Z.x,te=(Ie=M.arrow)==null?void 0:Ie.y,J=((He=M.arrow)==null?void 0:He.centerOffset)!==0,[fe,ke]=b.useState();return sn(()=>{_&&ke(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:B?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(de=M.transformOrigin)==null?void 0:de.x,(be=M.transformOrigin)==null?void 0:be.y].join(" "),...((Pe=M.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Wq,{scope:n,placedSide:F,onArrowChange:I,arrowX:z,arrowY:te,shouldHideArrow:J,children:c.jsx(xe.div,{"data-side":F,"data-align":q,...g,ref:x,style:{...g.style,animation:B?void 0:"none"}})})})});BO.displayName=X1;var zO="PopperArrow",Gq={top:"bottom",right:"left",bottom:"top",left:"right"},qO=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Hq(zO,r),o=Gq[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(zq,{...s,ref:n,style:{...s.style,display:"block"}})})});qO.displayName=zO;function Kq(t){return t!==null}var Yq=t=>({name:"transformOrigin",options:t,fn(e){var y,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=WO(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",g="";return u==="bottom"?(w=o?h:`${f}px`,g=`${-l}px`):u==="top"?(w=o?h:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,g=o?h:`${p}px`):u==="left"&&(w=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:w,y:g}}}});function WO(t){const[e,n="center"]=t.split("-");return[e,n]}var Qq=FO,HO=$O,GO=BO,KO=qO,[Gy,the]=os("Tooltip",[Hy]),J1=Hy(),YO="TooltipProvider",Xq=700,$P="tooltip.open",[Jq,QO]=Gy(YO),XO=t=>{const{__scopeTooltip:e,delayDuration:n=Xq,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(Jq,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};XO.displayName=YO;var JO="Tooltip",[nhe,Ky]=Gy(JO),X_="TooltipTrigger",Zq=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ky(X_,n),i=QO(X_,n),o=J1(n),a=b.useRef(null),l=Be(e,a,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(HO,{asChild:!0,...o,children:c.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:me(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:me(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(t.onBlur,s.onClose),onClick:me(t.onClick,s.onClose)})})});Zq.displayName=X_;var e7="TooltipPortal",[rhe,t7]=Gy(e7,{forceMount:void 0}),bu="TooltipContent",ZO=b.forwardRef((t,e)=>{const n=t7(bu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ky(bu,t.__scopeTooltip);return c.jsx(ga,{present:r||o.open,children:o.disableHoverableContent?c.jsx(eD,{side:s,...i,ref:e}):c.jsx(n7,{side:s,...i,ref:e})})}),n7=b.forwardRef((t,e)=>{const n=Ky(bu,t.__scopeTooltip),r=QO(bu,t.__scopeTooltip),s=b.useRef(null),i=Be(e,s),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=b.useCallback(()=>{a(null),h(!1)},[h]),p=b.useCallback((w,g)=>{const y=w.currentTarget,_={x:w.clientX,y:w.clientY},v=a7(_,y.getBoundingClientRect()),x=l7(_,v),T=c7(g.getBoundingClientRect()),I=d7([...x,...T]);a(I),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(l&&d){const w=y=>p(y,d),g=y=>p(y,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),b.useEffect(()=>{if(o){const w=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),x=!u7(_,o);v?f():x&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,u,f]),c.jsx(eD,{...t,ref:i})}),[r7,s7]=Gy(JO,{isInside:!1}),i7=s9("TooltipContent"),eD=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ky(bu,n),u=J1(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener($P,d),()=>document.removeEventListener($P,d)),[d]),b.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(GO,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(i7,{children:r}),c.jsx(r7,{scope:n,isInside:!0,children:c.jsx(C9,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ZO.displayName=bu;var tD="TooltipArrow",o7=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=J1(n);return s7(tD,n).isInside?null:c.jsx(KO,{...s,...r,ref:e})});o7.displayName=tD;function a7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function l7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c7(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function u7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function d7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h7(e)}function h7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var f7=XO,nD=ZO;const p7=f7,m7=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(nD,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));m7.displayName=nD.displayName;var Yy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qy=typeof window>"u"||"Deno"in globalThis;function gs(){}function g7(t,e){return typeof t=="function"?t(e):t}function y7(t){return typeof t=="number"&&t>=0&&t!==1/0}function v7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function J_(t,e){return typeof t=="function"?t(e):t}function w7(t,e){return typeof t=="function"?t(e):t}function BP(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Z1(o,e.options))return!1}else if(!Xh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function zP(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qh(e.options.mutationKey)!==Qh(i))return!1}else if(!Xh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Z1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qh)(t)}function Qh(t){return JSON.stringify(t,(e,n)=>Z_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xh(t[n],e[n])):!1}function rD(t,e){if(t===e)return t;const n=qP(t)&&qP(e);if(n||Z_(t)&&Z_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=rD(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function qP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z_(t){if(!WP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WP(t){return Object.prototype.toString.call(t)==="[object Object]"}function _7(t){return new Promise(e=>{setTimeout(e,t)})}function x7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rD(t,e):e}function b7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function S7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var eS=Symbol();function sD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===eS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var il,xo,nu,hR,E7=(hR=class extends Yy{constructor(){super();ze(this,il);ze(this,xo);ze(this,nu);Ce(this,nu,e=>{if(!Qy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,xo)||this.setEventListener(G(this,nu))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,xo))==null||e.call(this),Ce(this,xo,void 0))}setEventListener(e){var n;Ce(this,nu,e),(n=G(this,xo))==null||n.call(this),Ce(this,xo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){G(this,il)!==e&&(Ce(this,il,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof G(this,il)=="boolean"?G(this,il):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},il=new WeakMap,xo=new WeakMap,nu=new WeakMap,hR),iD=new E7,ru,bo,su,fR,T7=(fR=class extends Yy{constructor(){super();ze(this,ru,!0);ze(this,bo);ze(this,su);Ce(this,su,e=>{if(!Qy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,bo)||this.setEventListener(G(this,su))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,bo))==null||e.call(this),Ce(this,bo,void 0))}setEventListener(e){var n;Ce(this,su,e),(n=G(this,bo))==null||n.call(this),Ce(this,bo,e(this.setOnline.bind(this)))}setOnline(e){G(this,ru)!==e&&(Ce(this,ru,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return G(this,ru)}},ru=new WeakMap,bo=new WeakMap,su=new WeakMap,fR),Rg=new T7;function C7(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function P7(t){return Math.min(1e3*2**t,3e4)}function oD(t){return(t??"online")==="online"?Rg.isOnline():!0}var aD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function U0(t){return t instanceof aD}function lD(t){let e=!1,n=0,r=!1,s;const i=C7(),o=g=>{var y;r||(f(new aD(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>iD.isFocused()&&(t.networkMode==="always"||Rg.isOnline())&&t.canRun(),d=()=>oD(t.networkMode)&&t.canRun(),h=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var y;s=_=>{(r||u())&&g(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(h).catch(_=>{var k;if(r)return;const v=t.retry??(Qy?0:3),x=t.retryDelay??P7,T=typeof x=="function"?x(n,_):x,I=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!I){f(_);return}n++,(k=t.onFail)==null||k.call(t,n,_),_7(T).then(()=>u()?void 0:p()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():p().then(w),i)}}var A7=t=>setTimeout(t,0);function I7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=A7;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Fn=I7(),ol,pR,cD=(pR=class{constructor(){ze(this,ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y7(this.gcTime)&&Ce(this,ol,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qy?1/0:5*60*1e3))}clearGcTimeout(){G(this,ol)&&(clearTimeout(G(this,ol)),Ce(this,ol,void 0))}},ol=new WeakMap,pR),iu,al,Br,ll,bn,Pf,cl,vs,gi,mR,N7=(mR=class extends cD{constructor(n){super();ze(this,vs);ze(this,iu);ze(this,al);ze(this,Br);ze(this,ll);ze(this,bn);ze(this,Pf);ze(this,cl);Ce(this,cl,!1),Ce(this,Pf,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ce(this,ll,n.client),Ce(this,Br,G(this,ll).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ce(this,iu,R7(this.options)),this.state=n.state??G(this,iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=G(this,bn))==null?void 0:n.promise}setOptions(n){this.options={...G(this,Pf),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Br).remove(this)}setData(n,r){const s=x7(this.state.data,n,this.options);return vn(this,vs,gi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){vn(this,vs,gi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=G(this,bn))==null?void 0:s.promise;return(i=G(this,bn))==null||i.cancel(n),r?r.then(gs).catch(gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,iu))}isActive(){return this.observers.some(n=>w7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>J_(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!v7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,bn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,bn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),G(this,Br).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(G(this,bn)&&(G(this,cl)?G(this,bn).cancel({revert:!0}):G(this,bn).cancelRetry()),this.scheduleGc()),G(this,Br).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vn(this,vs,gi).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,bn))return G(this,bn).continueRetry(),G(this,bn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(w=>w.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ce(this,cl,!0),s.signal)})},o=()=>{const p=sD(this.options,r),g=(()=>{const y={client:G(this,ll),queryKey:this.queryKey,meta:this.meta};return i(y),y})();return Ce(this,cl,!1),this.options.persister?this.options.persister(p,g,this):p(g)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,ll),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),Ce(this,al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&vn(this,vs,gi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=p=>{var w,g,y,_;U0(p)&&p.silent||vn(this,vs,gi).call(this,{type:"error",error:p}),U0(p)||((g=(w=G(this,Br).config).onError)==null||g.call(w,p,this),(_=(y=G(this,Br).config).onSettled)==null||_.call(y,this.state.data,p,this)),this.scheduleGc()};return Ce(this,bn,lD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var w,g,y,_;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){u(v);return}(g=(w=G(this,Br).config).onSuccess)==null||g.call(w,p,this),(_=(y=G(this,Br).config).onSettled)==null||_.call(y,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,w)=>{vn(this,vs,gi).call(this,{type:"failed",failureCount:p,error:w})},onPause:()=>{vn(this,vs,gi).call(this,{type:"pause"})},onContinue:()=>{vn(this,vs,gi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),G(this,bn).start()}},iu=new WeakMap,al=new WeakMap,Br=new WeakMap,ll=new WeakMap,bn=new WeakMap,Pf=new WeakMap,cl=new WeakMap,vs=new WeakSet,gi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...k7(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ce(this,al,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return U0(i)&&i.revert&&G(this,al)?{...G(this,al),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),G(this,Br).notify({query:this,type:"updated",action:n})})},mR);function k7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function R7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $s,gR,j7=(gR=class extends Yy{constructor(e={}){super();ze(this,$s);this.config=e,Ce(this,$s,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Z1(s,n);let o=this.get(i);return o||(o=new N7({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){G(this,$s).has(e.queryHash)||(G(this,$s).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=G(this,$s).get(e.queryHash);n&&(e.destroy(),n===e&&G(this,$s).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,$s).get(e)}getAll(){return[...G(this,$s).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>BP(e,r)):n}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$s=new WeakMap,gR),Bs,Ln,ul,zs,oo,yR,O7=(yR=class extends cD{constructor(n){super();ze(this,zs);ze(this,Bs);ze(this,Ln);ze(this,ul);this.mutationId=n.mutationId,Ce(this,Ln,n.mutationCache),Ce(this,Bs,[]),this.state=n.state||D7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){G(this,Bs).includes(n)||(G(this,Bs).push(n),this.clearGcTimeout(),G(this,Ln).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ce(this,Bs,G(this,Bs).filter(r=>r!==n)),this.scheduleGc(),G(this,Ln).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){G(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():G(this,Ln).remove(this))}continue(){var n;return((n=G(this,ul))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,f,p,w,g,y,_,v,x,T,I,k,C,E,A;const r=()=>{vn(this,zs,oo).call(this,{type:"continue"})};Ce(this,ul,lD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,j)=>{vn(this,zs,oo).call(this,{type:"failed",failureCount:R,error:j})},onPause:()=>{vn(this,zs,oo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Ln).canRun(this)}));const s=this.state.status==="pending",i=!G(this,ul).canStart();try{if(s)r();else{vn(this,zs,oo).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=G(this,Ln).config).onMutate)==null?void 0:a.call(o,n,this));const j=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));j!==this.state.context&&vn(this,zs,oo).call(this,{type:"pending",context:j,variables:n,isPaused:i})}const R=await G(this,ul).start();return await((h=(d=G(this,Ln).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,R,n,this.state.context)),await((g=(w=G(this,Ln).config).onSettled)==null?void 0:g.call(w,R,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,R,null,n,this.state.context)),vn(this,zs,oo).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(v=G(this,Ln).config).onError)==null?void 0:x.call(v,R,n,this.state.context,this)),await((I=(T=this.options).onError)==null?void 0:I.call(T,R,n,this.state.context)),await((C=(k=G(this,Ln).config).onSettled)==null?void 0:C.call(k,void 0,R,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,R,n,this.state.context)),R}finally{vn(this,zs,oo).call(this,{type:"error",error:R})}}finally{G(this,Ln).runNext(this)}}},Bs=new WeakMap,Ln=new WeakMap,ul=new WeakMap,zs=new WeakSet,oo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{G(this,Bs).forEach(s=>{s.onMutationUpdate(n)}),G(this,Ln).notify({mutation:this,type:"updated",action:n})})},yR);function D7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bi,ws,Af,vR,M7=(vR=class extends Yy{constructor(e={}){super();ze(this,bi);ze(this,ws);ze(this,Af);this.config=e,Ce(this,bi,new Set),Ce(this,ws,new Map),Ce(this,Af,0)}build(e,n,r){const s=new O7({mutationCache:this,mutationId:++vp(this,Af)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){G(this,bi).add(e);const n=Up(e);if(typeof n=="string"){const r=G(this,ws).get(n);r?r.push(e):G(this,ws).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(G(this,bi).delete(e)){const n=Up(e);if(typeof n=="string"){const r=G(this,ws).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&G(this,ws).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Up(e);if(typeof n=="string"){const r=G(this,ws).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Up(e);if(typeof n=="string"){const s=(r=G(this,ws).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{G(this,bi).forEach(e=>{this.notify({type:"removed",mutation:e})}),G(this,bi).clear(),G(this,ws).clear()})}getAll(){return Array.from(G(this,bi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zP(n,r))}findAll(e={}){return this.getAll().filter(n=>zP(e,n))}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fn.batch(()=>Promise.all(e.map(n=>n.continue().catch(gs))))}},bi=new WeakMap,ws=new WeakMap,Af=new WeakMap,vR);function Up(t){var e;return(e=t.options.scope)==null?void 0:e.id}function HP(t){return{onFetch:(e,n)=>{var d,h,f,p,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=sD(e.options,e.fetchOptions),v=async(x,T,I)=>{if(g)return Promise.reject();if(T==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:T,direction:I?"backward":"forward",meta:e.options.meta};return y(j),j})(),E=await _(C),{maxPages:A}=e.options,R=I?S7:b7;return{pages:R(x.pages,E,A),pageParams:R(x.pageParams,T,A)}};if(s&&i.length){const x=s==="backward",T=x?L7:GP,I={pages:i,pageParams:o},k=T(r,I);a=await v(I,k,x)}else{const x=t??i.length;do{const T=l===0?o[0]??r.initialPageParam:GP(r,a);if(l>0&&T==null)break;a=await v(a,T),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function GP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function L7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ct,So,Eo,ou,au,To,lu,cu,wR,V7=(wR=class{constructor(t={}){ze(this,Ct);ze(this,So);ze(this,Eo);ze(this,ou);ze(this,au);ze(this,To);ze(this,lu);ze(this,cu);Ce(this,Ct,t.queryCache||new j7),Ce(this,So,t.mutationCache||new M7),Ce(this,Eo,t.defaultOptions||{}),Ce(this,ou,new Map),Ce(this,au,new Map),Ce(this,To,0)}mount(){vp(this,To)._++,G(this,To)===1&&(Ce(this,lu,iD.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ct).onFocus())})),Ce(this,cu,Rg.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ct).onOnline())})))}unmount(){var t,e;vp(this,To)._--,G(this,To)===0&&((t=G(this,lu))==null||t.call(this),Ce(this,lu,void 0),(e=G(this,cu))==null||e.call(this),Ce(this,cu,void 0))}isFetching(t){return G(this,Ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,So).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=G(this,Ct).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(J_(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return G(this,Ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=G(this,Ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=g7(e,i);if(o!==void 0)return G(this,Ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Fn.batch(()=>G(this,Ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=G(this,Ct);Fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=G(this,Ct);return Fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fn.batch(()=>G(this,Ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(gs).catch(gs)}invalidateQueries(t,e={}){return Fn.batch(()=>(G(this,Ct).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fn.batch(()=>G(this,Ct).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(gs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=G(this,Ct).build(this,e);return n.isStaleByTime(J_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gs).catch(gs)}fetchInfiniteQuery(t){return t.behavior=HP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gs).catch(gs)}ensureInfiniteQueryData(t){return t.behavior=HP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rg.isOnline()?G(this,So).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Ct)}getMutationCache(){return G(this,So)}getDefaultOptions(){return G(this,Eo)}setDefaultOptions(t){Ce(this,Eo,t)}setQueryDefaults(t,e){G(this,ou).set(Qh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,ou).values()],n={};return e.forEach(r=>{Xh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){G(this,au).set(Qh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,au).values()],n={};return e.forEach(r=>{Xh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,Eo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Z1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===eS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,Eo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,Ct).clear(),G(this,So).clear()}},Ct=new WeakMap,So=new WeakMap,Eo=new WeakMap,ou=new WeakMap,au=new WeakMap,To=new WeakMap,lu=new WeakMap,cu=new WeakMap,wR),F7=b.createContext(void 0),U7=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(F7.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}var Io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Io||(Io={}));const KP="popstate";function $7(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ex("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jg(s)}return z7(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B7(){return Math.random().toString(36).substr(2,8)}function YP(t,e){return{usr:t.state,key:t.key,idx:e}}function ex(t,e,n,r){return n===void 0&&(n=null),Jh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yu(e):e,{state:n,key:e&&e.key||r||B7()})}function jg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z7(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Io.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Jh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Io.Pop;let y=d(),_=y==null?null:y-u;u=y,l&&l({action:a,location:g.location,delta:_})}function f(y,_){a=Io.Push;let v=ex(g.location,y,_);u=d()+1;let x=YP(v,u),T=g.createHref(v);try{o.pushState(x,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}i&&l&&l({action:a,location:g.location,delta:1})}function p(y,_){a=Io.Replace;let v=ex(g.location,y,_);u=d();let x=YP(v,u),T=g.createHref(v);o.replaceState(x,"",T),i&&l&&l({action:a,location:g.location,delta:0})}function w(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:jg(y);return v=v.replace(/ $/,"%20"),Mt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(KP,h),l=y,()=>{s.removeEventListener(KP,h),l=null}},createHref(y){return e(s,y)},createURL:w,encodeLocation(y){let _=w(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var QP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QP||(QP={}));function q7(t,e,n){return n===void 0&&(n="/"),W7(t,e,n,!1)}function W7(t,e,n,r){let s=typeof e=="string"?Yu(e):e,i=tS(s.pathname||"/",n);if(i==null)return null;let o=dD(t);H7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=rW(i);a=tW(o[l],u,r)}return a}function dD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dD(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Z7(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of hD(i.path))s(i,o,l)}),e}function hD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=hD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function H7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G7=/^:[\w-]+$/,K7=3,Y7=2,Q7=1,X7=10,J7=-2,XP=t=>t==="*";function Z7(t,e){let n=t.split("/"),r=n.length;return n.some(XP)&&(r+=J7),e&&(r+=Y7),n.filter(s=>!XP(s)).reduce((s,i)=>s+(G7.test(i)?K7:i===""?Q7:X7),r)}function eW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tW(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=JP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=JP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:zo([i,h.pathname]),pathnameBase:aW(zo([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=zo([i,h.pathnameBase]))}return o}function JP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nW(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[h];return p&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function nW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yu(t):t;return{pathname:n?n.startsWith("/")?n:iW(n,e):e,search:lW(r),hash:cW(s)}}function iW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nS(t,e){let n=oW(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Yu(t):(s=Jh({},t),Mt(!s.pathname||!s.pathname.includes("?"),$0("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),$0("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),$0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=sW(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),aW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fD=["post","put","patch","delete"];new Set(fD);const dW=["get",...fD];new Set(dW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}const sS=b.createContext(null),hW=b.createContext(null),ya=b.createContext(null),Xy=b.createContext(null),di=b.createContext({outlet:null,matches:[],isDataRoute:!1}),pD=b.createContext(null);function fW(t,e){let{relative:n}=e===void 0?{}:e;Qu()||Mt(!1);let{basename:r,navigator:s}=b.useContext(ya),{hash:i,pathname:o,search:a}=gD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Qu(){return b.useContext(Xy)!=null}function hi(){return Qu()||Mt(!1),b.useContext(Xy).location}function mD(t){b.useContext(ya).static||b.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=b.useContext(di);return t?IW():pW()}function pW(){Qu()||Mt(!1);let t=b.useContext(sS),{basename:e,future:n,navigator:r}=b.useContext(ya),{matches:s}=b.useContext(di),{pathname:i}=hi(),o=JSON.stringify(nS(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return mD(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=rS(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const mW=b.createContext(null);function gW(t){let e=b.useContext(di).outlet;return e&&b.createElement(mW.Provider,{value:t},e)}function yW(){let{matches:t}=b.useContext(di),e=t[t.length-1];return e?e.params:{}}function gD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(ya),{matches:s}=b.useContext(di),{pathname:i}=hi(),o=JSON.stringify(nS(s,r.v7_relativeSplatPath));return b.useMemo(()=>rS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function vW(t,e){return wW(t,e)}function wW(t,e,n,r){Qu()||Mt(!1);let{navigator:s}=b.useContext(ya),{matches:i}=b.useContext(di),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hi(),d;if(e){var h;let y=typeof e=="string"?Yu(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Mt(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=q7(t,{pathname:p}),g=EW(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:zo([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:zo([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?b.createElement(Xy.Provider,{value:{location:Zh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Io.Pop}},g):g}function _W(){let t=AW(),e=uW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const xW=b.createElement(_W,null);class bW extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(di.Provider,{value:this.props.routeContext},b.createElement(pD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SW(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(sS);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(di.Provider,{value:e},r)}function EW(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,w=!1,g=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||xW,l&&(u<0&&f===0?(w=!0,y=null):u===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),v=()=>{let x;return p?x=g:w?x=y:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,b.createElement(SW,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(bW,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var yD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yD||{}),Og=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Og||{});function TW(t){let e=b.useContext(sS);return e||Mt(!1),e}function CW(t){let e=b.useContext(hW);return e||Mt(!1),e}function PW(t){let e=b.useContext(di);return e||Mt(!1),e}function vD(t){let e=PW(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function AW(){var t;let e=b.useContext(pD),n=CW(Og.UseRouteError),r=vD(Og.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IW(){let{router:t}=TW(yD.UseNavigateStable),e=vD(Og.UseNavigateStable),n=b.useRef(!1);return mD(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zh({fromRouteId:e},i)))},[t,e])}function NW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wD(t){let{to:e,replace:n,state:r,relative:s}=t;Qu()||Mt(!1);let{future:i,static:o}=b.useContext(ya),{matches:a}=b.useContext(di),{pathname:l}=hi(),u=Bl(),d=rS(e,nS(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function kW(t){return gW(t.context)}function Lt(t){Mt(!1)}function RW(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Io.Pop,navigator:i,static:o=!1,future:a}=t;Qu()&&Mt(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Zh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Yu(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:w="default"}=r,g=b.useMemo(()=>{let y=tS(d,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:w},navigationType:s}},[l,d,h,f,p,w,s]);return g==null?null:b.createElement(ya.Provider,{value:u},b.createElement(Xy.Provider,{children:n,value:g}))}function jW(t){let{children:e,location:n}=t;return vW(tx(e),n)}new Promise(()=>{});function tx(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,tx(r.props.children,i));return}r.type!==Lt&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function OW(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function DW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MW(t,e){return t.button===0&&(!e||e==="_self")&&!DW(t)}function rx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function LW(t,e){let n=rx(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const VW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FW="6";try{window.__reactRouterVersion=FW}catch{}const UW="startTransition",ZP=Hb[UW];function $W(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=$7({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&ZP?ZP(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>NW(r),[r]),b.createElement(RW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const BW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=OW(e,VW),{basename:p}=b.useContext(ya),w,g=!1;if(typeof u=="string"&&zW.test(u)&&(w=u,BW))try{let x=new URL(window.location.href),T=u.startsWith("//")?new URL(x.protocol+u):new URL(u),I=tS(T.pathname,p);T.origin===x.origin&&I!=null?u=I+T.search+T.hash:g=!0}catch{}let y=fW(u,{relative:s}),_=qW(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||_(x)}return b.createElement("a",nx({},f,{href:w||y,onClick:g||i?r:v,ref:n,target:l}))});var eA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eA||(eA={}));var tA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tA||(tA={}));function qW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Bl(),u=hi(),d=gD(t,{relative:o});return b.useCallback(h=>{if(MW(h,n)){h.preventDefault();let f=r!==void 0?r:jg(u)===jg(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function WW(t){let e=b.useRef(rx(t)),n=b.useRef(!1),r=hi(),s=b.useMemo(()=>LW(r.search,n.current?null:e.current),[r.search]),i=Bl(),o=b.useCallback((a,l)=>{const u=rx(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const HW=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg transition-all",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-accent text-accent-foreground hover:shadow-premium transition-all shadow-md font-semibold",hero:"bg-accent text-accent-foreground hover:bg-accent/90 shadow-premium transition-all font-semibold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?n9:"button";return c.jsx(o,{className:Ae(HW({variant:e,size:n,className:t})),ref:i,...s})});oe.displayName="Button";const B0="/assets/NAZ%20logo%20no%20BG-Bp2ZTeT0.jpg",GW=()=>{};var nA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_D(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new YW;const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QW=function(t){const e=_D(t);return xD.encodeByteArray(e,!0)},Dg=function(t){return QW(t).replace(/\./g,"")},bD=function(t){try{return xD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=()=>XW().__FIREBASE_DEFAULTS__,ZW=()=>{if(typeof process>"u"||typeof nA>"u")return;const t=nA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bD(t[1]);return e&&JSON.parse(e)},Jy=()=>{try{return GW()||JW()||ZW()||eH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SD=t=>{var e,n;return(n=(e=Jy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tH=t=>{const e=SD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ED=()=>{var t;return(t=Jy())==null?void 0:t.config},TD=t=>{var e;return(e=Jy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nH=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Dg(JSON.stringify(n)),Dg(JSON.stringify(o)),""].join(".")}const hh={};function sH(){const t={prod:[],emulator:[]};for(const e of Object.keys(hh))hh[e]?t.emulator.push(e):t.prod.push(e);return t}function iH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rA=!1;function PD(t,e){if(typeof window>"u"||typeof document>"u"||!Xu(window.location.host)||hh[t]===e||hh[t]||rA)return;hh[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=sH().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{rA=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=iH(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(y,g);const T=u();l(v,_),x.append(v,w,y,T),document.body.appendChild(x)}i?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function aH(){var e;const t=(e=Jy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dH(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hH(){return!aH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fH(){try{return typeof indexedDB=="object"}catch{return!1}}function pH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="FirebaseError";class Hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mH,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uf.prototype.create)}}class Uf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gH(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Hi(s,a,r)}}function gH(t,e){return t.replace(yH,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yH=/\{\$([^}]+)}/g;function vH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(sA(i)&&sA(o)){if(!Il(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wH(t,e){const n=new _H(t,e);return n.subscribe.bind(n)}class _H{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xH(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=z0),s.error===void 0&&(s.error=z0),s.complete===void 0&&(s.complete=z0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function z0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EH(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SH(t){return t===Ba?void 0:t}function EH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const CH={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},PH=Me.INFO,AH={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},IH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AH[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=PH,this._logHandler=IH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const NH=(t,e)=>e.some(n=>t instanceof n);let iA,oA;function kH(){return iA||(iA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RH(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AD=new WeakMap,sx=new WeakMap,ID=new WeakMap,q0=new WeakMap,oS=new WeakMap;function jH(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AD.set(n,t)}).catch(()=>{}),oS.set(e,t),e}function OH(t){if(sx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sx.set(t,e)}let ix={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DH(t){ix=t(ix)}function MH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(W0(this),e,...n);return ID.set(r,e.sort?e.sort():[e]),qo(r)}:RH().includes(t)?function(...e){return t.apply(W0(this),e),qo(AD.get(this))}:function(...e){return qo(t.apply(W0(this),e))}}function LH(t){return typeof t=="function"?MH(t):(t instanceof IDBTransaction&&OH(t),NH(t,kH())?new Proxy(t,ix):t)}function qo(t){if(t instanceof IDBRequest)return jH(t);if(q0.has(t))return q0.get(t);const e=LH(t);return e!==t&&(q0.set(t,e),oS.set(e,t)),e}const W0=t=>oS.get(t);function VH(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qo(o.result),l.oldVersion,l.newVersion,qo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FH=["get","getKey","getAll","getAllKeys","count"],UH=["put","add","delete","clear"],H0=new Map;function aA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(H0.get(e))return H0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FH.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return H0.set(e,i),i}DH(t=>({...t,get:(e,n,r)=>aA(e,n)||t.get(e,n,r),has:(e,n)=>!!aA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ox="@firebase/app",lA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new iS("@firebase/app"),zH="@firebase/app-compat",qH="@firebase/analytics-compat",WH="@firebase/analytics",HH="@firebase/app-check-compat",GH="@firebase/app-check",KH="@firebase/auth",YH="@firebase/auth-compat",QH="@firebase/database",XH="@firebase/data-connect",JH="@firebase/database-compat",ZH="@firebase/functions",eG="@firebase/functions-compat",tG="@firebase/installations",nG="@firebase/installations-compat",rG="@firebase/messaging",sG="@firebase/messaging-compat",iG="@firebase/performance",oG="@firebase/performance-compat",aG="@firebase/remote-config",lG="@firebase/remote-config-compat",cG="@firebase/storage",uG="@firebase/storage-compat",dG="@firebase/firestore",hG="@firebase/ai",fG="@firebase/firestore-compat",pG="firebase",mG="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="[DEFAULT]",gG={[ox]:"fire-core",[zH]:"fire-core-compat",[WH]:"fire-analytics",[qH]:"fire-analytics-compat",[GH]:"fire-app-check",[HH]:"fire-app-check-compat",[KH]:"fire-auth",[YH]:"fire-auth-compat",[QH]:"fire-rtdb",[XH]:"fire-data-connect",[JH]:"fire-rtdb-compat",[ZH]:"fire-fn",[eG]:"fire-fn-compat",[tG]:"fire-iid",[nG]:"fire-iid-compat",[rG]:"fire-fcm",[sG]:"fire-fcm-compat",[iG]:"fire-perf",[oG]:"fire-perf-compat",[aG]:"fire-rc",[lG]:"fire-rc-compat",[cG]:"fire-gcs",[uG]:"fire-gcs-compat",[dG]:"fire-fst",[fG]:"fire-fst-compat",[hG]:"fire-vertex","fire-js":"fire-js",[pG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Map,yG=new Map,lx=new Map;function cA(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Su(t){const e=t.name;if(lx.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;lx.set(e,t);for(const n of Mg.values())cA(n,t);for(const n of yG.values())cA(n,t);return!0}function aS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ws(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new Uf("app","Firebase",vG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=mG;function ND(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ax,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Wo.create("bad-app-name",{appName:String(s)});if(n||(n=ED()),!n)throw Wo.create("no-options");const i=Mg.get(s);if(i){if(Il(n,i.options)&&Il(r,i.config))return i;throw Wo.create("duplicate-app",{appName:s})}const o=new TH(s);for(const l of lx.values())o.addComponent(l);const a=new wG(n,r,o);return Mg.set(s,a),a}function kD(t=ax){const e=Mg.get(t);if(!e&&t===ax&&ED())return ND();if(!e)throw Wo.create("no-app",{appName:t});return e}function Ho(t,e,n){let r=gG[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(o.join(" "));return}Su(new Nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="firebase-heartbeat-database",xG=1,ef="firebase-heartbeat-store";let G0=null;function RD(){return G0||(G0=VH(_G,xG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ef)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),G0}async function bG(t){try{const n=(await RD()).transaction(ef),r=await n.objectStore(ef).get(jD(t));return await n.done,r}catch(e){if(e instanceof Hi)Mi.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function uA(t,e){try{const r=(await RD()).transaction(ef,"readwrite");await r.objectStore(ef).put(e,jD(t)),await r.done}catch(n){if(n instanceof Hi)Mi.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function jD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=1024,EG=30;class TG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>EG){const o=AG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dA(),{heartbeatsToSend:r,unsentEntries:s}=CG(this._heartbeatsCache.heartbeats),i=Dg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mi.warn(n),""}}}function dA(){return new Date().toISOString().substring(0,10)}function CG(t,e=SG){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fH()?pH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hA(t){return Dg(JSON.stringify({version:2,heartbeats:t})).length}function AG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t){Su(new Nl("platform-logger",e=>new $H(e),"PRIVATE")),Su(new Nl("heartbeat",e=>new TG(e),"PRIVATE")),Ho(ox,lA,t),Ho(ox,lA,"esm2020"),Ho("fire-js","")}IG("");var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,OD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function A(){}A.prototype=E.prototype,C.F=E.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(R,j,N){for(var O=Array(arguments.length-2),V=2;V<arguments.length;V++)O[V-2]=arguments[V];return E.prototype[j].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,A){A||(A=0);const R=Array(16);if(typeof E=="string")for(var j=0;j<16;++j)R[j]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(j=0;j<16;++j)R[j]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=C.g[0],A=C.g[1],j=C.g[2];let N=C.g[3],O;O=E+(N^A&(j^N))+R[0]+3614090360&4294967295,E=A+(O<<7&4294967295|O>>>25),O=N+(j^E&(A^j))+R[1]+3905402710&4294967295,N=E+(O<<12&4294967295|O>>>20),O=j+(A^N&(E^A))+R[2]+606105819&4294967295,j=N+(O<<17&4294967295|O>>>15),O=A+(E^j&(N^E))+R[3]+3250441966&4294967295,A=j+(O<<22&4294967295|O>>>10),O=E+(N^A&(j^N))+R[4]+4118548399&4294967295,E=A+(O<<7&4294967295|O>>>25),O=N+(j^E&(A^j))+R[5]+1200080426&4294967295,N=E+(O<<12&4294967295|O>>>20),O=j+(A^N&(E^A))+R[6]+2821735955&4294967295,j=N+(O<<17&4294967295|O>>>15),O=A+(E^j&(N^E))+R[7]+4249261313&4294967295,A=j+(O<<22&4294967295|O>>>10),O=E+(N^A&(j^N))+R[8]+1770035416&4294967295,E=A+(O<<7&4294967295|O>>>25),O=N+(j^E&(A^j))+R[9]+2336552879&4294967295,N=E+(O<<12&4294967295|O>>>20),O=j+(A^N&(E^A))+R[10]+4294925233&4294967295,j=N+(O<<17&4294967295|O>>>15),O=A+(E^j&(N^E))+R[11]+2304563134&4294967295,A=j+(O<<22&4294967295|O>>>10),O=E+(N^A&(j^N))+R[12]+1804603682&4294967295,E=A+(O<<7&4294967295|O>>>25),O=N+(j^E&(A^j))+R[13]+4254626195&4294967295,N=E+(O<<12&4294967295|O>>>20),O=j+(A^N&(E^A))+R[14]+2792965006&4294967295,j=N+(O<<17&4294967295|O>>>15),O=A+(E^j&(N^E))+R[15]+1236535329&4294967295,A=j+(O<<22&4294967295|O>>>10),O=E+(j^N&(A^j))+R[1]+4129170786&4294967295,E=A+(O<<5&4294967295|O>>>27),O=N+(A^j&(E^A))+R[6]+3225465664&4294967295,N=E+(O<<9&4294967295|O>>>23),O=j+(E^A&(N^E))+R[11]+643717713&4294967295,j=N+(O<<14&4294967295|O>>>18),O=A+(N^E&(j^N))+R[0]+3921069994&4294967295,A=j+(O<<20&4294967295|O>>>12),O=E+(j^N&(A^j))+R[5]+3593408605&4294967295,E=A+(O<<5&4294967295|O>>>27),O=N+(A^j&(E^A))+R[10]+38016083&4294967295,N=E+(O<<9&4294967295|O>>>23),O=j+(E^A&(N^E))+R[15]+3634488961&4294967295,j=N+(O<<14&4294967295|O>>>18),O=A+(N^E&(j^N))+R[4]+3889429448&4294967295,A=j+(O<<20&4294967295|O>>>12),O=E+(j^N&(A^j))+R[9]+568446438&4294967295,E=A+(O<<5&4294967295|O>>>27),O=N+(A^j&(E^A))+R[14]+3275163606&4294967295,N=E+(O<<9&4294967295|O>>>23),O=j+(E^A&(N^E))+R[3]+4107603335&4294967295,j=N+(O<<14&4294967295|O>>>18),O=A+(N^E&(j^N))+R[8]+1163531501&4294967295,A=j+(O<<20&4294967295|O>>>12),O=E+(j^N&(A^j))+R[13]+2850285829&4294967295,E=A+(O<<5&4294967295|O>>>27),O=N+(A^j&(E^A))+R[2]+4243563512&4294967295,N=E+(O<<9&4294967295|O>>>23),O=j+(E^A&(N^E))+R[7]+1735328473&4294967295,j=N+(O<<14&4294967295|O>>>18),O=A+(N^E&(j^N))+R[12]+2368359562&4294967295,A=j+(O<<20&4294967295|O>>>12),O=E+(A^j^N)+R[5]+4294588738&4294967295,E=A+(O<<4&4294967295|O>>>28),O=N+(E^A^j)+R[8]+2272392833&4294967295,N=E+(O<<11&4294967295|O>>>21),O=j+(N^E^A)+R[11]+1839030562&4294967295,j=N+(O<<16&4294967295|O>>>16),O=A+(j^N^E)+R[14]+4259657740&4294967295,A=j+(O<<23&4294967295|O>>>9),O=E+(A^j^N)+R[1]+2763975236&4294967295,E=A+(O<<4&4294967295|O>>>28),O=N+(E^A^j)+R[4]+1272893353&4294967295,N=E+(O<<11&4294967295|O>>>21),O=j+(N^E^A)+R[7]+4139469664&4294967295,j=N+(O<<16&4294967295|O>>>16),O=A+(j^N^E)+R[10]+3200236656&4294967295,A=j+(O<<23&4294967295|O>>>9),O=E+(A^j^N)+R[13]+681279174&4294967295,E=A+(O<<4&4294967295|O>>>28),O=N+(E^A^j)+R[0]+3936430074&4294967295,N=E+(O<<11&4294967295|O>>>21),O=j+(N^E^A)+R[3]+3572445317&4294967295,j=N+(O<<16&4294967295|O>>>16),O=A+(j^N^E)+R[6]+76029189&4294967295,A=j+(O<<23&4294967295|O>>>9),O=E+(A^j^N)+R[9]+3654602809&4294967295,E=A+(O<<4&4294967295|O>>>28),O=N+(E^A^j)+R[12]+3873151461&4294967295,N=E+(O<<11&4294967295|O>>>21),O=j+(N^E^A)+R[15]+530742520&4294967295,j=N+(O<<16&4294967295|O>>>16),O=A+(j^N^E)+R[2]+3299628645&4294967295,A=j+(O<<23&4294967295|O>>>9),O=E+(j^(A|~N))+R[0]+4096336452&4294967295,E=A+(O<<6&4294967295|O>>>26),O=N+(A^(E|~j))+R[7]+1126891415&4294967295,N=E+(O<<10&4294967295|O>>>22),O=j+(E^(N|~A))+R[14]+2878612391&4294967295,j=N+(O<<15&4294967295|O>>>17),O=A+(N^(j|~E))+R[5]+4237533241&4294967295,A=j+(O<<21&4294967295|O>>>11),O=E+(j^(A|~N))+R[12]+1700485571&4294967295,E=A+(O<<6&4294967295|O>>>26),O=N+(A^(E|~j))+R[3]+2399980690&4294967295,N=E+(O<<10&4294967295|O>>>22),O=j+(E^(N|~A))+R[10]+4293915773&4294967295,j=N+(O<<15&4294967295|O>>>17),O=A+(N^(j|~E))+R[1]+2240044497&4294967295,A=j+(O<<21&4294967295|O>>>11),O=E+(j^(A|~N))+R[8]+1873313359&4294967295,E=A+(O<<6&4294967295|O>>>26),O=N+(A^(E|~j))+R[15]+4264355552&4294967295,N=E+(O<<10&4294967295|O>>>22),O=j+(E^(N|~A))+R[6]+2734768916&4294967295,j=N+(O<<15&4294967295|O>>>17),O=A+(N^(j|~E))+R[13]+1309151649&4294967295,A=j+(O<<21&4294967295|O>>>11),O=E+(j^(A|~N))+R[4]+4149444226&4294967295,E=A+(O<<6&4294967295|O>>>26),O=N+(A^(E|~j))+R[11]+3174756917&4294967295,N=E+(O<<10&4294967295|O>>>22),O=j+(E^(N|~A))+R[2]+718787259&4294967295,j=N+(O<<15&4294967295|O>>>17),O=A+(N^(j|~E))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.v=function(C,E){E===void 0&&(E=C.length);const A=E-this.blockSize,R=this.C;let j=this.h,N=0;for(;N<E;){if(j==0)for(;N<=A;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<E;)if(R[j++]=C.charCodeAt(N++),j==this.blockSize){s(this,R),j=0;break}}else for(;N<E;)if(R[j++]=C[N++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=E},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)C[E++]=this.g[A]>>>R&255;return C};function i(C,E){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=E(C)}function o(C,E){this.h=E;const A=[];let R=!0;for(let j=C.length-1;j>=0;j--){const N=C[j]|0;R&&N==E||(A[j]=N,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&C<128?i(C,function(E){return new o([E|0],E<0?-1:0)}):new o([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return y(u(-C));const E=[];let A=1;for(let R=0;C>=A;R++)E[R]=C/A|0,A*=4294967296;return new o(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return y(d(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(E,8));let R=h;for(let N=0;N<C.length;N+=8){var j=Math.min(8,C.length-N);const O=parseInt(C.substring(N,N+j),E);j<8?(j=u(Math.pow(E,j)),R=R.j(j).add(u(O))):(R=R.j(A),R=R.add(u(O)))}return R}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let C=0,E=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);C+=(R>=0?R:4294967296+R)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(g(this))return"-"+y(this).toString(C);const E=u(Math.pow(C,6));var A=this;let R="";for(;;){const j=T(A,E).g;A=_(A,j.j(E));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=j,w(A))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=_(this,C),g(C)?-1:w(C)?0:1};function y(C){const E=C.g.length,A=[];for(let R=0;R<E;R++)A[R]=~C.g[R];return new o(A,~C.h).add(f)}t.abs=function(){return g(this)?y(this):this},t.add=function(C){const E=Math.max(this.g.length,C.g.length),A=[];let R=0;for(let j=0;j<=E;j++){let N=R+(this.i(j)&65535)+(C.i(j)&65535),O=(N>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);R=O>>>16,N&=65535,O&=65535,A[j]=O<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(C,E){return C.add(y(E))}t.j=function(C){if(w(this)||w(C))return h;if(g(this))return g(C)?y(this).j(y(C)):y(y(this).j(C));if(g(C))return y(this.j(y(C)));if(this.l(p)<0&&C.l(p)<0)return u(this.m()*C.m());const E=this.g.length+C.g.length,A=[];for(var R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let j=0;j<C.g.length;j++){const N=this.i(R)>>>16,O=this.i(R)&65535,V=C.i(j)>>>16,Y=C.i(j)&65535;A[2*R+2*j]+=O*Y,v(A,2*R+2*j),A[2*R+2*j+1]+=N*Y,v(A,2*R+2*j+1),A[2*R+2*j+1]+=O*V,v(A,2*R+2*j+1),A[2*R+2*j+2]+=N*V,v(A,2*R+2*j+2)}for(C=0;C<E;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=E;C<2*E;C++)A[C]=0;return new o(A,0)};function v(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function x(C,E){this.g=C,this.h=E}function T(C,E){if(w(E))throw Error("division by zero");if(w(C))return new x(h,h);if(g(C))return E=T(y(C),E),new x(y(E.g),y(E.h));if(g(E))return E=T(C,y(E)),new x(y(E.g),E.h);if(C.g.length>30){if(g(C)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var A=f,R=E;R.l(C)<=0;)A=I(A),R=I(R);var j=k(A,1),N=k(R,1);for(R=k(R,2),A=k(A,2);!w(R);){var O=N.add(R);O.l(C)<=0&&(j=j.add(A),N=O),R=k(R,1),A=k(A,1)}return E=_(C,j.j(E)),new x(j,E)}for(j=h;C.l(E)>=0;){for(A=Math.max(1,Math.floor(C.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=u(A),O=N.j(E);g(O)||O.l(C)>0;)A-=R,N=u(A),O=N.j(E);w(N)&&(N=f),j=j.add(N),C=_(C,O)}return new x(j,C)}t.B=function(C){return T(this,C).h},t.and=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function I(C){const E=C.g.length+1,A=[];for(let R=0;R<E;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function k(C,E){const A=E>>5;E%=32;const R=C.g.length-A,j=[];for(let N=0;N<R;N++)j[N]=E>0?C.i(N+A)>>>E|C.i(N+A+1)<<32-E:C.i(N+A);return new o(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Go=o}).apply(typeof fA<"u"?fA:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DD,Hd,MD,Im,cx,LD,VD,FD;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var S=0;S<m.length;++S){var P=m[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(m,S){if(S)e:{var P=r;m=m.split(".");for(var D=0;D<m.length-1;D++){var U=m[D];if(!(U in P))break e;P=P[U]}m=m[m.length-1],D=P[m],S=S(D),S!=D&&S!=null&&e(P,m,{configurable:!0,writable:!0,value:S})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(S){var P=[],D;for(D in S)Object.prototype.hasOwnProperty.call(S,D)&&P.push([D,S[D]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function l(m,S,P){return m.call.apply(m.bind,arguments)}function u(m,S,P){return u=l,u.apply(null,arguments)}function d(m,S){var P=Array.prototype.slice.call(arguments,1);return function(){var D=P.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function h(m,S){function P(){}P.prototype=S.prototype,m.Z=S.prototype,m.prototype=new P,m.prototype.constructor=m,m.Ob=function(D,U,$){for(var ee=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ee[Re-2]=arguments[Re];return S.prototype[U].apply(D,ee)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const S=m.length;if(S>0){const P=Array(S);for(let D=0;D<S;D++)P[D]=m[D];return P}return[]}function w(m,S){for(let D=1;D<arguments.length;D++){const U=arguments[D];var P=typeof U;if(P=P!="object"?P:U?Array.isArray(U)?"array":P:"null",P=="array"||P=="object"&&typeof U.length=="number"){P=m.length||0;const $=U.length||0;m.length=P+$;for(let ee=0;ee<$;ee++)m[P+ee]=U[ee]}else m.push(U)}}class g{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(m){o.setTimeout(()=>{throw m},0)}function _(){var m=C;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class v{constructor(){this.h=this.g=null}add(S,P){const D=x.get();D.set(S,P),this.h?this.h.next=D:this.g=D,this.h=D}}var x=new g(()=>new T,m=>m.reset());class T{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let I,k=!1,C=new v,E=()=>{const m=Promise.resolve(void 0);I=()=>{m.then(A)}};function A(){for(var m;m=_();){try{m.h.call(m.g)}catch(P){y(P)}var S=x;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}k=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};o.addEventListener("test",P,S),o.removeEventListener("test",P,S)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function V(m,S){j.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}h(V,j),V.prototype.init=function(m,S){const P=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(P=="mouseover"?S=m.fromElement:P=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),Q=0;function B(m,S,P,D,U){this.listener=m,this.proxy=null,this.src=S,this.type=P,this.capture=!!D,this.ha=U,this.key=++Q,this.da=this.fa=!1}function M(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function F(m,S,P){for(const D in m)S.call(P,m[D],D,m)}function q(m,S){for(const P in m)S.call(void 0,m[P],P,m)}function L(m){const S={};for(const P in m)S[P]=m[P];return S}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(m,S){let P,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(P in D)m[P]=D[P];for(let $=0;$<z.length;$++)P=z[$],Object.prototype.hasOwnProperty.call(D,P)&&(m[P]=D[P])}}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,S,P,D,U){const $=m.toString();m=this.g[$],m||(m=this.g[$]=[],this.h++);const ee=ke(m,S,D,U);return ee>-1?(S=m[ee],P||(S.fa=!1)):(S=new B(S,this.src,$,!!D,U),S.fa=P,m.push(S)),S};function fe(m,S){const P=S.type;if(P in m.g){var D=m.g[P],U=Array.prototype.indexOf.call(D,S,void 0),$;($=U>=0)&&Array.prototype.splice.call(D,U,1),$&&(M(S),m.g[P].length==0&&(delete m.g[P],m.h--))}}function ke(m,S,P,D){for(let U=0;U<m.length;++U){const $=m[U];if(!$.da&&$.listener==S&&$.capture==!!P&&$.ha==D)return U}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),Ie={};function He(m,S,P,D,U){if(Array.isArray(S)){for(let $=0;$<S.length;$++)He(m,S[$],P,D,U);return null}return P=as(P),m&&m[Y]?m.J(S,P,a(D)?!!D.capture:!!D,U):de(m,S,P,!1,D,U)}function de(m,S,P,D,U,$){if(!S)throw Error("Invalid event type");const ee=a(U)?!!U.capture:!!U;let Re=Ge(m);if(Re||(m[Z]=Re=new J(m)),P=Re.add(S,P,D,ee,$),P.proxy)return P;if(D=be(),P.proxy=D,D.src=m,D.listener=P,m.addEventListener)N||(U=ee),U===void 0&&(U=!1),m.addEventListener(S.toString(),D,U);else if(m.attachEvent)m.attachEvent(lt(S.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return P}function be(){function m(P){return S.call(m.src,m.listener,P)}const S=jn;return m}function Pe(m,S,P,D,U){if(Array.isArray(S))for(var $=0;$<S.length;$++)Pe(m,S[$],P,D,U);else D=a(D)?!!D.capture:!!D,P=as(P),m&&m[Y]?(m=m.i,$=String(S).toString(),$ in m.g&&(S=m.g[$],P=ke(S,P,D,U),P>-1&&(M(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete m.g[$],m.h--)))):m&&(m=Ge(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ke(S,P,D,U)),(P=m>-1?S[m]:null)&&De(P))}function De(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Y])fe(S.i,m);else{var P=m.type,D=m.proxy;S.removeEventListener?S.removeEventListener(P,D,m.capture):S.detachEvent?S.detachEvent(lt(P),D):S.addListener&&S.removeListener&&S.removeListener(D),(P=Ge(S))?(fe(P,m),P.h==0&&(P.src=null,S[Z]=null)):M(m)}}}function lt(m){return m in Ie?Ie[m]:Ie[m]="on"+m}function jn(m,S){if(m.da)m=!0;else{S=new V(S,this);const P=m.listener,D=m.ha||m.src;m.fa&&De(m),m=P.call(D,S)}return m}function Ge(m){return m=m[Z],m instanceof J?m:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function as(m){return typeof m=="function"?m:(m[Je]||(m[Je]=function(S){return m.handleEvent(S)}),m[Je])}function Ze(){R.call(this),this.i=new J(this),this.M=this,this.G=null}h(Ze,R),Ze.prototype[Y]=!0,Ze.prototype.removeEventListener=function(m,S,P,D){Pe(this,m,S,P,D)};function Nt(m,S){var P,D=m.G;if(D)for(P=[];D;D=D.G)P.push(D);if(m=m.M,D=S.type||S,typeof S=="string")S=new j(S,m);else if(S instanceof j)S.target=S.target||m;else{var U=S;S=new j(D,m),te(S,U)}U=!0;let $,ee;if(P)for(ee=P.length-1;ee>=0;ee--)$=S.g=P[ee],U=Mr($,D,!0,S)&&U;if($=S.g=m,U=Mr($,D,!0,S)&&U,U=Mr($,D,!1,S)&&U,P)for(ee=0;ee<P.length;ee++)$=S.g=P[ee],U=Mr($,D,!1,S)&&U}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const P=m.g[S];for(let D=0;D<P.length;D++)M(P[D]);delete m.g[S],m.h--}}this.G=null},Ze.prototype.J=function(m,S,P,D){return this.i.add(String(m),S,!1,P,D)},Ze.prototype.K=function(m,S,P,D){return this.i.add(String(m),S,!0,P,D)};function Mr(m,S,P,D){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let U=!0;for(let $=0;$<S.length;++$){const ee=S[$];if(ee&&!ee.da&&ee.capture==P){const Re=ee.listener,Gt=ee.ha||ee.src;ee.fa&&fe(m.i,ee),U=Re.call(Gt,D)!==!1&&U}}return U&&!D.defaultPrevented}function Hl(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:o.setTimeout(m,S||0)}function Lr(m){m.g=Hl(()=>{m.g=null,m.i&&(m.i=!1,Lr(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Wv extends R{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(m){R.call(this),this.h=m,this.g={}}h(Pa,R);var On=[];function fi(m){F(m.g,function(S,P){this.g.hasOwnProperty(P)&&De(S)},m),m.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),fi(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dd=o.JSON.stringify,Hv=o.JSON.parse,Gl=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function op(){}function hd(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function js(){j.call(this,"d")}h(js,j);function Kl(){j.call(this,"c")}h(Kl,j);var Hn={},ap=null;function Yl(){return ap=ap||new Ze}Hn.Ia="serverreachability";function fd(m){j.call(this,Hn.Ia,m)}h(fd,j);function Gi(m){const S=Yl();Nt(S,new fd(S))}Hn.STAT_EVENT="statevent";function lp(m,S){j.call(this,Hn.STAT_EVENT,m),this.stat=S}h(lp,j);function Ht(m){const S=Yl();Nt(S,new lp(S,m))}Hn.Ja="timingevent";function ls(m,S){j.call(this,Hn.Ja,m),this.size=S}h(ls,j);function Aa(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},S)}function ye(){this.g=!0}ye.prototype.ua=function(){this.g=!1};function Ke(m,S,P,D,U,$){m.info(function(){if(m.g)if($){var ee="",Re=$.split("&");for(let et=0;et<Re.length;et++){var Gt=Re[et].split("=");if(Gt.length>1){const en=Gt[0];Gt=Gt[1];const Ms=en.split("_");ee=Ms.length>=2&&Ms[1]=="type"?ee+(en+"="+Gt+"&"):ee+(en+"=redacted&")}}}else ee=null;else ee=$;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+P+`
`+ee})}function st(m,S,P,D,U,$,ee){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+P+`
`+$+" "+ee})}function Zt(m,S,P,D){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Os(m,P)+(D?" "+D:"")})}function hr(m,S){m.info(function(){return"TIMEOUT: "+S})}ye.prototype.info=function(){};function Os(m,S){if(!m.g)return S;if(!S)return null;try{const $=JSON.parse(S);if($){for(m=0;m<$.length;m++)if(Array.isArray($[m])){var P=$[m];if(!(P.length<2)){var D=P[1];if(Array.isArray(D)&&!(D.length<1)){var U=D[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<D.length;ee++)D[ee]=""}}}}return dd($)}catch{return S}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cs;function Gv(){}h(Gv,op),Gv.prototype.g=function(){return new XMLHttpRequest},cs=new Gv;function pd(m){return encodeURIComponent(String(m))}function r$(m){var S=1;m=m.split(":");const P=[];for(;S>0&&m.length;)P.push(m.shift()),S--;return m.length&&P.push(m.join(":")),P}function Ki(m,S,P,D){this.j=m,this.i=S,this.l=P,this.S=D||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ET}function ET(){this.i=null,this.g="",this.h=!1}var TT={},Kv={};function Yv(m,S,P){m.M=1,m.A=up(Ds(S)),m.u=P,m.R=!0,CT(m,null)}function CT(m,S){m.F=Date.now(),cp(m),m.B=Ds(m.A);var P=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),FT(P.i,"t",D),m.C=0,P=m.j.L,m.h=new ET,m.g=rC(m.j,P?S:null,!m.u),m.P>0&&(m.O=new Wv(u(m.Y,m,m.g),m.P)),S=m.V,P=m.g,D=m.ba;var U="readystatechange";Array.isArray(U)||(U&&(On[0]=U.toString()),U=On);for(let $=0;$<U.length;$++){const ee=He(P,U[$],D||S.handleEvent,!1,S.h||S);if(!ee)break;S.g[ee.key]=ee}S=m.J?L(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Gi(),Ke(m.i,m.v,m.B,m.l,m.S,m.u)}Ki.prototype.ba=function(m){m=m.target;const S=this.O;S&&Xi(m)==3?S.j():this.Y(m)},Ki.prototype.Y=function(m){try{if(m==this.g)e:{const Re=Xi(this.g),Gt=this.g.ya(),et=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||HT(this.g)))){this.K||Re!=4||Gt==7||(Gt==8||et<=0?Gi(3):Gi(2)),Qv(this);var S=this.g.ca();this.X=S;var P=s$(this);if(this.o=S==200,st(this.i,this.v,this.B,this.l,this.S,Re,S),this.o){if(this.U&&!this.L){t:{if(this.g){var D,U=this.g;if((D=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var $=D;break t}}$=null}if(m=$)Zt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xv(this,m);else{this.o=!1,this.m=3,Ht(12),Ia(this),md(this);break e}}if(this.R){m=!0;let en;for(;!this.K&&this.C<P.length;)if(en=i$(this,P),en==Kv){Re==4&&(this.m=4,Ht(14),m=!1),Zt(this.i,this.l,null,"[Incomplete Response]");break}else if(en==TT){this.m=4,Ht(15),Zt(this.i,this.l,P,"[Invalid Chunk]"),m=!1;break}else Zt(this.i,this.l,en,null),Xv(this,en);if(PT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||P.length!=0||this.h.h||(this.m=1,Ht(16),m=!1),this.o=this.o&&m,!m)Zt(this.i,this.l,P,"[Invalid Chunked Response]"),Ia(this),md(this);else if(P.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),i0(ee),ee.P=!0,Ht(11))}}else Zt(this.i,this.l,P,null),Xv(this,P);Re==4&&Ia(this),this.o&&!this.K&&(Re==4?ZT(this.j,this):(this.o=!1,cp(this)))}else w$(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),Ia(this),md(this)}}}catch{}finally{}};function s$(m){if(!PT(m))return m.g.la();const S=HT(m.g);if(S==="")return"";let P="";const D=S.length,U=Xi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ia(m),md(m),"";m.h.i=new o.TextDecoder}for(let $=0;$<D;$++)m.h.h=!0,P+=m.h.i.decode(S[$],{stream:!(U&&$==D-1)});return S.length=0,m.h.g+=P,m.C=0,m.h.g}function PT(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function i$(m,S){var P=m.C,D=S.indexOf(`
`,P);return D==-1?Kv:(P=Number(S.substring(P,D)),isNaN(P)?TT:(D+=1,D+P>S.length?Kv:(S=S.slice(D,D+P),m.C=D+P,S)))}Ki.prototype.cancel=function(){this.K=!0,Ia(this)};function cp(m){m.T=Date.now()+m.H,AT(m,m.H)}function AT(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Aa(u(m.aa,m),S)}function Qv(m){m.D&&(o.clearTimeout(m.D),m.D=null)}Ki.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(hr(this.i,this.B),this.M!=2&&(Gi(),Ht(17)),Ia(this),this.m=2,md(this)):AT(this,this.T-m)};function md(m){m.j.I==0||m.K||ZT(m.j,m)}function Ia(m){Qv(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,fi(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function Xv(m,S){try{var P=m.j;if(P.I!=0&&(P.g==m||Jv(P.h,m))){if(!m.L&&Jv(P.h,m)&&P.I==3){try{var D=P.Ba.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<m.F)mp(P),fp(P);else break e;s0(P),Ht(18)}}else P.xa=U[1],0<P.xa-P.K&&U[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Aa(u(P.Va,P),6e3));kT(P.h)<=1&&P.ta&&(P.ta=void 0)}else ka(P,11)}else if((m.L||P.g==m)&&mp(P),!O(S))for(U=P.Ba.g.parse(S),S=0;S<U.length;S++){let et=U[S];const en=et[0];if(!(en<=P.K))if(P.K=en,et=et[1],P.I==2)if(et[0]=="c"){P.M=et[1],P.ba=et[2];const Ms=et[3];Ms!=null&&(P.ka=Ms,P.j.info("VER="+P.ka));const Ra=et[4];Ra!=null&&(P.za=Ra,P.j.info("SVER="+P.za));const Ji=et[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(D=1.5*Ji,P.O=D,P.j.info("backChannelRequestTimeoutMs_="+D)),D=P;const Zi=m.g;if(Zi){const yp=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yp){var $=D.h;$.g||yp.indexOf("spdy")==-1&&yp.indexOf("quic")==-1&&yp.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Zv($,$.h),$.h=null))}if(D.G){const o0=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;o0&&(D.wa=o0,ct(D.J,D.G,o0))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-m.F,P.j.info("Handshake RTT: "+P.T+"ms")),D=P;var ee=m;if(D.na=nC(D,D.L?D.ba:null,D.W),ee.L){RT(D.h,ee);var Re=ee,Gt=D.O;Gt&&(Re.H=Gt),Re.D&&(Qv(Re),cp(Re)),D.g=ee}else XT(D);P.i.length>0&&pp(P)}else et[0]!="stop"&&et[0]!="close"||ka(P,7);else P.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ka(P,7):r0(P):et[0]!="noop"&&P.l&&P.l.qa(et),P.A=0)}}Gi(4)}catch{}}var o$=class{constructor(m,S){this.g=m,this.map=S}};function IT(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function NT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function kT(m){return m.h?1:m.g?m.g.size:0}function Jv(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Zv(m,S){m.g?m.g.add(S):m.h=S}function RT(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}IT.prototype.cancel=function(){if(this.i=jT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function jT(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const P of m.g.values())S=S.concat(P.G);return S}return p(m.i)}var OT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a$(m,S){if(m){m=m.split("&");for(let P=0;P<m.length;P++){const D=m[P].indexOf("=");let U,$=null;D>=0?(U=m[P].substring(0,D),$=m[P].substring(D+1)):U=m[P],S(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Yi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof Yi?(this.l=m.l,gd(this,m.j),this.o=m.o,this.g=m.g,yd(this,m.u),this.h=m.h,e0(this,UT(m.i)),this.m=m.m):m&&(S=String(m).match(OT))?(this.l=!1,gd(this,S[1]||"",!0),this.o=vd(S[2]||""),this.g=vd(S[3]||"",!0),yd(this,S[4]),this.h=vd(S[5]||"",!0),e0(this,S[6]||"",!0),this.m=vd(S[7]||"")):(this.l=!1,this.i=new _d(null,this.l))}Yi.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(wd(S,DT,!0),":");var P=this.g;return(P||S=="file")&&(m.push("//"),(S=this.o)&&m.push(wd(S,DT,!0),"@"),m.push(pd(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&m.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(wd(P,P.charAt(0)=="/"?u$:c$,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",wd(P,h$)),m.join("")},Yi.prototype.resolve=function(m){const S=Ds(this);let P=!!m.j;P?gd(S,m.j):P=!!m.o,P?S.o=m.o:P=!!m.g,P?S.g=m.g:P=m.u!=null;var D=m.h;if(P)yd(S,m.u);else if(P=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var U=S.h.lastIndexOf("/");U!=-1&&(D=S.h.slice(0,U+1)+D)}if(U=D,U==".."||U==".")D="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){D=U.lastIndexOf("/",0)==0,U=U.split("/");const $=[];for(let ee=0;ee<U.length;){const Re=U[ee++];Re=="."?D&&ee==U.length&&$.push(""):Re==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),D&&ee==U.length&&$.push("")):($.push(Re),D=!0)}D=$.join("/")}else D=U}return P?S.h=D:P=m.i.toString()!=="",P?e0(S,UT(m.i)):P=!!m.m,P&&(S.m=m.m),S};function Ds(m){return new Yi(m)}function gd(m,S,P){m.j=P?vd(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function yd(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function e0(m,S,P){S instanceof _d?(m.i=S,f$(m.i,m.l)):(P||(S=wd(S,d$)),m.i=new _d(S,m.l))}function ct(m,S,P){m.i.set(S,P)}function up(m){return ct(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function vd(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function wd(m,S,P){return typeof m=="string"?(m=encodeURI(m).replace(S,l$),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function l$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var DT=/[#\/\?@]/g,c$=/[#\?:]/g,u$=/[#\?]/g,d$=/[#\?@]/g,h$=/#/g;function _d(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Na(m){m.g||(m.g=new Map,m.h=0,m.i&&a$(m.i,function(S,P){m.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=_d.prototype,t.add=function(m,S){Na(this),this.i=null,m=Ql(this,m);let P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(S),this.h+=1,this};function MT(m,S){Na(m),S=Ql(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function LT(m,S){return Na(m),S=Ql(m,S),m.g.has(S)}t.forEach=function(m,S){Na(this),this.g.forEach(function(P,D){P.forEach(function(U){m.call(S,U,D,this)},this)},this)};function VT(m,S){Na(m);let P=[];if(typeof S=="string")LT(m,S)&&(P=P.concat(m.g.get(Ql(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)P=P.concat(m[S]);return P}t.set=function(m,S){return Na(this),this.i=null,m=Ql(this,m),LT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=VT(this,m),m.length>0?String(m[0]):S):S};function FT(m,S,P){MT(m,S),P.length>0&&(m.i=null,m.g.set(Ql(m,S),p(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let D=0;D<S.length;D++){var P=S[D];const U=pd(P);P=VT(this,P);for(let $=0;$<P.length;$++){let ee=U;P[$]!==""&&(ee+="="+pd(P[$])),m.push(ee)}}return this.i=m.join("&")};function UT(m){const S=new _d;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function Ql(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function f$(m,S){S&&!m.j&&(Na(m),m.i=null,m.g.forEach(function(P,D){const U=D.toLowerCase();D!=U&&(MT(this,D),FT(this,U,P))},m)),m.j=S}function p$(m,S){const P=new ye;if(o.Image){const D=new Image;D.onload=d(Qi,P,"TestLoadImage: loaded",!0,S,D),D.onerror=d(Qi,P,"TestLoadImage: error",!1,S,D),D.onabort=d(Qi,P,"TestLoadImage: abort",!1,S,D),D.ontimeout=d(Qi,P,"TestLoadImage: timeout",!1,S,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else S(!1)}function m$(m,S){const P=new ye,D=new AbortController,U=setTimeout(()=>{D.abort(),Qi(P,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:D.signal}).then($=>{clearTimeout(U),$.ok?Qi(P,"TestPingServer: ok",!0,S):Qi(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),Qi(P,"TestPingServer: error",!1,S)})}function Qi(m,S,P,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(P)}catch{}}function g$(){this.g=new Gl}function t0(m){this.i=m.Sb||null,this.h=m.ab||!1}h(t0,op),t0.prototype.g=function(){return new dp(this.i,this.h)};function dp(m,S){Ze.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(dp,Ze),t=dp.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,bd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||o).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xd(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,bd(this)),this.g&&(this.readyState=3,bd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$T(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function $T(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?xd(this):bd(this),this.readyState==3&&$T(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,xd(this))},t.Na=function(m){this.g&&(this.response=m,xd(this))},t.ga=function(){this.g&&xd(this)};function xd(m){m.readyState=4,m.l=null,m.j=null,m.B=null,bd(m)}t.setRequestHeader=function(m,S){this.A.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=S.next();return m.join(`\r
`)};function bd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(dp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function BT(m){let S="";return F(m,function(P,D){S+=D,S+=":",S+=P,S+=`\r
`}),S}function n0(m,S,P){e:{for(D in P){var D=!1;break e}D=!0}D||(P=BT(P),typeof m=="string"?P!=null&&pd(P):ct(m,S,P))}function Tt(m){Ze.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Tt,Ze);var y$=/^https?$/i,v$=["POST","PUT"];t=Tt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,S,P,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cs.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch($){zT(this,$);return}if(m=P||"",P=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)P.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const $ of D.keys())P.set($,D.get($));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(P.keys()).find($=>$.toLowerCase()=="content-type"),U=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(v$,S,void 0)>=0)||D||U||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of P)this.g.setRequestHeader($,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch($){zT(this,$)}};function zT(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,qT(m),hp(m)}function qT(m){m.A||(m.A=!0,Nt(m,"complete"),Nt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Nt(this,"complete"),Nt(this,"abort"),hp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hp(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?WT(this):this.Xa())},t.Xa=function(){WT(this)};function WT(m){if(m.h&&typeof i<"u"){if(m.v&&Xi(m)==4)setTimeout(m.Ca.bind(m),0);else if(Nt(m,"readystatechange"),Xi(m)==4){m.h=!1;try{const $=m.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var D;if(D=$===0){let ee=String(m.D).match(OT)[1]||null;!ee&&o.self&&o.self.location&&(ee=o.self.location.protocol.slice(0,-1)),D=!y$.test(ee?ee.toLowerCase():"")}P=D}if(P)Nt(m,"complete"),Nt(m,"success");else{m.o=6;try{var U=Xi(m)>2?m.g.statusText:""}catch{U=""}m.l=U+" ["+m.ca()+"]",qT(m)}}finally{hp(m)}}}}function hp(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const P=m.g;m.g=null,S||Nt(m,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Hv(S)}};function HT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function w$(m){const S={};m=(m.g&&Xi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(O(m[D]))continue;var P=r$(m[D]);const U=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const $=S[U]||[];S[U]=$,$.push(P)}q(S,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sd(m,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||S}function GT(m){this.za=0,this.i=[],this.j=new ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sd("baseRetryDelayMs",5e3,m),this.Za=Sd("retryDelaySeedMs",1e4,m),this.Ta=Sd("forwardChannelMaxRetries",2,m),this.va=Sd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new IT(m&&m.concurrentRequestLimit),this.Ba=new g$,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=GT.prototype,t.ka=8,t.I=1,t.connect=function(m,S,P,D){Ht(0),this.W=m,this.H=S||{},P&&D!==void 0&&(this.H.OSID=P,this.H.OAID=D),this.F=this.X,this.J=nC(this,null,this.W),pp(this)};function r0(m){if(KT(m),m.I==3){var S=m.V++,P=Ds(m.J);if(ct(P,"SID",m.M),ct(P,"RID",S),ct(P,"TYPE","terminate"),Ed(m,P),S=new Ki(m,m.j,S),S.M=2,S.A=up(Ds(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=S.A,P=!0),P||(S.g=rC(S.j,null),S.g.ea(S.A)),S.F=Date.now(),cp(S)}tC(m)}function fp(m){m.g&&(i0(m),m.g.cancel(),m.g=null)}function KT(m){fp(m),m.v&&(o.clearTimeout(m.v),m.v=null),mp(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function pp(m){if(!NT(m.h)&&!m.m){m.m=!0;var S=m.Ea;I||E(),k||(I(),k=!0),C.add(S,m),m.D=0}}function _$(m,S){return kT(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Aa(u(m.Ea,m,S),eC(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const U=new Ki(this,this.j,m);let $=this.o;if(this.U&&($?($=L($),te($,this.U)):$=this.U),this.u!==null||this.R||(U.J=$,$=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var D=this.i[P];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=QT(this,U,S),P=Ds(this.J),ct(P,"RID",m),ct(P,"CVER",22),this.G&&ct(P,"X-HTTP-Session-Id",this.G),Ed(this,P),$&&(this.R?S="headers="+pd(BT($))+"&"+S:this.u&&n0(P,this.u,$)),Zv(this.h,U),this.Ra&&ct(P,"TYPE","init"),this.S?(ct(P,"$req",S),ct(P,"SID","null"),U.U=!0,Yv(U,P,null)):Yv(U,P,S),this.I=2}}else this.I==3&&(m?YT(this,m):this.i.length==0||NT(this.h)||YT(this))};function YT(m,S){var P;S?P=S.l:P=m.V++;const D=Ds(m.J);ct(D,"SID",m.M),ct(D,"RID",P),ct(D,"AID",m.K),Ed(m,D),m.u&&m.o&&n0(D,m.u,m.o),P=new Ki(m,m.j,P,m.D+1),m.u===null&&(P.J=m.o),S&&(m.i=S.G.concat(m.i)),S=QT(m,P,1e3),P.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Zv(m.h,P),Yv(P,D,S)}function Ed(m,S){m.H&&F(m.H,function(P,D){ct(S,D,P)}),m.l&&F({},function(P,D){ct(S,D,P)})}function QT(m,S,P){P=Math.min(m.i.length,P);const D=m.l?u(m.l.Ka,m.l,m):null;e:{var U=m.i;let Re=-1;for(;;){const Gt=["count="+P];Re==-1?P>0?(Re=U[0].g,Gt.push("ofs="+Re)):Re=0:Gt.push("ofs="+Re);let et=!0;for(let en=0;en<P;en++){var $=U[en].g;const Ms=U[en].map;if($-=Re,$<0)Re=Math.max(0,U[en].g-100),et=!1;else try{$="req"+$+"_"||"";try{var ee=Ms instanceof Map?Ms:Object.entries(Ms);for(const[Ra,Ji]of ee){let Zi=Ji;a(Ji)&&(Zi=dd(Ji)),Gt.push($+Ra+"="+encodeURIComponent(Zi))}}catch(Ra){throw Gt.push($+"type="+encodeURIComponent("_badmap")),Ra}}catch{D&&D(Ms)}}if(et){ee=Gt.join("&");break e}}ee=void 0}return m=m.i.splice(0,P),S.G=m,ee}function XT(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;I||E(),k||(I(),k=!0),C.add(S,m),m.A=0}}function s0(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Aa(u(m.Da,m),eC(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,JT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Aa(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),fp(this),JT(this))};function i0(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function JT(m){m.g=new Ki(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=Ds(m.na);ct(S,"RID","rpc"),ct(S,"SID",m.M),ct(S,"AID",m.K),ct(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&ct(S,"TO",m.ia),ct(S,"TYPE","xmlhttp"),Ed(m,S),m.u&&m.o&&n0(S,m.u,m.o),m.O&&(m.g.H=m.O);var P=m.g;m=m.ba,P.M=1,P.A=up(Ds(S)),P.u=null,P.R=!0,CT(P,m)}t.Va=function(){this.C!=null&&(this.C=null,fp(this),s0(this),Ht(19))};function mp(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function ZT(m,S){var P=null;if(m.g==S){mp(m),i0(m),m.g=null;var D=2}else if(Jv(m.h,S))P=S.G,RT(m.h,S),D=1;else return;if(m.I!=0){if(S.o)if(D==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var U=m.D;D=Yl(),Nt(D,new ls(D,P)),pp(m)}else XT(m);else if(U=S.m,U==3||U==0&&S.X>0||!(D==1&&_$(m,S)||D==2&&s0(m)))switch(P&&P.length>0&&(S=m.h,S.i=S.i.concat(P)),U){case 1:ka(m,5);break;case 4:ka(m,10);break;case 3:ka(m,6);break;default:ka(m,2)}}}function eC(m,S){let P=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(P*=2),P*S}function ka(m,S){if(m.j.info("Error code "+S),S==2){var P=u(m.bb,m),D=m.Ua;const U=!D;D=new Yi(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gd(D,"https"),up(D),U?p$(D.toString(),P):m$(D.toString(),P)}else Ht(2);m.I=0,m.l&&m.l.pa(S),tC(m),KT(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function tC(m){if(m.I=0,m.ja=[],m.l){const S=jT(m.h);(S.length!=0||m.i.length!=0)&&(w(m.ja,S),w(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function nC(m,S,P){var D=P instanceof Yi?Ds(P):new Yi(P);if(D.g!="")S&&(D.g=S+"."+D.g),yd(D,D.u);else{var U=o.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;const $=new Yi(null);D&&gd($,D),S&&($.g=S),U&&yd($,U),P&&($.h=P),D=$}return P=m.G,S=m.wa,P&&S&&ct(D,P,S),ct(D,"VER",m.ka),Ed(m,D),D}function rC(m,S,P){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new Tt(new t0({ab:P})):new Tt(m.ma),S.Fa(m.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sC(){}t=sC.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gp(){}gp.prototype.g=function(m,S){return new fr(m,S)};function fr(m,S){Ze.call(this),this.g=new GT(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!O(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!O(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Xl(this)}h(fr,Ze),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){r0(this.g)},fr.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.v&&(P={},P.__data__=dd(m),m=P);S.i.push(new o$(S.Ya++,m)),S.I==3&&pp(S)},fr.prototype.N=function(){this.g.l=null,delete this.j,r0(this.g),delete this.g,fr.Z.N.call(this)};function iC(m){js.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const P in S){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}h(iC,js);function oC(){Kl.call(this),this.status=1}h(oC,Kl);function Xl(m){this.g=m}h(Xl,sC),Xl.prototype.ra=function(){Nt(this.g,"a")},Xl.prototype.qa=function(m){Nt(this.g,new iC(m))},Xl.prototype.pa=function(m){Nt(this.g,new oC)},Xl.prototype.oa=function(){Nt(this.g,"b")},gp.prototype.createWebChannel=gp.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,FD=function(){return new gp},VD=function(){return Yl()},LD=Hn,cx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Im=Vr,Gn.COMPLETE="complete",MD=Gn,hd.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Hd=hd,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,DD=Tt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const pA="@firebase/firestore",mA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new iS("@firebase/firestore");function lc(){return kl.logLevel}function re(t,...e){if(kl.logLevel<=Me.DEBUG){const n=e.map(lS);kl.debug(`Firestore (${Zu}): ${t}`,...n)}}function Li(t,...e){if(kl.logLevel<=Me.ERROR){const n=e.map(lS);kl.error(`Firestore (${Zu}): ${t}`,...n)}}function Eu(t,...e){if(kl.logLevel<=Me.WARN){const n=e.map(lS);kl.warn(`Firestore (${Zu}): ${t}`,...n)}}function lS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UD(t,r,n)}function UD(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Li(r),new Error(r)}function Qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||UD(e,s,r)}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class kG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RG{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new $D(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class jG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function ux(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return K0(s)===K0(i)?Le(s,i):K0(s)?1:-1}return Le(t.length,e.length)}const LG=55296,VG=57343;function K0(t){const e=t.charCodeAt(0);return e>=LG&&e<=VG}function Tu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="__name__";class Fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const r=Fs.isNumericId(e),s=Fs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):ux(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Go.fromString(e.substring(4,e.length-2))}}class ot extends Fs{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const FG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Fs{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return FG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yA}static keyField(){return new fn([yA])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ot.fromString(e))}static fromName(e){return new ue(ot.fromString(e).popFirst(5))}static empty(){return new ue(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UG(t,e,n,r){if(e===!0&&r===!0)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vA(t){if(!ue.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wA(t){if(ue.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zy(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bf(t,e){if(!zD(t))throw new ne(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ne(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=-62135596800,xA=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xA);return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_A)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xA}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bf(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_A;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Wt("string",ht._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ht(0,0))}static max(){return new Ee(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=-1;function $G(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new na(s,ue.empty(),e)}function BG(t){return new na(t.readTime,t.key,tf)}class na{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new na(Ee.min(),ue.empty(),tf)}static max(){return new na(Ee.max(),ue.empty(),tf)}}function zG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==qG)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function td(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ev.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=-1;function tv(t){return t==null}function Lg(t){return t===0&&1/t==-1/0}function GG(t){return typeof t=="number"&&Number.isInteger(t)&&!Lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="";function KG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bA(e)),e=YG(t.get(n),e);return bA(e)}function YG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case qD:n+="";break;default:n+=i}}return n}function bA(t){return t+qD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??un.RED,this.left=s??un.EMPTY,this.right=i??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EA(this.data.getIterator())}getIteratorFrom(e){return new EA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class EA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new Jt(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HD("Invalid base64 string: "+i):i}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const QG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=QG.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="server_timestamp",KD="__type__",YD="__previous_value__",QD="__local_write_time__";function dS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KD])==null?void 0:r.stringValue)===GD}function nv(t){const e=t.mapValue.fields[YD];return dS(e)?nv(e):e}function nf(t){const e=ra(t.mapValue.fields[QD].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Vg="(default)";class rf{constructor(e,n){this.projectId=e,this.database=n||Vg}static empty(){return new rf("","")}get isDefaultDatabase(){return this.database===Vg}isEqual(e){return e instanceof rf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="__type__",JD="__max__",zp={mapValue:{fields:{__type__:{stringValue:JD}}}},ZD="__vector__",Fg="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dS(t)?4:ZG(t)?9007199254740991:JG(t)?10:11:ve(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nf(t).isEqual(nf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ra(s.timestampValue),a=ra(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return sa(s.bytesValue).isEqual(sa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Rt(s.geoPointValue.latitude)===Rt(i.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Rt(s.integerValue)===Rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Rt(s.doubleValue),a=Rt(i.doubleValue);return o===a?Lg(o)===Lg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(SA(o)!==SA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!li(o[l],a[l])))return!1;return!0}(t,e);default:return ve(52216,{left:t})}}function sf(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function Cu(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Rt(i.integerValue||i.doubleValue),l=Rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return TA(t.timestampValue,e.timestampValue);case 4:return TA(nf(t),nf(e));case 5:return ux(t.stringValue,e.stringValue);case 6:return function(i,o){const a=sa(i),l=sa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Le(a[u],l[u]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(Rt(i.latitude),Rt(o.latitude));return a!==0?a:Le(Rt(i.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CA(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,p,w,g;const a=i.fields||{},l=o.fields||{},u=(f=a[Fg])==null?void 0:f.arrayValue,d=(p=l[Fg])==null?void 0:p.arrayValue,h=Le(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:CA(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zp.mapValue&&o===zp.mapValue)return 0;if(i===zp.mapValue)return 1;if(o===zp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ux(l[h],d[h]);if(f!==0)return f;const p=Cu(a[l[h]],u[d[h]]);if(p!==0)return p}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function TA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ra(t),r=ra(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function CA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Cu(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function Pu(t){return dx(t)}function dx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dx(n.fields[o])}`;return s+"}"}(t.mapValue):ve(61005,{value:t})}function Nm(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nv(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Nm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return va(r.fields,(i,o)=>{s+=i.length+Nm(o)}),s}(t.mapValue);default:throw ve(13486,{value:t})}}function PA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hx(t){return!!t&&"integerValue"in t}function hS(t){return!!t&&"arrayValue"in t}function AA(t){return!!t&&"nullValue"in t}function IA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function JG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XD])==null?void 0:r.stringValue)===ZD}function fh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fh(t.arrayValue.values[n]);return e}return{...t}}function ZG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(n)}setAll(e){let n=fn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=fh(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];km(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){va(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zn(fh(this.value))}}function eM(t){const e=[];return va(t.fields,(n,r)=>{const s=new fn([n]);if(km(r)){const i=eM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,Ee.min(),Ee.min(),Ee.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Tn(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,Ee.min(),Ee.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Ee.min(),Ee.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.position=e,this.inclusive=n}}function NA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Cu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function kA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function eK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{}class qt extends tM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nK(e,n,r):n==="array-contains"?new iK(e,r):n==="in"?new oK(e,r):n==="not-in"?new aK(e,r):n==="array-contains-any"?new lK(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rK(e,r):new sK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cu(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends tM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return nM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nM(t){return t.op==="and"}function rM(t){return tK(t)&&nM(t)}function tK(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function fx(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Pu(t.value);if(rM(t))return t.filters.map(e=>fx(e)).join(",");{const e=t.filters.map(n=>fx(n)).join(",");return`${t.op}(${e})`}}function sM(t,e){return t instanceof qt?function(r,s){return s instanceof qt&&r.op===s.op&&r.field.isEqual(s.field)&&li(r.value,s.value)}(t,e):t instanceof Ns?function(r,s){return s instanceof Ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sM(o,s.filters[a]),!0):!1}(t,e):void ve(19439)}function iM(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pu(n.value)}`}(t):t instanceof Ns?function(n){return n.op.toString()+" {"+n.getFilters().map(iM).join(" ,")+"}"}(t):"Filter"}class nK extends qt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class rK extends qt{constructor(e,n){super(e,"in",n),this.keys=oM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sK extends qt{constructor(e,n){super(e,"not-in",n),this.keys=oM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class iK extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hS(n)&&sf(n.arrayValue,this.value)}}class oK extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sf(this.value.arrayValue,n)}}class aK extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sf(this.value.arrayValue,n)}}class lK extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function RA(t,e=null,n=[],r=[],s=null,i=null,o=null){return new cK(t,e,n,r,s,i,o)}function fS(t){const e=Te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pu(r)).join(",")),e.Te=n}return e.Te}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kA(t.startAt,e.startAt)&&kA(t.endAt,e.endAt)}function px(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uK(t,e,n,r,s,i,o,a){return new nd(t,e,n,r,s,i,o,a)}function rv(t){return new nd(t)}function jA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aM(t){return t.collectionGroup!==null}function ph(t){const e=Te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(fn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new of(i,r))}),n.has(fn.keyField().canonicalString())||e.Ie.push(new of(fn.keyField(),r))}return e.Ie}function Js(t){const e=Te(t);return e.Ee||(e.Ee=dK(e,ph(t))),e.Ee}function dK(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new of(s.field,i)});const n=t.endAt?new Ug(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ug(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mx(t,e){const n=t.filters.concat([e]);return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gx(t,e,n){return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sv(t,e){return pS(Js(t),Js(e))&&t.limitType===e.limitType}function lM(t){return`${fS(Js(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iM(s)).join(", ")}]`),tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pu(s)).join(",")),`Target(${r})`}(Js(t))}; limitType=${t.limitType})`}function iv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ph(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=NA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ph(r),s)||r.endAt&&!function(o,a,l){const u=NA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ph(r),s))}(t,e)}function hK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cM(t){return(e,n)=>{let r=!1;for(const s of ph(t)){const i=fK(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function fK(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Cu(l,u):ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return WD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new Et(ue.comparator);function Vi(){return pK}const uM=new Et(ue.comparator);function Gd(...t){let e=uM;for(const n of t)e=e.insert(n.key,n);return e}function dM(t){let e=uM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return mh()}function hM(){return mh()}function mh(){return new zl(t=>t.toString(),(t,e)=>t.isEqual(e))}const mK=new Et(ue.comparator),gK=new Jt(ue.comparator);function Ve(...t){let e=gK;for(const n of t)e=e.add(n);return e}const yK=new Jt(Le);function vK(){return yK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function fM(t){return{integerValue:""+t}}function wK(t,e){return GG(e)?fM(e):mS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this._=void 0}}function _K(t,e,n){return t instanceof af?function(s,i){const o={fields:{[KD]:{stringValue:GD},[QD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dS(i)&&(i=nv(i)),i&&(o.fields[YD]=i),{mapValue:o}}(n,e):t instanceof lf?mM(t,e):t instanceof cf?gM(t,e):function(s,i){const o=pM(s,i),a=OA(o)+OA(s.Ae);return hx(o)&&hx(s.Ae)?fM(a):mS(s.serializer,a)}(t,e)}function xK(t,e,n){return t instanceof lf?mM(t,e):t instanceof cf?gM(t,e):n}function pM(t,e){return t instanceof $g?function(r){return hx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class af extends ov{}class lf extends ov{constructor(e){super(),this.elements=e}}function mM(t,e){const n=yM(e);for(const r of t.elements)n.some(s=>li(s,r))||n.push(r);return{arrayValue:{values:n}}}class cf extends ov{constructor(e){super(),this.elements=e}}function gM(t,e){let n=yM(e);for(const r of t.elements)n=n.filter(s=>!li(s,r));return{arrayValue:{values:n}}}class $g extends ov{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OA(t){return Rt(t.integerValue||t.doubleValue)}function yM(t){return hS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e,n){this.field=e,this.transform=n}}function SK(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lf&&s instanceof lf||r instanceof cf&&s instanceof cf?Tu(r.elements,s.elements,li):r instanceof $g&&s instanceof $g?li(r.Ae,s.Ae):r instanceof af&&s instanceof af}(t.transform,e.transform)}class EK{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class av{}function vM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gS(t.key,Cs.none()):new zf(t.key,t.data,Cs.none());{const n=t.data,r=Zn.empty();let s=new Jt(fn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wa(t.key,r,new Tr(s.toArray()),Cs.none())}}function TK(t,e,n){t instanceof zf?function(s,i,o){const a=s.value.clone(),l=MA(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(s,i,o){if(!Rm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=MA(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(wM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gh(t,e,n,r){return t instanceof zf?function(i,o,a,l){if(!Rm(i.precondition,o))return a;const u=i.value.clone(),d=LA(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(i,o,a,l){if(!Rm(i.precondition,o))return a;const u=LA(i.fieldTransforms,l,o),d=o.data;return d.setAll(wM(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Rm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CK(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pM(r.transform,s||null);i!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,i))}return n||null}function DA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Tu(r,s,(i,o)=>SK(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zf extends av{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends av{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MA(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xK(o,a,n[s]))}return r}function LA(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_K(i,o,e))}return r}class gS extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PK extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TK(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=vM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(n,r)=>DA(n,r))&&Tu(this.baseMutations,e.baseMutations,(n,r)=>DA(n,r))}}class yS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return mK}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IK=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ue;function kK(t){switch(t){case H.OK:return ve(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function _M(t){if(t===void 0)return Li("GRPC error has no .code"),H.UNKNOWN;switch(t){case Vt.OK:return H.OK;case Vt.CANCELLED:return H.CANCELLED;case Vt.UNKNOWN:return H.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return H.INTERNAL;case Vt.UNAVAILABLE:return H.UNAVAILABLE;case Vt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Vt.NOT_FOUND:return H.NOT_FOUND;case Vt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Vt.ABORTED:return H.ABORTED;case Vt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Vt.DATA_LOSS:return H.DATA_LOSS;default:return ve(39323,{code:t})}}(Ue=Vt||(Vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new Go([4294967295,4294967295],0);function VA(t){const e=RK().encode(t),n=new OD;return n.update(e),new Uint8Array(n.digest())}function FA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Go([n,r],0),new Go([s,i],0)]}class vS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kd(`Invalid padding: ${n}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Go.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Go.fromNumber(r)));return s.compare(jK)===1&&(s=new Go([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VA(e),[r,s]=FA(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vS(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=VA(e),[r,s]=FA(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lv(Ee.min(),s,new Et(Le),Vi(),Ve())}}class qf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qf(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class xM{constructor(e,n){this.targetId=e,this.Ce=n}}class bM{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class UA{constructor(){this.ve=0,this.Fe=$A(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve(38017,{changeType:i})}}),new qf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$A()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OK{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=qp(),this.He=qp(),this.Ye=new Et(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(px(i))if(r===0){const o=new ue(i.path);this.et(n,o,Tn.newNoDocument(o,Ee.min()))}else Qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=sa(r).toUint8Array()}catch(l){if(l instanceof HD)return Eu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vS(o,s,i)}catch(l){return Eu(l instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&px(a.target)){const l=new ue(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Tn.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ve();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new lv(e,n,this.Ye,this.je,r);return this.je=Vi(),this.Je=qp(),this.He=qp(),this.Ye=new Et(Le),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qp(){return new Et(ue.comparator)}function $A(){return new Et(ue.comparator)}const DK={asc:"ASCENDING",desc:"DESCENDING"},MK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LK={and:"AND",or:"OR"};class VK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yx(t,e){return t.useProto3Json||tv(e)?e:{value:e}}function Bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FK(t,e){return Bg(t,e.toTimestamp())}function Zs(t){return Qe(!!t,49232),Ee.fromTimestamp(function(n){const r=ra(n);return new ht(r.seconds,r.nanos)}(t))}function wS(t,e){return vx(t,e).canonicalString()}function vx(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EM(t){const e=ot.fromString(t);return Qe(IM(e),10190,{key:e.toString()}),e}function wx(t,e){return wS(t.databaseId,e.path)}function Y0(t,e){const n=EM(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(CM(n))}function TM(t,e){return wS(t.databaseId,e)}function UK(t){const e=EM(t);return e.length===4?ot.emptyPath():CM(e)}function _x(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CM(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BA(t,e,n){return{name:wx(t,e),fields:n.value.mapValue.fields}}function $K(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Qe(d===void 0||typeof d=="string",58123),yn.fromBase64String(d||"")):(Qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?H.UNKNOWN:_M(u.code);return new ne(d,u.message||"")}(o);n=new bM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Y0(t,r.document.name),i=Zs(r.document.updateTime),o=r.document.createTime?Zs(r.document.createTime):Ee.min(),a=new Zn({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new jm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Y0(t,r.document),i=r.readTime?Zs(r.readTime):Ee.min(),o=Tn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new jm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Y0(t,r.document),i=r.removedTargetIds||[];n=new jm([],i,s,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new NK(s,i),a=r.targetId;n=new xM(a,o)}}return n}function BK(t,e){let n;if(e instanceof zf)n={update:BA(t,e.key,e.value)};else if(e instanceof gS)n={delete:wx(t,e.key)};else if(e instanceof wa)n={update:BA(t,e.key,e.data),updateMask:XK(e.fieldMask)};else{if(!(e instanceof PK))return ve(16599,{Vt:e.type});n={verify:wx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof af)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $g)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ve(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:FK(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve(27497)}(t,e.precondition)),n}function zK(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Zs(s.updateTime):Zs(i);return o.isEqual(Ee.min())&&(o=Zs(i)),new EK(o,s.transformResults||[])}(n,e))):[]}function qK(t,e){return{documents:[TM(t,e.path)]}}function WK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TM(t,s);const i=function(u){if(u.length!==0)return AM(Ns.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:uc(f.field),direction:KK(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function HK(t){let e=UK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=PM(h);return f instanceof Ns&&rM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new of(dc(w.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,tv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ug(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Ug(p,f)}(n.endAt)),uK(e,s,o,i,a,"F",l,u)}function GK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dc(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=dc(n.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dc(n.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dc(n.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return qt.create(dc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ns.create(n.compositeFilter.filters.map(r=>PM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(t):ve(30097,{filter:t})}function KK(t){return DK[t]}function YK(t){return MK[t]}function QK(t){return LK[t]}function uc(t){return{fieldPath:t.canonicalString()}}function dc(t){return fn.fromServerFormat(t.fieldPath)}function AM(t){return t instanceof qt?function(n){if(n.op==="=="){if(IA(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NAN"}};if(AA(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IA(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NAN"}};if(AA(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(n.field),op:YK(n.op),value:n.value}}}(t):t instanceof Ns?function(n){const r=n.getFilters().map(s=>AM(s));return r.length===1?r[0]:{compositeFilter:{op:QK(n.op),filters:r}}}(t):ve(54877,{filter:t})}function XK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),a=yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.yt=e}}function ZK(t){const e=HK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(){this.Cn=new tY}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(na.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class tY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NM=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(NM,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Au(0)}static cr(){return new Au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="LruGarbageCollector",nY=1048576;function WA([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class rY{constructor(e){this.Ir=e,this.buffer=new Jt(WA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(qA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){td(n)?re(qA,"Ignoring IndexedDB error during garbage collection: ",n):await ed(n)}await this.Vr(3e5)})}}class iY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(ev.ce);const r=new rY(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(zA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),lc()<=Me.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function oY(t,e){return new iY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(){this.changes=new zl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gh(r.mutation,s,Tr.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=el();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Gd();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Vi();const o=mh(),a=function(){return mh()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof wa)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),gh(d.mutation,u,d.mutation.getFieldMask(),ht.now())):o.set(u.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new lY(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=mh();let s=new Et((o,a)=>o-a),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Tr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ve()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=hM();d.forEach(f=>{if(!i.has(f)){const p=vM(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(el());let a=tf,l=i;return o.next(u=>K.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ve())).next(d=>({batchId:a,changes:dM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=Gd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Gd();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,l=>{const u=function(h,f){return new nd(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Tn.newInvalidDocument(d)))});let a=Gd();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&gh(d.mutation,u,Tr.empty(),ht.now()),iv(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zs(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:ZK(s.bundledQuery),readTime:Zs(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.overlays=new Et(ue.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=el(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=el(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=el(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return K.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IK(n,r));let i=this.qr.get(n);i===void 0&&(i=Ve(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Qr=new Jt(tn.$r),this.Ur=new Jt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new ot([])),r=new tn(n,e),s=new tn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new ot([])),r=new tn(n,e),s=new tn(n,e+1);let i=Ve();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(tn.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AK(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new tn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?uS:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),s=new tn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Le);return n.forEach(s=>{const i=new tn(s,0),o=new tn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new tn(new ue(i),0);let a=new Jt(Le);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),K.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,s=>{const i=new tn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new tn(n,0),s=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e){this.ri=e,this.docs=function(){return new Et(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Vi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vi();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zG(BG(d),r)<=0||(s.has(d.key)||iv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve(9500)}ii(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mY(this)}getSize(e){return K.resolve(this.size)}}class mY extends aY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.persistence=e,this.si=new zl(n=>fS(n),pS),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new _S,this.targetCount=0,this.ai=Au.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.ui={},this.overlays={},this.ci=new ev(0),this.li=!1,this.li=!0,this.hi=new hY,this.referenceDelegate=e(this),this.Pi=new gY(this),this.indexManager=new eY,this.remoteDocumentCache=function(s){return new pY(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new JK(n),this.Ii=new uY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new fY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new yY(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class yY extends WG{constructor(e){super(),this.currentSequenceNumber=e}}class xS{constructor(e){this.persistence=e,this.Ri=new _S,this.Vi=null}static mi(e){return new xS(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const s=ue.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zg{constructor(e,n){this.persistence=e,this.pi=new zl(r=>KG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=oY(this,n)}static mi(e,n){return new zg(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return K.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ve(),s=Ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new bS(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hH()?8:HG(kn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vY;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(lc()<=Me.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(lc()<=Me.DEBUG&&re("QueryEngine","Query:",cc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(lc()<=Me.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):K.resolve())}ys(e,n){if(jA(n))return K.resolve(null);let r=Js(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gx(n,null,"F"),r=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ve(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,gx(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return jA(n)||s.isEqual(Ee.min())?K.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?K.resolve(null):(lc()<=Me.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cc(n)),this.vs(e,o,n,$G(s,tf)).next(a=>a))})}Ds(e,n){let r=new Jt(cM(e));return n.forEach((s,i)=>{iv(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return lc()<=Me.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",cc(n)),this.ps.getDocumentsMatchingQuery(e,n,na.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="LocalStore",_Y=3e8;class xY{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Le),this.xs=new zl(i=>fS(i),pS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bY(t,e,n,r){return new xY(t,e,n,r)}async function RM(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ve();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function SY(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(w=>{p=p.next(()=>d.getEntry(l,w)).next(g=>{const y=u.docVersions.get(w);Qe(y!==null,48541),g.version.compareTo(y)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jM(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function EY(t,e){const n=Te(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(yn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=_Y?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=Vi(),u=Ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(TY(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(Ee.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function TY(t,e,n){let r=Ve(),s=Ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re(SS,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function CY(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PY(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new No(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function xx(t,e,n){const r=Te(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!td(o))throw o;re(SS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function HA(t,e,n){const r=Te(t);let s=Ee.min(),i=Ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Te(l),f=h.xs.get(d);return f!==void 0?K.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,o,Js(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Ve())).next(a=>(AY(r,hK(e),a),{documents:a,Qs:i})))}function AY(t,e,n){let r=t.Os.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class GA{constructor(){this.activeTargetIds=vK()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IY{constructor(){this.Mo=new GA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new GA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="ConnectivityMonitor";class YA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(KA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(KA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp=null;function bx(){return Wp===null?Wp=function(){return 268435456+Math.round(2147483648*Math.random())}():Wp++,"0x"+Wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="RestConnection",kY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Vg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=bx(),a=this.zo(e,n.toUriEncodedString());re(Q0,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Xu(u);return this.Jo(e,a,l,r,d).then(h=>(re(Q0,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Eu(Q0,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=kY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class OY extends RY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=bx();return new Promise((a,l)=>{const u=new DD;u.setWithCredentials(!0),u.listenOnce(MD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Im.NO_ERROR:const h=u.getResponseJson();re(xn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Im.TIMEOUT:re(xn,`RPC '${e}' ${o} timed out`),l(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const f=u.getStatus();if(re(xn,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const g=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(w.status);l(new ne(g,w.message))}else l(new ne(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(H.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(xn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);re(xn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=bx(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FD(),a=VD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");re(xn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,p=!1;const w=new jY({Yo:y=>{p?re(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(re(xn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),re(xn,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Zo:()=>h.close()}),g=(y,_,v)=>{y.listen(_,x=>{try{v(x)}catch(T){setTimeout(()=>{throw T},0)}})};return g(h,Hd.EventType.OPEN,()=>{p||(re(xn,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),g(h,Hd.EventType.CLOSE,()=>{p||(p=!0,re(xn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(h))}),g(h,Hd.EventType.ERROR,y=>{p||(p=!0,Eu(xn,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),w.a_(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),g(h,Hd.EventType.MESSAGE,y=>{var _;if(!p){const v=y.data[0];Qe(!!v,16349);const x=v,T=(x==null?void 0:x.error)||((_=x[0])==null?void 0:_.error);if(T){re(xn,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let k=function(A){const R=Vt[A];if(R!==void 0)return _M(R)}(I),C=T.message;k===void 0&&(k=H.INTERNAL,C="Unknown error status: "+I+" with message "+T.message),p=!0,w.a_(new ne(k,C)),h.close()}else re(xn,`RPC '${e}' stream ${s} received:`,v),w.u_(v)}}),g(a,LD.STAT_EVENT,y=>{y.stat===cx.PROXY?re(xn,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===cx.NOPROXY&&re(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function X0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return new VK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="PersistentStream";class DM{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DY extends DM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$K(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Zs(o.readTime):Ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_x(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=px(l)?{documents:qK(i,l)}:{query:WK(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SM(i,o.resumeToken);const u=yx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Bg(i,o.snapshotVersion.toTimestamp());const u=yx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=GK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_x(this.serializer),n.removeTarget=e,this.q_(n)}}class MY extends DM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zK(e.writeResults,e.commitTime),r=Zs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_x(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BK(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{}class VY extends LY{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,vx(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(H.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,vx(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class UY{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ql(this)&&(re(Rl,"Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.Ea.add(4),await Wf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await uv(u)}(this))})}),this.Ra=new FY(r,s)}}async function uv(t){if(ql(t))for(const e of t.da)await e(!0)}async function Wf(t){for(const e of t.da)await e(!1)}function MM(t,e){const n=Te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),PS(n)?CS(n):rd(n).O_()&&TS(n,e))}function ES(t,e){const n=Te(t),r=rd(n);n.Ia.delete(e),r.O_()&&LM(n,e),n.Ia.size===0&&(r.O_()?r.L_():ql(n)&&n.Ra.set("Unknown"))}function TS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rd(t).Y_(e)}function LM(t,e){t.Va.Ue(e),rd(t).Z_(e)}function CS(t){t.Va=new OK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.Ra.ua()}function PS(t){return ql(t)&&!rd(t).x_()&&t.Ia.size>0}function ql(t){return Te(t).Ea.size===0}function VM(t){t.Va=void 0}async function $Y(t){t.Ra.set("Online")}async function BY(t){t.Ia.forEach((e,n)=>{TS(t,e)})}async function zY(t,e){VM(t),PS(t)?(t.Ra.ha(e),CS(t)):t.Ra.set("Unknown")}async function qY(t,e,n){if(t.Ra.set("Online"),e instanceof bM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){re(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qg(t,r)}else if(e instanceof jm?t.Va.Ze(e):e instanceof xM?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ee.min()))try{const r=await jM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),LM(i,l);const h=new No(d.target,l,u,d.sequenceNumber);TS(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(Rl,"Failed to raise snapshot:",r),await qg(t,r)}}async function qg(t,e,n){if(!td(e))throw e;t.Ea.add(1),await Wf(t),t.Ra.set("Offline"),n||(n=()=>jM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(Rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uv(t)})}function FM(t,e){return e().catch(n=>qg(t,n,e))}async function dv(t){const e=Te(t),n=oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uS;for(;WY(e);)try{const s=await CY(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,HY(e,s)}catch(s){await qg(e,s)}UM(e)&&$M(e)}function WY(t){return ql(t)&&t.Ta.length<10}function HY(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UM(t){return ql(t)&&!oa(t).x_()&&t.Ta.length>0}function $M(t){oa(t).start()}async function GY(t){oa(t).ra()}async function KY(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function YY(t,e,n){const r=t.Ta.shift(),s=yS.from(r,e,n);await FM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await dv(t)}async function QY(t,e){e&&oa(t).X_&&await async function(r,s){if(function(o){return kK(o)&&o!==H.ABORTED}(s.code)){const i=r.Ta.shift();oa(r).B_(),await FM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await dv(r)}}(t,e),UM(t)&&$M(t)}async function XA(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),re(Rl,"RemoteStore received new credentials");const r=ql(n);n.Ea.add(3),await Wf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uv(n)}async function XY(t,e){const n=Te(t);e?(n.Ea.delete(2),await uv(n)):e||(n.Ea.add(2),await Wf(n),n.Ra.set("Unknown"))}function rd(t){return t.ma||(t.ma=function(n,r,s){const i=Te(n);return i.sa(),new DY(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:$Y.bind(null,t),t_:BY.bind(null,t),r_:zY.bind(null,t),H_:qY.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),PS(t)?CS(t):t.Ra.set("Unknown")):(await t.ma.stop(),VM(t))})),t.ma}function oa(t){return t.fa||(t.fa=function(n,r,s){const i=Te(n);return i.sa(),new MY(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:GY.bind(null,t),r_:QY.bind(null,t),ta:KY.bind(null,t),na:YY.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dv(t)):(await t.fa.stop(),t.Ta.length>0&&(re(Rl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new AS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(t,e){if(Li("AsyncQueue",`${e}: ${t}`),td(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{static emptySet(e){return new Wc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Gd(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.ga=new Et(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Iu{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Iu(e,n,Wc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZY{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Te(n),i=s.queries;s.queries=ZA(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ne(H.ABORTED,"Firestore shutting down"))}}function ZA(){return new zl(t=>lM(t),sv)}async function NS(t,e){const n=Te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new JY,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=IS(o,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&RS(n)}async function kS(t,e){const n=Te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eQ(t,e){const n=Te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&RS(n)}function tQ(t,e,n){const r=Te(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function RS(t){t.Ca.forEach(e=>{e.next()})}var Sx,eI;(eI=Sx||(Sx={})).Ma="default",eI.Cache="cache";class jS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.key=e}}class zM{constructor(e){this.key=e}}class nQ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=cM(e),this.tu=new Wc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new JA,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=iv(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?w!==g&&(r.track({type:3,doc:p}),y=!0):this.su(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,w){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:y})}};return g(p)-g(w)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Iu(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new zM(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BM(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const OS="SyncEngine";class rQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sQ{constructor(e){this.key=e,this.hu=!1}}class iQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zl(a=>lM(a),sv),this.Iu=new Map,this.Eu=new Set,this.du=new Et(ue.comparator),this.Au=new Map,this.Ru=new _S,this.Vu={},this.mu=new Map,this.fu=Au.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oQ(t,e,n=!0){const r=YM(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qM(r,e,n,!0),s}async function aQ(t,e){const n=YM(t);await qM(n,e,!0,!1)}async function qM(t,e,n,r){const s=await PY(t.localStore,Js(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await lQ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MM(t.remoteStore,s),a}async function lQ(t,e,n,r,s){t.pu=(h,f,p)=>async function(g,y,_,v){let x=y.view.ru(_);x.Cs&&(x=await HA(g.localStore,y.query,!1).then(({documents:C})=>y.view.ru(C,x)));const T=v&&v.targetChanges.get(y.targetId),I=v&&v.targetMismatches.get(y.targetId)!=null,k=y.view.applyChanges(x,g.isPrimaryClient,T,I);return nI(g,y.targetId,k.au),k.snapshot}(t,h,f,p);const i=await HA(t.localStore,e,!0),o=new nQ(e,i.Qs),a=o.ru(i.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);nI(t,n,u.au);const d=new rQ(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function cQ(t,e,n){const r=Te(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!sv(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ES(r.remoteStore,s.targetId),Ex(r,s.targetId)}).catch(ed)):(Ex(r,s.targetId),await xx(r.localStore,s.targetId,!0))}async function uQ(t,e){const n=Te(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ES(n.remoteStore,r.targetId))}async function dQ(t,e,n){const r=vQ(t);try{const s=await function(o,a){const l=Te(o),u=ht.now(),d=a.reduce((p,w)=>p.add(w.key),Ve());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=Vi(),g=Ve();return l.Ns.getEntries(p,d).next(y=>{w=y,w.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(y=>{h=y;const _=[];for(const v of a){const x=CK(v,h.get(v.key).overlayedDocument);x!=null&&_.push(new wa(v.key,x,eM(x.value.mapValue),Cs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:dM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Et(Le)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Hf(r,s.changes),await dv(r.remoteStore)}catch(s){const i=IS(s,"Failed to persist write");n.reject(i)}}async function WM(t,e){const n=Te(t);try{const r=await EY(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Qe(o.hu,14607):s.removedDocuments.size>0&&(Qe(o.hu,42227),o.hu=!1))}),await Hf(n,r,e)}catch(r){await ed(r)}}function tI(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Te(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(a)&&(u=!0)}),u&&RS(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hQ(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Et(ue.comparator);o=o.insert(i,Tn.newNoDocument(i,Ee.min()));const a=Ve().add(i),l=new lv(Ee.min(),new Map,new Et(Le),o,a);await WM(r,l),r.du=r.du.remove(i),r.Au.delete(e),DS(r)}else await xx(r.localStore,e,!1).then(()=>Ex(r,e,n)).catch(ed)}async function fQ(t,e){const n=Te(t),r=e.batch.batchId;try{const s=await SY(n.localStore,e);GM(n,r,null),HM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hf(n,s)}catch(s){await ed(s)}}async function pQ(t,e,n){const r=Te(t);try{const s=await function(o,a){const l=Te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Qe(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);GM(r,e,n),HM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hf(r,s)}catch(s){await ed(s)}}function HM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function GM(t,e,n){const r=Te(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||KM(t,r)})}function KM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ES(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),DS(t))}function nI(t,e,n){for(const r of n)r instanceof BM?(t.Ru.addReference(r.key,e),mQ(t,r)):r instanceof zM?(re(OS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KM(t,r.key)):ve(19791,{wu:r})}function mQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(OS,"New document in limbo: "+n),t.Eu.add(r),DS(t))}function DS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new sQ(n)),t.du=t.du.insert(n,r),MM(t.remoteStore,new No(Js(rv(n.path)),r,"TargetPurposeLimboResolution",ev.ce))}}async function Hf(t,e,n){const r=Te(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=bS.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=Te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!td(h))throw h;re(SS,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),w=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(f,g)}}}(r.localStore,i))}async function gQ(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){re(OS,"User change. New user:",e.toKey());const r=await RM(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ne(H.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hf(n,r.Ls)}}function yQ(t,e){const n=Te(t),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let s=Ve();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function YM(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hQ.bind(null,e),e.Pu.H_=eQ.bind(null,e.eventManager),e.Pu.yu=tQ.bind(null,e.eventManager),e}function vQ(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pQ.bind(null,e),e}class Wg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bY(this.persistence,new wY,e.initialUser,this.serializer)}Cu(e){return new kM(xS.mi,this.serializer)}Du(e){return new IY}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wg.provider={build:()=>new Wg};class wQ extends Wg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof zg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new kM(r=>zg.mi(r,n),this.serializer)}}class Tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gQ.bind(null,this.syncEngine),await XY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZY}()}createDatastore(e){const n=cv(e.databaseInfo.databaseId),r=function(i){return new OY(i)}(e.databaseInfo);return function(i,o,a,l){return new VY(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new UY(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tI(this.syncEngine,n,0),function(){return YA.v()?new YA:new NY}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new iQ(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Te(s);re(Rl,"RemoteStore shutting down."),i.Ea.add(5),await Wf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tx.provider={build:()=>new Tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class _Q{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=cS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{re(aa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(aa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function J0(t,e){t.asyncQueue.verifyOperationInProgress(),re(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xQ(t);re(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>XA(e.remoteStore,s)),t._onlineComponents=e}async function xQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(aa,"Using user provided OfflineComponentProvider");try{await J0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await J0(t,new Wg)}}else re(aa,"Using default OfflineComponentProvider"),await J0(t,new wQ(void 0));return t._offlineComponents}async function QM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(aa,"Using user provided OnlineComponentProvider"),await rI(t,t._uninitializedComponentsProvider._online)):(re(aa,"Using default OnlineComponentProvider"),await rI(t,new Tx))),t._onlineComponents}function bQ(t){return QM(t).then(e=>e.syncEngine)}async function Hg(t){const e=await QM(t),n=e.eventManager;return n.onListen=oQ.bind(null,e.syncEngine),n.onUnlisten=cQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uQ.bind(null,e.syncEngine),n}function SQ(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new MS({next:f=>{d.Nu(),o.enqueueAndForget(()=>kS(i,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ne(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new jS(rv(a.path),d,{includeMetadataChanges:!0,qa:!0});return NS(i,h)}(await Hg(t),t.asyncQueue,e,n,r)),r.promise}function EQ(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new MS({next:f=>{d.Nu(),o.enqueueAndForget(()=>kS(i,h)),f.fromCache&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new jS(a,d,{includeMetadataChanges:!0,qa:!0});return NS(i,h)}(await Hg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="firestore.googleapis.com",iI=!0;class oI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JM,this.ssl=iI}else this.host=e.host,this.ssl=e.ssl??iI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nY)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NG;switch(r.type){case"firstParty":return new OG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sI.get(n);r&&(re("ComponentProvider","Removing Datastore"),sI.delete(n),r.terminate())}(this),Promise.resolve()}}function TQ(t,e,n,r={}){var u;t=es(t,hv);const s=Xu(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(CD(`https://${a}`),PD("Firestore",!0)),i.host!==JM&&i.host!==a&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Il(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Sn.MOCK_USER;else{d=rH(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Sn(f)}t._authCredentials=new kG(new $D(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bf(n,Dt._jsonSchema))return new Dt(e,r||null,new ue(ot.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Wt("string",Dt._jsonSchemaVersion),referencePath:Wt("string")};class Ko extends _a{constructor(e,n,r){super(e,n,rv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ue(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function po(t,e,...n){if(t=Rn(t),BD("collection","path",e),t instanceof hv){const r=ot.fromString(e,...n);return wA(r),new Ko(t,null,r)}{if(!(t instanceof Dt||t instanceof Ko))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return wA(r),new Ko(t.firestore,null,r)}}function yh(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=cS.newId()),BD("doc","path",e),t instanceof hv){const r=ot.fromString(e,...n);return vA(r),new Dt(t,null,new ue(r))}{if(!(t instanceof Dt||t instanceof Ko))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return vA(r),new Dt(t.firestore,t instanceof Ko?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="AsyncQueue";class lI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OM(this,"async_queue_retry"),this._c=()=>{const r=X0();r&&re(aI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=X0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=X0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!td(e))throw e;re(aI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",cI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=AS.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ve(47125,{Pc:cI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class la extends hv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new lI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lI(e),this._firestoreClient=void 0,await e}}}function CQ(t,e){const n=typeof t=="object"?t:kD(),r=typeof t=="string"?t:Vg,s=aS(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=tH("firestore");i&&TQ(s,...i)}return s}function fv(t){if(t._terminated)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PQ(t),t._firestoreClient}function PQ(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new XG(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _Q(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(yn.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bf(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:Wt("string",Hr._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Bf(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Wt("string",ei._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bf(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ti(e.vectorValues);throw new ne(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Wt("string",ti._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=/^__.*__$/;class IQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new zf(e,this.data,n,this.fieldTransforms)}}class ZM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:t})}}class LS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new LS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eL(this.Ac)&&AQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cv(e)}Cc(e,n,r,s=!1){return new LS({Ac:e,methodName:n,Dc:r,path:fn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VS(t){const e=t._freezeSettings(),n=cv(t._databaseId);return new NQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kQ(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);US("Data must be an object, but it was:",o,r);const a=tL(r,o);let l,u;if(i.merge)l=new Tr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Cx(e,h,n);if(!o.contains(f))throw new ne(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);rL(d,f)||d.push(f)}l=new Tr(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new IQ(new Zn(a),l,u)}class gv extends mv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gv}}class FS extends mv{_toFieldTransform(e){return new bK(e.path,new af)}isEqual(e){return e instanceof FS}}function RQ(t,e,n,r){const s=t.Cc(1,e,n);US("Data must be an object, but it was:",s,r);const i=[],o=Zn.empty();va(r,(l,u)=>{const d=$S(e,l,n);u=Rn(u);const h=s.yc(d);if(u instanceof gv)i.push(d);else{const f=Gf(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new Tr(i);return new ZM(o,a,s.fieldTransforms)}function jQ(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Cx(e,r,n)],l=[s];if(i.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Cx(e,i[f])),l.push(i[f+1]);const u=[],d=Zn.empty();for(let f=a.length-1;f>=0;--f)if(!rL(u,a[f])){const p=a[f];let w=l[f];w=Rn(w);const g=o.yc(p);if(w instanceof gv)u.push(p);else{const y=Gf(w,g);y!=null&&(u.push(p),d.set(p,y))}}const h=new Tr(u);return new ZM(d,h,o.fieldTransforms)}function OQ(t,e,n,r=!1){return Gf(n,t.Cc(r?4:3,e))}function Gf(t,e){if(nL(t=Rn(t)))return US("Unsupported field value:",e,t),tL(t,e);if(t instanceof mv)return function(r,s){if(!eL(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Gf(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wK(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:Bg(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bg(s.serializer,i)}}if(r instanceof ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:SM(s.serializer,r._byteString)};if(r instanceof Dt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ti)return function(o,a){return{mapValue:{fields:{[XD]:{stringValue:ZD},[Fg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return mS(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Zy(r)}`)}(t,e)}function tL(t,e){const n={};return WD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,s)=>{const i=Gf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function nL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ei||t instanceof Hr||t instanceof Dt||t instanceof mv||t instanceof ti)}function US(t,e,n){if(!nL(n)||!zD(n)){const r=Zy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Cx(t,e,n){if((e=Rn(e))instanceof pv)return e._internalPath;if(typeof e=="string")return $S(t,e);throw Gg("Field path arguments must be of type string or ",t,!1,void 0,n)}const DQ=new RegExp("[~\\*/\\[\\]]");function $S(t,e,n){if(e.search(DQ)>=0)throw Gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pv(...e.split("."))._internalPath}catch{throw Gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(H.INVALID_ARGUMENT,a+t+l)}function rL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MQ extends sL{data(){return super.data()}}function yv(t,e){return typeof e=="string"?$S(t,e):e instanceof pv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BS{}class oL extends BS{}function Om(t,e,...n){let r=[];e instanceof BS&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof zS).length,a=i.filter(l=>l instanceof vv).length;if(o>1||o>0&&a>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vv extends oL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vv(e,n,r)}_apply(e){const n=this._parse(e);return lL(e._query,n),new _a(e.firestore,e.converter,mx(e._query,n))}_parse(e){const n=VS(e.firestore);return function(i,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hI(h,d);const w=[];for(const g of h)w.push(dI(l,i,g));f={arrayValue:{values:w}}}else f=dI(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hI(h,d),f=OQ(a,o,h,d==="in"||d==="not-in");return qt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aL(t,e,n){const r=e,s=yv("where",t);return vv._create(s,r,n)}class zS extends BS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)lL(o,l),o=mx(o,l)}(e._query,n),new _a(e.firestore,e.converter,mx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qS extends oL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qS(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new of(i,o)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new nd(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Z0(t,e="asc"){const n=e,r=yv("orderBy",t);return qS._create(r,n)}function dI(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aM(e)&&n.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!ue.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PA(t,new ue(r))}if(n instanceof Dt)return PA(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zy(n)}.`)}function hI(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LQ{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Fg].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Rt(o.doubleValue));return new ti(n)}convertGeoPoint(e){return new ei(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const n=ra(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Qe(IM(r),9688,{name:e});const s=new rf(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||Li(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Yd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends sL{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:Wt("string",fl._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Dm extends fl{data(e={}){return super.data(e)}}class pl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dm(this._firestore,this._userDataWriter,r.key,r,new Yd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Dm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Dm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:FQ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t){t=es(t,Dt);const e=es(t.firestore,la);return SQ(fv(e),t._key).then(n=>dL(e,t,n))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Wt("string",pl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class WS extends LQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function vh(t){t=es(t,_a);const e=es(t.firestore,la),n=fv(e),r=new WS(e);return iL(t._query),EQ(n,t._query).then(s=>new pl(e,r,t,s))}function cL(t,e,n,...r){t=es(t,Dt);const s=es(t.firestore,la),i=VS(s);let o;return o=typeof(e=Rn(e))=="string"||e instanceof pv?jQ(i,"updateDoc",t._key,e,n,r):RQ(i,"updateDoc",t._key,e),HS(s,[o.toMutation(t._key,Cs.exists(!0))])}function $Q(t){return HS(es(t.firestore,la),[new gS(t._key,Cs.none())])}function uL(t,e){const n=es(t.firestore,la),r=yh(t),s=VQ(t.converter,e);return HS(n,[kQ(VS(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then(()=>r)}function BQ(t,...e){var l,u,d;t=Rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uI(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uI(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof Dt)o=es(t.firestore,la),a=rv(t._key.path),i={next:h=>{e[r]&&e[r](dL(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=es(t,_a);o=es(h.firestore,la),a=h._query;const f=new WS(o);i={next:p=>{e[r]&&e[r](new pl(o,f,h,p))},error:e[r+1],complete:e[r+2]},iL(t._query)}return function(f,p,w,g){const y=new MS(g),_=new jS(p,y,w);return f.asyncQueue.enqueueAndForget(async()=>NS(await Hg(f),_)),()=>{y.Nu(),f.asyncQueue.enqueueAndForget(async()=>kS(await Hg(f),_))}}(fv(o),a,s,i)}function HS(t,e){return function(r,s){const i=new Ii;return r.asyncQueue.enqueueAndForget(async()=>dQ(await bQ(r),s,i)),i.promise}(fv(t),e)}function dL(t,e,n){const r=n.docs.get(e._key),s=new WS(t);return new fl(t,s,e._key,r,new Yd(n.hasPendingWrites,n.fromCache),e.converter)}function Hc(){return new FS("serverTimestamp")}(function(e,n=!0){(function(s){Zu=s})(Ju),Su(new Nl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new la(new RG(r.getProvider("auth-internal")),new DG(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ho(pA,mA,e),Ho(pA,mA,"esm2020")})();var zQ="firebase",qQ="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ho(zQ,qQ,"app");function hL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WQ=hL,fL=new Uf("auth","Firebase",hL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new iS("@firebase/auth");function HQ(t,...e){Kg.logLevel<=Me.WARN&&Kg.warn(`Auth (${Ju}): ${t}`,...e)}function Mm(t,...e){Kg.logLevel<=Me.ERROR&&Kg.error(`Auth (${Ju}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,...e){throw GS(t,...e)}function ni(t,...e){return GS(t,...e)}function pL(t,e,n){const r={...WQ(),[e]:n};return new Uf("auth","Firebase",r).create(e,{appName:t.name})}function ml(t){return pL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fL.create(t,...e)}function Se(t,e,...n){if(!t)throw GS(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mm(e),new Error(e)}function Ui(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function GQ(){return fI()==="http:"||fI()==="https:"}function fI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GQ()||cH()||"connection"in navigator)?navigator.onLine:!0}function YQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=oH()||uH()}get(){return KQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JQ=new Kf(3e4,6e4);function YS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sd(t,e,n,r,s={}){return gL(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$f({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return lH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(u.credentials="include"),mL.fetch()(await yL(t,t.config.apiHost,n,a),u)})}async function gL(t,e,n){t._canInitEmulator=!1;const r={...QQ,...e};try{const s=new eX(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pL(t,d,u);Fi(t,d)}}catch(s){if(s instanceof Hi)throw s;Fi(t,"network-request-failed",{message:String(s)})}}async function ZQ(t,e,n,r,s={}){const i=await sd(t,e,n,r,s);return"mfaPendingCredential"in i&&Fi(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yL(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?KS(t.config,s):`${t.config.apiScheme}://${s}`;return XQ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class eX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),JQ.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ni(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e){return sd(t,"POST","/v1/accounts:delete",e)}async function Yg(t,e){return sd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nX(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),s=QS(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wh(ew(s.auth_time)),issuedAtTime:wh(ew(s.iat)),expirationTime:wh(ew(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ew(t){return Number(t)*1e3}function QS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mm("JWT malformed, contained fewer than 3 sections"),null;try{const s=bD(n);return s?JSON.parse(s):(Mm("Failed to decode base64 JWT payload"),null)}catch(s){return Mm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pI(t){const e=QS(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hi&&rX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(t){var h;const e=t.auth,n=await t.getIdToken(),r=await uf(t,Yg(e,{idToken:n}));Se(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?vL(s.providerUserInfo):[],o=oX(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ax(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function iX(t){const e=Rn(t);await Qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oX(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aX(t,e){const n=await gL(t,{},async()=>{const r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yL(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(l.credentials="include"),mL.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lX(t,e){return sd(t,"POST","/v2/accounts:revokeToken",YS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=pI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await aX(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Gc;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new sX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ax(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uf(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nX(this,e)}reload(){return iX(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ws(this.auth.app))return Promise.reject(ml(this.auth));const e=await this.getIdToken();return await uf(this,tX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:w,stsTokenManager:g}=n;Se(h&&g,e,"internal-error");const y=Gc.fromJSON(this.name,g);Se(typeof h=="string",e,"internal-error"),ro(r,e.name),ro(s,e.name),Se(typeof f=="boolean",e,"internal-error"),Se(typeof p=="boolean",e,"internal-error"),ro(i,e.name),ro(o,e.name),ro(a,e.name),ro(l,e.name),ro(u,e.name),ro(d,e.name);const _=new Ss({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:y,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(_.providerData=w.map(v=>({...v}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gc;s.updateFromServerResponse(n);const i=new Ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vL(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Gc;a.updateFromIdToken(r);const l=new Ss({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ax(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Map;function Ci(t){Ui(t instanceof Function,"Expected a class definition");let e=mI.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wL.type="NONE";const gI=wL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e,n){return`firebase:${t}:${e}:${n}`}class Kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yg(this.auth,{idToken:e}).catch(()=>{});return n?Ss._fromGetAccountInfoResponse(this.auth,n,e):null}return Ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kc(Ci(gI),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ci(gI);const o=Lm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Yg(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Ss._fromGetAccountInfoResponse(e,f,d)}else h=Ss._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Kc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Kc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_L(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TL(e))return"Blackberry";if(CL(e))return"Webos";if(xL(e))return"Safari";if((e.includes("chrome/")||bL(e))&&!e.includes("edge/"))return"Chrome";if(EL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _L(t=kn()){return/firefox\//i.test(t)}function xL(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bL(t=kn()){return/crios\//i.test(t)}function SL(t=kn()){return/iemobile/i.test(t)}function EL(t=kn()){return/android/i.test(t)}function TL(t=kn()){return/blackberry/i.test(t)}function CL(t=kn()){return/webos/i.test(t)}function XS(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cX(t=kn()){var e;return XS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function uX(){return dH()&&document.documentMode===10}function PL(t=kn()){return XS(t)||EL(t)||CL(t)||TL(t)||/windows phone/i.test(t)||SL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e=[]){let n;switch(t){case"Browser":n=yI(kn());break;case"Worker":n=`${yI(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ju}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hX(t,e={}){return sd(t,"GET","/v2/passwordPolicy",YS(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=6;class pX{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vI(this),this.idTokenSubscription=new vI(this),this.beforeStateQueue=new dX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yg(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ws(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ws(this.app))return Promise.reject(ml(this));const n=e?Rn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ws(this.app)?Promise.reject(ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ws(this.app)?Promise.reject(ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hX(this),n=new pX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&HQ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function JS(t){return Rn(t)}class vI{constructor(e){this.auth=e,this.observer=null,this.addObserver=wH(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gX(t){ZS=t}function yX(t){return ZS.loadJS(t)}function vX(){return ZS.gapiScript}function wX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t,e){const n=aS(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Il(i,e??{}))return s;Fi(s,"already-initialized")}return n.initialize({options:e})}function xX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bX(t,e,n){const r=JS(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=IL(e),{host:o,port:a}=SX(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Il(u,r.config.emulator)&&Il(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Xu(o)?(CD(`${i}//${o}${l}`),PD("Auth",!0)):EX()}function IL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SX(t){const e=IL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:wI(o)}}}function wI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e){return ZQ(t,"POST","/v1/accounts:signInWithIdp",YS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX="http://localhost";class jl extends NL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new jl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yc(e,n)}buildRequest(){const e={requestUri:TX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends kL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Yf{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return go.credential(n,r)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Yf{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Yf{constructor(){super("twitter.com")}static credential(e,n){return jl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ss._fromIdTokenResponse(e,r,s),o=_I(r);return new Nu({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_I(r);return new Nu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _I(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends Hi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xg(e,n,r,s)}}function RL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xg._fromErrorAndOperation(t,i,e,r):i})}async function CX(t,e,n=!1){const r=await uf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PX(t,e,n=!1){const{auth:r}=t;if(Ws(r.app))return Promise.reject(ml(r));const s="reauthenticate";try{const i=await uf(t,RL(r,s,e,t),n);Se(i.idToken,r,"internal-error");const o=QS(i.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),Nu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX(t,e,n=!1){if(Ws(t.app))return Promise.reject(ml(t));const r="signIn",s=await RL(t,r,e),i=await Nu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function IX(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function NX(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}const Jg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jg,"1"),this.storage.removeItem(Jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=1e3,RX=10;class OL extends jL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);uX()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RX):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OL.type="LOCAL";const jX=OL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL extends jL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DL.type="SESSION";const ML=DL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await OX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=eE("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function MX(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function LX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function FX(){return LL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="firebaseLocalStorageDb",UX=1,Zg="firebaseLocalStorage",FL="fbase_key";class Qf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([Zg],e?"readwrite":"readonly").objectStore(Zg)}function $X(){const t=indexedDB.deleteDatabase(VL);return new Qf(t).toPromise()}function Ix(){const t=indexedDB.open(VL,UX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zg,{keyPath:FL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zg)?e(r):(r.close(),await $X(),e(await Ix()))})})}async function xI(t,e,n){const r=_v(t,!0).put({[FL]:e,value:n});return new Qf(r).toPromise()}async function BX(t,e){const n=_v(t,!1).get(e),r=await new Qf(n).toPromise();return r===void 0?null:r.value}function bI(t,e){const n=_v(t,!0).delete(e);return new Qf(n).toPromise()}const zX=800,qX=3;class UL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ix(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wv._getInstance(FX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LX(),!this.activeServiceWorker)return;this.sender=new DX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ix();return await xI(e,Jg,"1"),await bI(e,Jg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_v(s,!1).getAll();return new Qf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UL.type="LOCAL";const WX=UL;new Kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t,e){return e?Ci(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends NL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GX(t){return AX(t.auth,new tE(t),t.bypassAuthState)}function KX(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),PX(n,new tE(t),t.bypassAuthState)}async function YX(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),CX(n,new tE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GX;case"linkViaPopup":case"linkViaRedirect":return YX;case"reauthViaPopup":case"reauthViaRedirect":return KX;default:Fi(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=new Kf(2e3,1e4);class Ic extends $L{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ic.currentPopupAction&&Ic.currentPopupAction.cancel(),Ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=eE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QX.get())};e()}}Ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX="pendingRedirect",Vm=new Map;class JX extends $L{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const r=await ZX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZX(t,e){const n=nJ(e),r=tJ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function eJ(t,e){Vm.set(t._key(),e)}function tJ(t){return Ci(t._redirectPersistence)}function nJ(t){return Lm(XX,t.config.apiKey,t.name)}async function rJ(t,e,n=!1){if(Ws(t.app))return Promise.reject(ml(t));const r=JS(t),s=HX(r,e),o=await new JX(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=10*60*1e3;class iJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BL(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(SI(e))}saveEventToCache(e){this.cachedEventUids.add(SI(e)),this.lastProcessedEventTime=Date.now()}}function SI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e={}){return sd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cJ=/^https?/;async function uJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aJ(t);for(const n of e)try{if(dJ(n))return}catch{}Fi(t,"unauthorized-domain")}function dJ(t){const e=Px(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cJ.test(n))return!1;if(lJ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ=new Kf(3e4,6e4);function EI(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fJ(t){return new Promise((e,n)=>{var s,i,o;function r(){EI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EI(),n(ni(t,"network-request-failed"))},timeout:hJ.get()})}if((i=(s=ri().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ri().gapi)!=null&&o.load)r();else{const a=wX("iframefcb");return ri()[a]=()=>{gapi.load?r():n(ni(t,"network-request-failed"))},yX(`${vX()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function pJ(t){return Fm=Fm||fJ(t),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ=new Kf(5e3,15e3),gJ="__/auth/iframe",yJ="emulator/auth/iframe",vJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _J(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?KS(e,yJ):`https://${t.config.authDomain}/${gJ}`,r={apiKey:e.apiKey,appName:t.name,v:Ju},s=wJ.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$f(r).slice(1)}`}async function xJ(t){const e=await pJ(t),n=ri().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:_J(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vJ,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ni(t,"network-request-failed"),a=ri().setTimeout(()=>{i(o)},mJ.get());function l(){ri().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SJ=500,EJ=600,TJ="_blank",CJ="http://localhost";class TI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PJ(t,e,n,r=SJ,s=EJ){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...bJ,width:r.toString(),height:s.toString(),top:i,left:o},u=kn().toLowerCase();n&&(a=bL(u)?TJ:n),_L(u)&&(e=e||CJ,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,w])=>`${f}${p}=${w},`,"");if(cX(u)&&a!=="_self")return AJ(e||"",a),new TI(null);const h=window.open(e||"",a,d);Se(h,t,"popup-blocked");try{h.focus()}catch{}return new TI(h)}function AJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="__/auth/handler",NJ="emulator/auth/handler",kJ=encodeURIComponent("fac");async function CI(t,e,n,r,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ju,eventId:s};if(e instanceof kL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Yf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${kJ}=${encodeURIComponent(l)}`:"";return`${RJ(t)}?${$f(a).slice(1)}${u}`}function RJ({config:t}){return t.emulator?KS(t,NJ):`https://${t.authDomain}/${IJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="webStorageSupport";class jJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ML,this._completeRedirectFn=rJ,this._overrideRedirectResult=eJ}async _openPopup(e,n,r,s){var o;Ui((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await CI(e,n,r,Px(),s);return PJ(e,i,eE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await CI(e,n,r,Px(),s);return MX(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xJ(e),r=new iJ(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tw,{type:tw},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[tw];i!==void 0&&n(!!i),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PL()||xL()||XS()}}const OJ=jJ;var PI="@firebase/auth",AI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LJ(t){Su(new Nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AL(t)},u=new mX(r,s,i,l);return xX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Su(new Nl("auth-internal",e=>{const n=JS(e.getProvider("auth").getImmediate());return(r=>new DJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ho(PI,AI,MJ(t)),Ho(PI,AI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=5*60,FJ=TD("authIdTokenMaxAge")||VJ;let II=null;const UJ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FJ)return;const s=n==null?void 0:n.token;II!==s&&(II=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $J(t=kD()){const e=aS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_X(t,{popupRedirectResolver:OJ,persistence:[WX,jX,ML]}),r=TD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=UJ(i.toString());NX(n,o,()=>o(n.currentUser)),IX(n,a=>o(a))}}const s=SD("auth");return s&&bX(n,`http://${s}`),n}function BJ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}gX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ni("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",BJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LJ("Browser");const zJ={apiKey:"AIzaSyDDS2dD2bV9e3XI6NZNs5T8Zm8Jsyu9SMg",authDomain:"naztcg-14f32.firebaseapp.com",projectId:"naztcg-14f32",storageBucket:"naztcg-14f32.firebasestorage.app",messagingSenderId:"5256513268",appId:"1:5256513268:web:c69ff57464d456f54d40a1"},zL=ND(zJ),zr=CQ(zL);$J(zL);console.log(" Firebase initialized successfully");const nw="carts";class qJ{constructor(){ie(this,"listeners",[])}async getCart(e){try{console.log(" Firebase Cart: Getting cart for user:",e);const n=po(zr,nw),r=Om(n,aL("userId","==",e)),s=await vh(r);if(s.empty)return console.log(" Firebase Cart: No cart found for user"),null;{const i=s.docs[0],o={id:i.id,...i.data()};return console.log(" Firebase Cart: Retrieved cart with items:",o.items.length),o}}catch(n){throw console.error(" Firebase Cart: Error getting cart:",n),n}}async createCart(e){try{console.log(" Firebase Cart: Creating new cart for user:",e);const n=po(zr,nw),r={userId:e,items:[],createdAt:Hc(),updatedAt:Hc()},i={id:(await uL(n,r)).id,userId:e,items:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return console.log(" Firebase Cart: Cart created successfully:",i.id),i}catch(n){throw console.error(" Firebase Cart: Error creating cart:",n),n}}async addToCart(e,n){try{console.log(" Firebase Cart: Adding item to cart:",n.name);let r=await this.getCart(e);r||(r=await this.createCart(e));const s=r.items.findIndex(i=>i.productId===n.productId);if(s>=0)r.items[s].quantity+=n.quantity,console.log(" Firebase Cart: Updated existing item quantity");else{const i={...n,id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};r.items.push(i),console.log(" Firebase Cart: Added new item to cart")}await this.updateCart(r.id,r.items),this.notifyListeners()}catch(r){throw console.error(" Firebase Cart: Error adding to cart:",r),r}}async updateCart(e,n){try{console.log(" Firebase Cart: Updating cart items:",n.length);const r=yh(zr,nw,e);await cL(r,{items:n,updatedAt:Hc()}),console.log(" Firebase Cart: Cart updated successfully"),this.notifyListeners()}catch(r){throw console.error(" Firebase Cart: Error updating cart:",r),r}}async removeFromCart(e,n){try{console.log(" Firebase Cart: Removing item from cart:",n);const r=await this.getCart(e);if(r){const s=r.items.filter(i=>i.productId!==n);await this.updateCart(r.id,s),console.log(" Firebase Cart: Item removed successfully")}}catch(r){throw console.error(" Firebase Cart: Error removing from cart:",r),r}}async updateItemQuantity(e,n,r){try{console.log(" Firebase Cart: Updating item quantity:",n,r);const s=await this.getCart(e);if(s){const i=s.items.findIndex(o=>o.productId===n);i>=0&&(r<=0?s.items.splice(i,1):s.items[i].quantity=r,await this.updateCart(s.id,s.items),console.log(" Firebase Cart: Item quantity updated"))}}catch(s){throw console.error(" Firebase Cart: Error updating quantity:",s),s}}async clearCart(e){try{console.log(" Firebase Cart: Clearing cart for user:",e);const n=await this.getCart(e);n&&(await this.updateCart(n.id,[]),console.log(" Firebase Cart: Cart cleared successfully"))}catch(n){throw console.error(" Firebase Cart: Error clearing cart:",n),n}}async getCartTotal(e){try{const n=await this.getCart(e);if(!n)return 0;const r=n.items.reduce((s,i)=>s+i.price*i.quantity,0);return console.log(" Firebase Cart: Calculated total:",r),r}catch(n){throw console.error(" Firebase Cart: Error calculating total:",n),n}}async getCartItemCount(e){try{const n=await this.getCart(e);if(!n)return 0;const r=n.items.reduce((s,i)=>s+i.quantity,0);return console.log(" Firebase Cart: Item count:",r),r}catch(n){throw console.error(" Firebase Cart: Error getting item count:",n),n}}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyListeners(){this.listeners.forEach(e=>{try{e()}catch(n){console.error(" Firebase Cart: Error in listener callback:",n)}})}async isAvailable(){try{const e=po(zr,"test");return await vh(e),!0}catch(e){return console.error(" Firebase Cart: Availability check failed:",e),!1}}}const Dd=new qJ,qL=b.createContext(void 0),WJ=({children:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),[i,o]=b.useState(null),a=b.useCallback(async()=>{var w;try{o(null);const g=await Dd.getCart("default-user");n((g==null?void 0:g.items)||[]),console.log(" Cart: Refreshed from Firebase:",((w=g==null?void 0:g.items)==null?void 0:w.length)||0,"items")}catch(g){console.error(" Cart: Error loading from Firebase:",g),o("Failed to load cart from Firebase"),n([])}finally{s(!1)}},[]);b.useEffect(()=>{a()},[a]);const l=async(w,g=1)=>{try{o(null),s(!0);const y={productId:w.id,name:w.name,price:w.price,image:w.image_url||"/placeholder.svg",quantity:g};await Dd.addToCart("default-user",y),console.log(" Cart: Added to Firebase cart:",w.name,"x",g),await a()}catch(y){throw console.error(" Cart: Error adding to Firebase cart:",y),o(y.message||"Failed to add item to Firebase cart"),y}finally{s(!1)}},u=async(w,g)=>{try{o(null),s(!0);const y=e.find(_=>_.id===w);y&&(await Dd.updateItemQuantity("default-user",y.productId,g),console.log(" Cart: Updated quantity in Firebase:",y.name,"to",g)),await a()}catch(y){throw console.error(" Cart: Error updating quantity in Firebase:",y),o(y.message||"Failed to update item quantity in Firebase"),y}finally{s(!1)}},d=async w=>{try{o(null),s(!0);const g=e.find(y=>y.id===w);g&&(await Dd.removeFromCart("default-user",g.productId),console.log(" Cart: Removed from Firebase cart:",g.name)),await a()}catch(g){throw console.error(" Cart: Error removing from Firebase cart:",g),o(g.message||"Failed to remove item from Firebase cart"),g}finally{s(!1)}},h=async()=>{try{o(null),s(!0),await Dd.clearCart("default-user"),console.log(" Cart: Cleared Firebase cart"),n([])}catch(w){throw console.error(" Cart: Error clearing Firebase cart:",w),o(w.message||"Failed to clear Firebase cart"),w}finally{s(!1)}},f=e.reduce((w,g)=>w+g.quantity,0),p=e.reduce((w,g)=>w+g.price*g.quantity,0);return c.jsx(qL.Provider,{value:{items:e,addToCart:l,updateQuantity:u,removeFromCart:d,clearCart:h,totalItems:f,totalAmount:p,loading:r,error:i,refreshCart:a},children:t})};function xv(){const t=b.useContext(qL);if(!t)throw new Error("useCart must be used within CartProvider");return t}const Ir=()=>{const t=hi(),e=o=>t.pathname===o,{totalItems:n}=xv(),[r,s]=b.useState(!1),i=b.useRef(null);return b.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="";const o=a=>{a.key==="Escape"&&s(!1)};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o),document.body.style.overflow=""}},[r]),b.useEffect(()=>{if(!r||!i.current)return;const o=i.current.querySelectorAll('a[href], button:not([disabled]), input, textarea, [tabindex]:not([tabindex="-1"])'),a=o[0],l=o[o.length-1];a==null||a.focus();const u=d=>{d.key==="Tab"&&(d.shiftKey?document.activeElement===a&&(d.preventDefault(),l==null||l.focus()):document.activeElement===l&&(d.preventDefault(),a==null||a.focus()))};return i.current.addEventListener("keydown",u),()=>{var d;return(d=i.current)==null?void 0:d.removeEventListener("keydown",u)}},[r]),c.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border",style:{backgroundColor:"#B2493D"},children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[c.jsx("button",{"aria-label":r?"Close menu":"Open menu","aria-expanded":r,onClick:()=>s(o=>!o),className:"p-2 rounded-md hover:bg-white/10 text-white",children:r?c.jsx(Gh,{className:"w-6 h-6"}):c.jsx(pO,{className:"w-6 h-6"})}),c.jsx(qe,{to:"/",className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:c.jsx("img",{src:B0,alt:"NAZ TCG - National Authentication Zone",className:"h-10 w-auto"})}),c.jsx("div",{className:"w-10 h-10"})]}),c.jsx(qe,{to:"/",className:"hidden md:flex items-center",children:c.jsx("img",{src:B0,alt:"NAZ TCG - National Authentication Zone",className:"h-10 w-auto"})}),c.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[c.jsx(qe,{to:"/",className:`text-sm font-medium transition-colors hover:text-primary ${e("/")?"text-primary":"text-muted-foreground"}`,children:"Home"}),c.jsx(qe,{to:"/shop",className:`text-sm font-medium transition-colors hover:text-primary ${e("/shop")?"text-primary":"text-muted-foreground"}`,children:"Shop"}),c.jsx(qe,{to:"/submit",className:`text-sm font-medium transition-colors hover:text-primary ${e("/submit")?"text-primary":"text-muted-foreground"}`,children:"Submit for Grading"}),c.jsx(qe,{to:"/verify",className:`text-sm font-medium transition-colors hover:text-primary ${e("/verify")?"text-primary":"text-muted-foreground"}`,children:"Verify Card"}),c.jsx(qe,{to:"/submit",children:c.jsx(oe,{variant:"premium",size:"sm",children:"Get Started"})}),c.jsxs(qe,{to:"/cart",className:"relative",children:[c.jsx(_u,{className:"w-5 h-5"}),n>0&&c.jsx("span",{className:"absolute -top-2 -right-3 bg-destructive text-destructive-foreground text-xs font-semibold rounded-full px-2",children:n})]})]}),c.jsx("div",{className:"md:hidden"})]})}),c.jsx("div",{className:`fixed inset-0 transition-opacity duration-300 ${r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,style:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9998},onClick:()=>s(!1),"aria-hidden":!r}),c.jsxs("aside",{className:`fixed top-0 left-0 h-full w-[85%] max-w-xs z-50 transform transition-transform duration-300 ${r?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"#dc2626",borderRight:"1px solid #b91c1c",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",zIndex:9999},"aria-hidden":!r,role:"dialog","aria-modal":r,children:[c.jsxs("div",{ref:i,className:"flex items-center justify-between p-6",style:{borderBottom:"1px solid #b91c1c",backgroundColor:"#dc2626"},children:[c.jsx(qe,{to:"/",onClick:()=>s(!1),className:"flex items-center",children:c.jsx("img",{src:B0,alt:"NAZ",className:"h-8 w-auto"})}),c.jsx("button",{"aria-label":"Close menu",onClick:()=>s(!1),className:"p-2 rounded-md hover:bg-red-700",style:{color:"#ffffff"},children:c.jsx(Gh,{className:"w-5 h-5"})})]}),c.jsxs("nav",{className:"p-4 space-y-4",style:{backgroundColor:"#dc2626"},children:[c.jsx(qe,{style:{color:"#ffffff",textDecoration:"none"},onClick:()=>s(!1),to:"/",className:"menu-item block text-lg font-medium hover:bg-red-700 py-3 px-2 rounded-md transition-colors",children:"Home"}),c.jsx(qe,{style:{color:"#ffffff",textDecoration:"none"},onClick:()=>s(!1),to:"/shop",className:"menu-item block text-lg font-medium hover:bg-red-700 py-3 px-2 rounded-md transition-colors",children:"Shop"}),c.jsx(qe,{style:{color:"#ffffff",textDecoration:"none"},onClick:()=>s(!1),to:"/submit",className:"menu-item block text-lg font-medium hover:bg-red-700 py-3 px-2 rounded-md transition-colors",children:"Submit for Grading"}),c.jsx(qe,{style:{color:"#ffffff",textDecoration:"none"},onClick:()=>s(!1),to:"/verify",className:"menu-item block text-lg font-medium hover:bg-red-700 py-3 px-2 rounded-md transition-colors",children:"Verify Card"}),c.jsx("div",{className:"mt-4 menu-item py-2 px-2",children:c.jsx(qe,{to:"/submit",onClick:()=>s(!1),children:c.jsx(oe,{variant:"premium",size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Get Started"})})}),c.jsx("div",{className:"mt-6 pt-4 menu-item px-2",style:{borderTop:"1px solid #b91c1c"},children:c.jsxs(qe,{onClick:()=>s(!1),to:"/cart",className:"flex items-center gap-3 py-3 rounded-md hover:bg-red-700 transition-colors",style:{color:"#ffffff",textDecoration:"none"},children:[c.jsx(_u,{className:"w-5 h-5"}),c.jsx("span",{children:"Cart"}),n>0&&c.jsx("span",{className:"ml-auto bg-white text-red-600 text-xs font-semibold rounded-full px-2 py-1",children:n})]})})]})]})]})},HJ="/assets/naz-logo-BwmPxXq1.jpg",GJ=()=>c.jsxs("section",{className:"overflow-hidden",children:[c.jsx("div",{className:"w-full h-64 md:h-96 bg-cover bg-center",style:{backgroundImage:`url(${HJ})`},"aria-hidden":!0}),c.jsx("div",{className:"container mx-auto px-4 -mt-20 md:-mt-28 relative z-10",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex items-center",children:[c.jsx("div",{className:"hidden md:block md:w-[35%]"}),c.jsxs("div",{className:"w-full md:w-[65%] text-right text-primary-foreground bg-transparent",children:[c.jsxs("section",{className:"mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 md:gap-3 bg-gradient-to-r from-orange-500/90 to-red-500/90 px-3 md:px-6 py-2 md:py-3 rounded-full mb-6 backdrop-blur-sm shadow-lg border-2 border-white/30 transition-all duration-300 hover:shadow-xl hover:scale-105 max-w-full",children:[c.jsx(Ao,{className:"w-4 h-4 md:w-5 md:h-5 text-white drop-shadow-lg flex-shrink-0"}),c.jsxs("span",{className:"text-xs md:text-base font-bold text-white drop-shadow-lg tracking-wide leading-tight",children:[c.jsx("span",{className:"hidden sm:inline",children:"PROFESSIONAL CARD AUTHENTICATION"}),c.jsx("span",{className:"sm:hidden",children:"PROFESSIONAL GRADING"})]})]}),c.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:"Authenticate Your Pokmon Cards with Confidence"}),c.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:"Industry-leading grading services backed by expertise, precision, and trust. Join thousands of collectors worldwide."})]}),c.jsxs("section",{className:"mb-12 flex flex-col sm:flex-row gap-4 justify-end",children:[c.jsx(qe,{to:"/submit",children:c.jsx(oe,{variant:"hero",size:"lg",className:"text-lg px-8 py-6 h-auto",children:"Submit Your Cards"})}),c.jsx(qe,{to:"/shop",children:c.jsx(oe,{variant:"outline",size:"lg",className:"text-lg px-8 py-6 h-auto bg-primary-foreground/10 border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/20",children:"Browse Graded Cards"})})]}),c.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4 justify-items-center md:justify-items-end",children:[c.jsxs("div",{className:"bg-primary-foreground/10 backdrop-blur-sm rounded-lg p-6 border border-primary-foreground/20 text-center w-full h-full flex flex-col justify-center min-h-[200px]",children:[c.jsx(Ao,{className:"w-10 h-10 text-accent mb-3 mx-auto"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Certified Authentication"}),c.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Expert graders with years of experience"})]}),c.jsxs("div",{className:"bg-primary-foreground/10 backdrop-blur-sm rounded-lg p-6 border border-primary-foreground/20 text-center w-full h-full flex flex-col justify-center min-h-[200px]",children:[c.jsx($_,{className:"w-10 h-10 text-accent mb-3 mx-auto"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Trusted Standards"}),c.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Industry-recognized grading system"})]}),c.jsxs("div",{className:"bg-primary-foreground/10 backdrop-blur-sm rounded-lg p-6 border border-primary-foreground/20 text-center w-full h-full flex flex-col justify-center min-h-[200px]",children:[c.jsx(Pl,{className:"w-10 h-10 text-accent mb-3 mx-auto"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Fast Turnaround"}),c.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Quick processing without compromising quality"})]})]})]})]})})]}),KJ="/assets/slide%201%20-BsutLX10.jpg",YJ="/assets/slide%202%20-TqX0FHmh.jpg",QJ="/assets/slide%203%20-D_Wx-yYx.jpg",XJ="/assets/slide%204%20-CG_0NPV4.jpg",JJ="/assets/slide%205%20-60Vh2a6U.jpg",ZJ="/assets/slide%206%20-CSRgCihQ.jpg",eZ="/assets/slide%207%20-6L3e70Ss.jpg",tZ="/assets/slide%208-BErH3iNs.jpg",nZ="/assets/slide%2010%20-cxNp_zBO.jpg",rZ="/assets/slide%2011-URGjfX_B.jpg",rw=[KJ,YJ,QJ,XJ,JJ,ZJ,eZ,tZ,nZ,rZ],sZ=()=>{const[t,e]=b.useState(0);return b.useEffect(()=>{const n=setInterval(()=>e(r=>(r+1)%rw.length),3e3);return()=>clearInterval(n)},[]),c.jsx("section",{className:"container mx-auto px-4 py-8",children:c.jsx("div",{className:"max-w-6xl mx-auto rounded-lg overflow-hidden",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-stretch gap-4",children:[c.jsxs("div",{className:"md:w-2/5 bg-secondary/10 p-8 flex flex-col justify-center items-start rounded-lg",children:[c.jsx("div",{className:"inline-flex items-center gap-2 bg-accent/20 px-3 py-1 rounded-full mb-4",children:c.jsx("span",{className:"text-xs font-semibold text-accent",children:"Featured"})}),c.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-3",children:"Explore Graded Cards"}),c.jsx("p",{className:"text-base text-muted-foreground mb-6",children:"Discover professionally graded cards, updated daily. Secure, authenticated, and ready for collectors."}),c.jsxs("ul",{className:"space-y-2 mb-6",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Certified grading & tamper-proof slab"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Fast, tracked shipping"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified authenticity"})]})]}),c.jsx(qe,{to:"/shop",children:c.jsx(oe,{variant:"premium",size:"lg",className:"px-6 py-4 text-lg",children:"Shop Now"})})]}),c.jsx("div",{className:"md:w-3/5 flex items-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden md:ml-auto max-w-[560px] w-full",children:[rw.map((n,r)=>c.jsx("div",{className:`${r===t?"opacity-100":"opacity-0 absolute inset-0"} transition-opacity duration-700`,children:c.jsx("div",{style:{paddingTop:"100%"},className:"w-full relative",children:c.jsx("img",{src:n,alt:`slide-${r}`,className:"absolute inset-0 w-full h-full object-cover"})})},r)),c.jsx("div",{className:"absolute bottom-3 left-1/2 md:left-auto md:right-3 md:translate-x-0 -translate-x-1/2 flex gap-2",children:rw.map((n,r)=>c.jsx("button",{onClick:()=>e(r),className:`w-3 h-3 rounded-full ${r===t?"bg-primary":"bg-primary/40"}`,"aria-label":`Go to slide ${r+1}`},r))})]})})]})})})},iZ=()=>{const t=[{text:"NAZ TCG",style:"filled"},{text:"AUTHENTICATE CARDS",style:"outlined"},{text:"PROFESSIONAL GRADING",style:"filled"},{text:"TRUSTED RESULTS",style:"outlined"},{text:"EXPERT AUTHENTICATION",style:"filled"},{text:"QUALITY ASSURANCE",style:"outlined"}];return c.jsx("div",{className:"bg-accent overflow-hidden py-10 mt-20 relative",children:c.jsxs("div",{className:"flex animate-scroll whitespace-nowrap",children:[c.jsx("div",{className:"flex items-center",style:{gap:"30px",paddingLeft:"30px",paddingRight:"30px"},children:t.map((e,n)=>c.jsx("span",{className:`text-8xl font-black tracking-wider ${e.style==="filled"?"text-white":"text-transparent"}`,style:e.style==="outlined"?{WebkitTextStroke:"2px white",textStroke:"2px white"}:{},children:e.text},`first-${n}`))}),c.jsx("div",{className:"flex items-center",style:{gap:"30px",paddingLeft:"30px",paddingRight:"30px"},children:t.map((e,n)=>c.jsx("span",{className:`text-8xl font-black tracking-wider ${e.style==="filled"?"text-white":"text-transparent"}`,style:e.style==="outlined"?{WebkitTextStroke:"2px white",textStroke:"2px white"}:{},children:e.text},`second-${n}`))})]})})},le=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));le.displayName="Card";const dn=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));dn.displayName="CardHeader";const hn=b.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));hn.displayName="CardTitle";const _r=b.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));_r.displayName="CardDescription";const We=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));We.displayName="CardContent";const oZ=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));oZ.displayName="CardFooter";const aZ=()=>{const t=["Authentication of card authenticity","Professional condition assessment (1-10 scale)","Protective slab encapsulation","Increased resale value for high-grade cards","Verification via unique serial number & QR code","Tamper-proof protective case"];return c.jsx("section",{className:"py-20 bg-secondary/30",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"What is NAZ Grading?"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Professional card authentication and grading service trusted by collectors worldwide"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[c.jsxs(le,{className:"p-8 bg-gradient-card shadow-card hover:shadow-card-hover transition-all",children:[c.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Professional Grading"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Our expert team evaluates each card using industry-standard criteria including centering, corners, edges, and surface quality. Each card receives a grade from 1-10, with 10 being pristine gem mint condition."}),c.jsx("p",{className:"text-muted-foreground",children:"Your graded card is then sealed in a protective case with a tamper-evident holder, ensuring long-term preservation and authenticity verification."})]}),c.jsxs(le,{className:"p-8 bg-gradient-card shadow-card hover:shadow-card-hover transition-all",children:[c.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Why Grade Your Cards?"}),c.jsx("ul",{className:"space-y-3",children:t.map((e,n)=>c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(uO,{className:"w-5 h-5 text-accent shrink-0 mt-0.5"}),c.jsx("span",{className:"text-muted-foreground",children:e})]},n))})]})]})]})})})},WL=b.createContext({});function HL(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const nE=typeof window<"u",lZ=nE?b.useLayoutEffect:b.useEffect,rE=b.createContext(null);function sE(t,e){t.indexOf(e)===-1&&t.push(e)}function iE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $i=(t,e,n)=>n>e?e:n<t?t:n;let ey=()=>{};const Bi={},GL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KL(t){return typeof t=="object"&&t!==null}const YL=t=>/^0[^.\s]+$/u.test(t);function oE(t){let e;return()=>(e===void 0&&(e=t()),e)}const ts=t=>t,cZ=(t,e)=>n=>e(t(n)),Xf=(...t)=>t.reduce(cZ),df=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aE{constructor(){this.subscriptions=[]}add(e){return sE(this.subscriptions,e),()=>iE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=t=>t*1e3,Yr=t=>t/1e3;function QL(t,e){return e?t*(1e3/e):0}const XL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uZ=1e-7,dZ=12;function hZ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=XL(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>uZ&&++a<dZ);return o}function Jf(t,e,n,r){if(t===e&&n===r)return ts;const s=i=>hZ(i,0,1,t,n);return i=>i===0||i===1?i:XL(s(i),e,r)}const JL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZL=t=>e=>1-t(1-e),eV=Jf(.33,1.53,.69,.99),lE=ZL(eV),tV=JL(lE),nV=t=>(t*=2)<1?.5*lE(t):.5*(2-Math.pow(2,-10*(t-1))),cE=t=>1-Math.sin(Math.acos(t)),rV=ZL(cE),sV=JL(cE),fZ=Jf(.42,0,1,1),pZ=Jf(0,0,.58,1),iV=Jf(.42,0,.58,1),mZ=t=>Array.isArray(t)&&typeof t[0]!="number",oV=t=>Array.isArray(t)&&typeof t[0]=="number",NI={linear:ts,easeIn:fZ,easeInOut:iV,easeOut:pZ,circIn:cE,circInOut:sV,circOut:rV,backIn:lE,backInOut:tV,backOut:eV,anticipate:nV},gZ=t=>typeof t=="string",kI=t=>{if(oV(t)){ey(t.length===4);const[e,n,r,s]=t;return Jf(e,n,r,s)}else if(gZ(t))return ey(NI[t]!==void 0),NI[t];return t},Gp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],RI={value:null,addProjectionMetrics:null};function yZ(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,p=!1)=>{const g=p&&s?n:r;return f&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&RI.value&&RI.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const vZ=40;function aV(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gp.reduce((x,T)=>(x[T]=yZ(i,e?T:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:w}=o,g=()=>{const x=Bi.useManualTiming?s.timestamp:performance.now();n=!1,Bi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,vZ),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),p.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},y=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Gp.reduce((x,T)=>{const I=o[T];return x[T]=(k,C=!1,E=!1)=>(n||y(),I.schedule(k,C,E)),x},{}),cancel:x=>{for(let T=0;T<Gp.length;T++)o[Gp[T]].cancel(x)},state:s,steps:o}}const{schedule:gt,cancel:ca,state:cn,steps:sw}=aV(typeof requestAnimationFrame<"u"?requestAnimationFrame:ts,!0);let Um;function wZ(){Um=void 0}const tr={now:()=>(Um===void 0&&tr.set(cn.isProcessing||Bi.useManualTiming?cn.timestamp:performance.now()),Um),set:t=>{Um=t,queueMicrotask(wZ)}},lV=t=>e=>typeof e=="string"&&e.startsWith(t),uE=lV("--"),_Z=lV("var(--"),dE=t=>_Z(t)?xZ.test(t.split("/*")[0].trim()):!1,xZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,id={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hf={...id,transform:t=>$i(0,1,t)},Kp={...id,default:1},_h=t=>Math.round(t*1e5)/1e5,hE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bZ(t){return t==null}const SZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fE=(t,e)=>n=>!!(typeof n=="string"&&SZ.test(n)&&n.startsWith(t)||e&&!bZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),cV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(hE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},EZ=t=>$i(0,255,t),iw={...id,transform:t=>Math.round(EZ(t))},tl={test:fE("rgb","red"),parse:cV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+iw.transform(t)+", "+iw.transform(e)+", "+iw.transform(n)+", "+_h(hf.transform(r))+")"};function TZ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Nx={test:fE("#"),parse:TZ,transform:tl.transform},Zf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ao=Zf("deg"),ii=Zf("%"),we=Zf("px"),CZ=Zf("vh"),PZ=Zf("vw"),jI={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},Nc={test:fE("hsl","hue"),parse:cV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(_h(e))+", "+ii.transform(_h(n))+", "+_h(hf.transform(r))+")"},Ut={test:t=>tl.test(t)||Nx.test(t)||Nc.test(t),parse:t=>tl.test(t)?tl.parse(t):Nc.test(t)?Nc.parse(t):Nx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?tl.transform(t):Nc.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},AZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hE))==null?void 0:e.length)||0)+(((n=t.match(AZ))==null?void 0:n.length)||0)>0}const uV="number",dV="color",NZ="var",kZ="var(",OI="${}",RZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ff(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(RZ,l=>(Ut.test(l)?(r.color.push(i),s.push(dV),n.push(Ut.parse(l))):l.startsWith(kZ)?(r.var.push(i),s.push(NZ),n.push(l)):(r.number.push(i),s.push(uV),n.push(parseFloat(l))),++i,OI)).split(OI);return{values:n,split:a,indexes:r,types:s}}function hV(t){return ff(t).values}function fV(t){const{split:e,types:n}=ff(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===uV?i+=_h(s[o]):a===dV?i+=Ut.transform(s[o]):i+=s[o]}return i}}const jZ=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function OZ(t){const e=hV(t);return fV(t)(e.map(jZ))}const ua={test:IZ,parse:hV,createTransformer:fV,getAnimatableNone:OZ};function ow(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function DZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ow(l,a,t+1/3),i=ow(l,a,t),o=ow(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ty(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,aw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},MZ=[Nx,tl,Nc],LZ=t=>MZ.find(e=>e.test(t));function DI(t){const e=LZ(t);if(!e)return!1;let n=e.parse(t);return e===Nc&&(n=DZ(n)),n}const MI=(t,e)=>{const n=DI(t),r=DI(e);if(!n||!r)return ty(t,e);const s={...n};return i=>(s.red=aw(n.red,r.red,i),s.green=aw(n.green,r.green,i),s.blue=aw(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),tl.transform(s))},kx=new Set(["none","hidden"]);function VZ(t,e){return kx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FZ(t,e){return n=>_t(t,e,n)}function pE(t){return typeof t=="number"?FZ:typeof t=="string"?dE(t)?ty:Ut.test(t)?MI:BZ:Array.isArray(t)?pV:typeof t=="object"?Ut.test(t)?MI:UZ:ty}function pV(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>pE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function UZ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=pE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $Z(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const BZ=(t,e)=>{const n=ua.createTransformer(e),r=ff(t),s=ff(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?kx.has(t)&&!s.values.length||kx.has(e)&&!r.values.length?VZ(t,e):Xf(pV($Z(r,s),s.values),n):ty(t,e)};function mV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):pE(t)(t,e)}const zZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gt.update(e,n),stop:()=>ca(e),now:()=>cn.isProcessing?cn.timestamp:tr.now()}},gV=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ny=2e4;function mE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ny;)e+=n,r=t.next(e);return e>=ny?1/0:e}function qZ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(mE(r),ny);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Yr(s)}}const WZ=5;function yV(t,e,n){const r=Math.max(e-WZ,0);return QL(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lw=.001;function HZ({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let s,i,o=1-e;o=$i(Pt.minDamping,Pt.maxDamping,o),t=$i(Pt.minDuration,Pt.maxDuration,Yr(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-n,p=Rx(u,o),w=Math.exp(-h);return lw-f/p*w},i=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),g=Rx(Math.pow(u,2),o);return(-s(u)+lw>0?-1:1)*((f-p)*w)/g}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-lw+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=KZ(s,i,a);if(t=si(t),isNaN(l))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const GZ=12;function KZ(t,e,n){let r=n;for(let s=1;s<GZ;s++)r=r-t(r)/e(r);return r}function Rx(t,e){return t*Math.sqrt(1-e*e)}const YZ=["duration","bounce"],QZ=["stiffness","damping","mass"];function LI(t,e){return e.some(n=>t[n]!==void 0)}function XZ(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!LI(t,QZ)&&LI(t,YZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$i(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:i}}else{const n=HZ(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function ry(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=XZ({...n,velocity:-Yr(n.velocity||0)}),w=f||0,g=u/(2*Math.sqrt(l*d)),y=o-i,_=Yr(Math.sqrt(l/d)),v=Math.abs(y)<5;r||(r=v?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=v?Pt.restDelta.granular:Pt.restDelta.default);let x;if(g<1){const I=Rx(_,g);x=k=>{const C=Math.exp(-g*_*k);return o-C*((w+g*_*y)/I*Math.sin(I*k)+y*Math.cos(I*k))}}else if(g===1)x=I=>o-Math.exp(-_*I)*(y+(w+_*y)*I);else{const I=_*Math.sqrt(g*g-1);x=k=>{const C=Math.exp(-g*_*k),E=Math.min(I*k,300);return o-C*((w+g*_*y)*Math.sinh(E)+I*y*Math.cosh(E))/I}}const T={calculatedDuration:p&&h||null,next:I=>{const k=x(I);if(p)a.done=I>=h;else{let C=I===0?w:0;g<1&&(C=I===0?si(w):yV(x,I,k));const E=Math.abs(C)<=r,A=Math.abs(o-k)<=s;a.done=E&&A}return a.value=a.done?o:k,a},toString:()=>{const I=Math.min(mE(T),ny),k=gV(C=>T.next(I*C).value,I,30);return I+"ms "+k},toTransition:()=>{}};return T}ry.applyToOptions=t=>{const e=qZ(t,100,ry);return t.ease=e.ease,t.duration=si(e.duration),t.type="keyframes",t};function jx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=n*e;const y=h+g,_=o===void 0?y:o(y);_!==y&&(g=_-h);const v=E=>-g*Math.exp(-E/r),x=E=>_+v(E),T=E=>{const A=v(E),R=x(E);f.done=Math.abs(A)<=u,f.value=f.done?_:R};let I,k;const C=E=>{p(f.value)&&(I=E,k=ry({keyframes:[f.value,w(f.value)],velocity:yV(x,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let A=!1;return!k&&I===void 0&&(A=!0,T(E),C(E)),I!==void 0&&E>=I?k.next(E-I):(!A&&T(E),f)}}}function JZ(t,e,n){const r=[],s=n||Bi.mix||mV,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ts:e;a=Xf(l,a)}r.push(a)}return r}function ZZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ey(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=JZ(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=df(t[h],t[h+1],d);return a[h](f)};return n?d=>u($i(t[0],t[i-1],d)):u}function eee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=df(0,e,r);t.push(_t(n,1,s))}}function tee(t){const e=[0];return eee(e,t.length-1),e}function nee(t,e){return t.map(n=>n*e)}function ree(t,e){return t.map(()=>e||iV).splice(0,t.length-1)}function xh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=mZ(r)?r.map(kI):kI(r),i={done:!1,value:e[0]},o=nee(n&&n.length===e.length?n:tee(e),t),a=ZZ(o,e,{ease:Array.isArray(s)?s:ree(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const see=t=>t!==null;function gE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(see),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const iee={decay:jx,inertia:jx,tween:xh,keyframes:xh,spring:ry};function vV(t){typeof t.type=="string"&&(t.type=iee[t.type])}class yE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const oee=t=>t/100;class vE extends yE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==tr.now()&&this.tick(tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vV(e);const{type:n=xh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||xh;l!==xh&&typeof a[0]!="number"&&(this.mixKeyframes=Xf(oee,mV(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=mE(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:w,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,T=r;if(h){const E=Math.min(this.currentTime,s)/a;let A=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(R=1-R,p&&(R-=p/a)):f==="mirror"&&(T=o)),x=$i(0,1,R)*a}const I=v?{done:!1,value:d[0]}:T.next(x);i&&(I.value=i(I.value));let{done:k}=I;!v&&l!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&w!==jx&&(I.value=gE(d,this.options,y,this.speed)),g&&g(I.value),C&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Yr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(this.currentTime)}set time(e){var n;e=si(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=zZ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function aee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nl=t=>t*180/Math.PI,Ox=t=>{const e=nl(Math.atan2(t[1],t[0]));return Dx(e)},lee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ox,rotateZ:Ox,skewX:t=>nl(Math.atan(t[1])),skewY:t=>nl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dx=t=>(t=t%360,t<0&&(t+=360),t),VI=Ox,FI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FI,scaleY:UI,scale:t=>(FI(t)+UI(t))/2,rotateX:t=>Dx(nl(Math.atan2(t[6],t[5]))),rotateY:t=>Dx(nl(Math.atan2(-t[2],t[0]))),rotateZ:VI,rotate:VI,skewX:t=>nl(Math.atan(t[4])),skewY:t=>nl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mx(t){return t.includes("scale")?1:0}function Lx(t,e){if(!t||t==="none")return Mx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=cee,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lee,s=a}if(!s)return Mx(e);const i=r[e],o=s[1].split(",").map(dee);return typeof i=="function"?i(o):o[i]}const uee=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Lx(n,e)};function dee(t){return parseFloat(t.trim())}const od=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ad=new Set(od),$I=t=>t===id||t===we,hee=new Set(["x","y","z"]),fee=od.filter(t=>!hee.has(t));function pee(t){const e=[];return fee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Lx(e,"x"),y:(t,{transform:e})=>Lx(e,"y")};gl.translateX=gl.x;gl.translateY=gl.y;const yl=new Set;let Vx=!1,Fx=!1,Ux=!1;function wV(){if(Fx){const t=Array.from(yl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=pee(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fx=!1,Vx=!1,yl.forEach(t=>t.complete(Ux)),yl.clear()}function _V(){yl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fx=!0)})}function mee(){Ux=!0,_V(),wV(),Ux=!1}class wE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yl.add(this),Vx||(Vx=!0,gt.read(_V),gt.resolveKeyframes(wV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}aee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yl.delete(this)}cancel(){this.state==="scheduled"&&(yl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gee=t=>t.startsWith("--");function yee(t,e,n){gee(e)?t.style.setProperty(e,n):t.style[e]=n}const vee=oE(()=>window.ScrollTimeline!==void 0),wee={};function _ee(t,e){const n=oE(t);return()=>wee[e]??n()}const xV=_ee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qd([0,.65,.55,1]),circOut:Qd([.55,0,1,.45]),backIn:Qd([.31,.01,.66,-.59]),backOut:Qd([.33,1.53,.69,.99])};function bV(t,e){if(t)return typeof t=="function"?xV()?gV(t,e):"ease-out":oV(t)?Qd(t):Array.isArray(t)?t.map(n=>bV(n,e)||BI.easeOut):BI[t]}function xee(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=bV(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function SV(t){return typeof t=="function"&&"applyToOptions"in t}function bee({type:t,...e}){return SV(t)&&xV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class See extends yE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,ey(typeof e.type!="string");const u=bee(e);this.animation=xee(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=gE(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):yee(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=si(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vee()?(this.animation.timeline=e,ts):n(this)}}const EV={anticipate:nV,backInOut:tV,circInOut:sV};function Eee(t){return t in EV}function Tee(t){typeof t.ease=="string"&&Eee(t.ease)&&(t.ease=EV[t.ease])}const zI=10;class Cee extends See{constructor(e){Tee(e),vV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new vE({...o,autoplay:!1}),l=si(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-zI).value,a.sample(l).value,zI),a.stop()}}const qI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ua.test(t)||t==="0")&&!t.startsWith("url("));function Pee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Aee(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=qI(s,e),a=qI(i,e);return!o||!a?!1:Pee(t)||(n==="spring"||SV(n))&&r}function $x(t){t.duration=0,t.type="keyframes"}const Iee=new Set(["opacity","clipPath","filter","transform"]),Nee=oE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kee(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Nee()&&n&&Iee.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Ree=40;class jee extends yE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=tr.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||wE;this.keyframeResolver=new p(a,(g,y,_)=>this.onKeyframesResolved(g,y,f,!_),l,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=tr.now(),Aee(e,i,o,a)||((Bi.instantAnimations||!l)&&(d==null||d(gE(e,r,n))),e[0]=e[e.length-1],$x(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ree?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&kee(f)?new Cee({...f,element:f.motionValue.owner.current}):new vE(f);p.finished.then(()=>this.notifyFinished()).catch(ts),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),mee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Oee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dee(t){const e=Oee.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function TV(t,e,n=1){const[r,s]=Dee(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return GL(o)?parseFloat(o):o}return dE(s)?TV(s,e,n+1):s}function _E(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const CV=new Set(["width","height","top","left","right","bottom",...od]),Mee={test:t=>t==="auto",parse:t=>t},PV=t=>e=>e.test(t),AV=[id,we,ii,ao,PZ,CZ,Mee],WI=t=>AV.find(PV(t));function Lee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YL(t):!0}const Vee=new Set(["brightness","contrast","saturate","opacity"]);function Fee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hE)||[];if(!r)return t;const s=n.replace(r,"");let i=Vee.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Uee=/\b([a-z-]*)\(.*?\)/gu,Bx={...ua,getAnimatableNone:t=>{const e=t.match(Uee);return e?e.map(Fee).join(" "):t}},HI={...id,transform:Math.round},$ee={rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:ao,skewX:ao,skewY:ao,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:hf,originX:jI,originY:jI,originZ:we},xE={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...$ee,zIndex:HI,fillOpacity:hf,strokeOpacity:hf,numOctaves:HI},Bee={...xE,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Bx,WebkitFilter:Bx},IV=t=>Bee[t];function NV(t,e){let n=IV(t);return n!==Bx&&(n=ua),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zee=new Set(["auto","none","0"]);function qee(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!zee.has(i)&&ff(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=NV(n,s)}class Wee extends wE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),dE(u))){const d=TV(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!CV.has(r)||e.length!==2)return;const[s,i]=e,o=WI(s),a=WI(i);if(o!==a)if($I(o)&&$I(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Lee(e[s]))&&r.push(s);r.length&&qee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=gl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Hee(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const kV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Gee(t){return KL(t)&&"offsetHeight"in t}const GI=30,Kee=t=>!isNaN(parseFloat(t));class Yee{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=tr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Kee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aE);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GI);return QL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(t,e){return new Yee(t,e)}const{schedule:bE,cancel:che}=aV(queueMicrotask,!1),fs={x:!1,y:!1};function RV(){return fs.x||fs.y}function Qee(t){return t==="x"||t==="y"?fs[t]?null:(fs[t]=!0,()=>{fs[t]=!1}):fs.x||fs.y?null:(fs.x=fs.y=!0,()=>{fs.x=fs.y=!1})}function jV(t,e){const n=Hee(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function KI(t){return!(t.pointerType==="touch"||RV())}function Xee(t,e,n={}){const[r,s,i]=jV(t,n),o=a=>{if(!KI(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{KI(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const OV=(t,e)=>e?t===e?!0:OV(t,e.parentElement):!1,SE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Jee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zee(t){return Jee.has(t.tagName)||t.tabIndex!==-1}const $m=new WeakSet;function YI(t){return e=>{e.key==="Enter"&&t(e)}}function cw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ete=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YI(()=>{if($m.has(n))return;cw(n,"down");const s=YI(()=>{cw(n,"up")}),i=()=>cw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QI(t){return SE(t)&&!RV()}function tte(t,e,n={}){const[r,s,i]=jV(t,n),o=a=>{const l=a.currentTarget;if(!QI(a))return;$m.add(l);const u=e(l,a),d=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),$m.has(l)&&$m.delete(l),QI(p)&&typeof u=="function"&&u(p,{success:w})},h=p=>{d(p,l===window||l===document||n.useGlobalTarget||OV(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Gee(a)&&(a.addEventListener("focus",u=>ete(u,s)),!Zee(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function DV(t){return KL(t)&&"ownerSVGElement"in t}function nte(t){return DV(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),rte=[...AV,Ut,ua],ste=t=>rte.find(PV(t)),EE=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ite(t=!0){const e=b.useContext(rE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const MV=b.createContext({strict:!1}),XI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ku={};for(const t in XI)ku[t]={isEnabled:e=>XI[t].some(n=>!!e[n])};function ote(t){for(const e in t)ku[e]={...ku[e],...t[e]}}const ate=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ate.has(t)}let LV=t=>!sy(t);function lte(t){typeof t=="function"&&(LV=e=>e.startsWith("on")?!sy(e):t(e))}try{lte(require("@emotion/is-prop-valid").default)}catch{}function cte(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(LV(s)||n===!0&&sy(s)||!e&&!sy(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const bv=b.createContext({});function Sv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pf(t){return typeof t=="string"||Array.isArray(t)}const TE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CE=["initial",...TE];function Ev(t){return Sv(t.animate)||CE.some(e=>pf(t[e]))}function VV(t){return!!(Ev(t)||t.variants)}function ute(t,e){if(Ev(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pf(n)?n:void 0,animate:pf(r)?r:void 0}}return t.inherit!==!1?e:{}}function dte(t){const{initial:e,animate:n}=ute(t,b.useContext(bv));return b.useMemo(()=>({initial:e,animate:n}),[JI(e),JI(n)])}function JI(t){return Array.isArray(t)?t.join(" "):t}const mf={};function hte(t){for(const e in t)mf[e]=t[e],uE(e)&&(mf[e].isCSSVariable=!0)}function FV(t,{layout:e,layoutId:n}){return ad.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mf[t]||t==="opacity")}const fte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pte=od.length;function mte(t,e,n){let r="",s=!0;for(let i=0;i<pte;i++){const o=od[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=kV(a,xE[o]);if(!l){s=!1;const d=fte[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function PE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ad.has(l)){o=!0;continue}else if(uE(l)){s[l]=u;continue}else{const d=kV(u,xE[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=mte(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const AE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UV(t,e,n){for(const r in e)!Pn(e[r])&&!FV(r,n)&&(t[r]=e[r])}function gte({transformTemplate:t},e){return b.useMemo(()=>{const n=AE();return PE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yte(t,e){const n=t.style||{},r={};return UV(r,n,t),Object.assign(r,gte(t,e)),r}function vte(t,e){const n={},r=yte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wte={offset:"stroke-dashoffset",array:"stroke-dasharray"},_te={offset:"strokeDashoffset",array:"strokeDasharray"};function xte(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wte:_te;t[i.offset]=we.transform(-r);const o=we.transform(e),a=we.transform(n);t[i.array]=`${o} ${a}`}function $V(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,d){if(PE(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&xte(h,s,i,o,!1)}const BV=()=>({...AE(),attrs:{}}),zV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bte(t,e,n,r){const s=b.useMemo(()=>{const i=BV();return $V(i,e,zV(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};UV(i,t.style,t),s.style={...i,...s.style}}return s}const Ste=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IE(t){return typeof t!="string"||t.includes("-")?!1:!!(Ste.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ete(t,e,n,{latestValues:r},s,i=!1){const a=(IE(t)?bte:vte)(e,r,s,t),l=cte(e,typeof t=="string",i),u=t!==b.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=b.useMemo(()=>Pn(d)?d.get():d,[d]);return b.createElement(t,{...u,children:h})}function ZI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function NE(t,e,n,r){if(typeof e=="function"){const[s,i]=ZI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=ZI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Bm(t){return Pn(t)?t.get():t}function Tte({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Cte(n,r,s,t),renderState:e()}}function Cte(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Bm(i[f]);let{initial:o,animate:a}=t;const l=Ev(t),u=VV(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Sv(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const w=NE(t,f[p]);if(w){const{transitionEnd:g,transition:y,..._}=w;for(const v in _){let x=_[v];if(Array.isArray(x)){const T=d?x.length-1:0;x=x[T]}x!==null&&(s[v]=x)}for(const v in g)s[v]=g[v]}}}return s}const qV=t=>(e,n)=>{const r=b.useContext(bv),s=b.useContext(rE),i=()=>Tte(t,e,r,s);return n?i():HL(i)};function kE(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Pn(r[o])||e.style&&Pn(e.style[o])||FV(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Pte=qV({scrapeMotionValuesFromProps:kE,createRenderState:AE});function WV(t,e,n){const r=kE(t,e,n);for(const s in t)if(Pn(t[s])||Pn(e[s])){const i=od.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Ate=qV({scrapeMotionValuesFromProps:WV,createRenderState:BV}),Ite=Symbol.for("motionComponentSymbol");function kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Nte(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):kc(n)&&(n.current=r))},[e])}const RE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kte="framerAppearId",HV="data-"+RE(kte),GV=b.createContext({});function Rte(t,e,n,r,s){var g,y;const{visualElement:i}=b.useContext(bv),o=b.useContext(MV),a=b.useContext(rE),l=b.useContext(EE).reducedMotion,u=b.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=b.useContext(GV);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&jte(u.current,n,s,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const p=n[HV],w=b.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return lZ(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,p)}),w.current=!1),d.enteringChildren=void 0)}),d}function jte(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KV(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&kc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function KV(t){if(t)return t.options.allowProjection!==!1?t.projection:KV(t.parent)}function uw(t,{forwardMotionProps:e=!1}={},n,r){n&&ote(n);const s=IE(t)?Ate:Pte;function i(a,l){let u;const d={...b.useContext(EE),...a,layoutId:Ote(a)},{isStatic:h}=d,f=dte(a),p=s(a,h);if(!h&&nE){Dte();const w=Mte(d);u=w.MeasureLayout,f.visualElement=Rte(t,p,d,r,w.ProjectionNode)}return c.jsxs(bv.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,Ete(t,a,Nte(p,f.visualElement,l),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[Ite]=t,o}function Ote({layoutId:t}){const e=b.useContext(WL).id;return e&&t!==void 0?e+"-"+t:t}function Dte(t,e){b.useContext(MV).strict}function Mte(t){const{drag:e,layout:n}=ku;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Lte(t,e){if(typeof Proxy>"u")return uw;const n=new Map,r=(i,o)=>uw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,uw(o,void 0,t,e)),n.get(o))})}function YV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Vte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Fte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dw(t){return t===void 0||t===1}function zx({scale:t,scaleX:e,scaleY:n}){return!dw(t)||!dw(e)||!dw(n)}function za(t){return zx(t)||QV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QV(t){return eN(t.x)||eN(t.y)}function eN(t){return t&&t!=="0%"}function iy(t,e,n){const r=t-n,s=e*r;return n+s}function tN(t,e,n,r,s){return s!==void 0&&(t=iy(t,s,r)),iy(t,n,r)+e}function qx(t,e=0,n=1,r,s){t.min=tN(t.min,e,n,r,s),t.max=tN(t.max,e,n,r,s)}function XV(t,{x:e,y:n}){qx(t.x,e.translate,e.scale,e.originPoint),qx(t.y,n.translate,n.scale,n.originPoint)}const nN=.999999999999,rN=1.0000000000001;function Ute(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,XV(t,o)),r&&za(i.latestValues)&&jc(t,i.latestValues))}e.x<rN&&e.x>nN&&(e.x=1),e.y<rN&&e.y>nN&&(e.y=1)}function Rc(t,e){t.min=t.min+e,t.max=t.max+e}function sN(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);qx(t,e,n,i,r)}function jc(t,e){sN(t.x,e.x,e.scaleX,e.scale,e.originX),sN(t.y,e.y,e.scaleY,e.scale,e.originY)}function JV(t,e){return YV(Fte(t.getBoundingClientRect(),e))}function $te(t,e,n){const r=JV(t,n),{scroll:s}=e;return s&&(Rc(r.x,s.offset.x),Rc(r.y,s.offset.y)),r}const iN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oc=()=>({x:iN(),y:iN()}),oN=()=>({min:0,max:0}),kt=()=>({x:oN(),y:oN()}),Wx={current:null},ZV={current:!1};function Bte(){if(ZV.current=!0,!!nE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wx.current=t.matches;t.addEventListener("change",e),e()}else Wx.current=!1}const zte=new WeakMap;function qte(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Pn(s))t.addValue(r,s);else if(Pn(i))t.addValue(r,Ol(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ol(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=tr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,gt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ev(n),this.isVariantNode=VV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&Pn(p)&&p.set(l[f])}}mount(e){var n;this.current=e,zte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),ZV.current||Bte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ca(this.notifyUpdate),ca(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ad.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ku){const n=ku[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aN.length;r++){const s=aN[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=qte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(GL(r)||YL(r))?r=parseFloat(r):!ste(r)&&ua.test(n)&&(r=NV(e,n)),this.setBaseTarget(e,Pn(r)?r.get():r)),Pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=NE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){bE.render(this.render)}}class e4 extends Wte{constructor(){super(...arguments),this.KeyframeResolver=Wee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function t4(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Hte(t){return window.getComputedStyle(t)}class Gte extends e4{constructor(){super(...arguments),this.type="html",this.renderInstance=t4}readValueFromInstance(e,n){var r;if(ad.has(n))return(r=this.projection)!=null&&r.isProjecting?Mx(n):uee(e,n);{const s=Hte(e),i=(uE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JV(e,n)}build(e,n,r){PE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kE(e,n,r)}}const n4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kte(t,e,n,r){t4(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(n4.has(s)?s:RE(s),e.attrs[s])}class Yte extends e4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ad.has(n)){const r=IV(n);return r&&r.default||0}return n=n4.has(n)?n:RE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return WV(e,n,r)}build(e,n,r){$V(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Kte(e,n,r,s)}mount(e){this.isSVGTag=zV(e.tagName),super.mount(e)}}const Qte=(t,e)=>IE(t)?new Yte(e):new Gte(e,{allowProjection:t!==b.Fragment});function Qc(t,e,n){const r=t.getProps();return NE(r,e,n!==void 0?n:r.custom,t)}const Hx=t=>Array.isArray(t);function Xte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ol(n))}function Jte(t){return Hx(t)?t[t.length-1]||0:t}function Zte(t,e){const n=Qc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Jte(i[o]);Xte(t,o,a)}}function ene(t){return!!(Pn(t)&&t.add)}function Gx(t,e){const n=t.getValue("willChange");if(ene(n))return n.add(e);if(!n&&Bi.WillChange){const r=new Bi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function r4(t){return t.props[HV]}const tne=t=>t!==null;function nne(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(tne),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const rne={type:"spring",stiffness:500,damping:25,restSpeed:10},sne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ine={type:"keyframes",duration:.8},one={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ane=(t,{keyframes:e})=>e.length>2?ine:ad.has(t)?t.startsWith("scale")?sne(e[1]):rne:one;function lne({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const jE=(t,e,n,r={},s,i)=>o=>{const a=_E(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-si(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};lne(a)||Object.assign(d,ane(t,d)),d.duration&&(d.duration=si(d.duration)),d.repeatDelay&&(d.repeatDelay=si(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&($x(d),d.delay===0&&(h=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(h=!0,$x(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=nne(d.keyframes,a);if(f!==void 0){gt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new vE(d):new jee(d)};function cne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||u&&cne(u,d))continue;const p={delay:n,..._E(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const _=r4(t);if(_){const v=window.MotionHandoffAnimation(_,d,gt);v!==null&&(p.startTime=v,g=!0)}}Gx(t,d),h.start(jE(d,h,f,t.shouldReduceMotion&&CV.has(d)?{type:!1}:p,t,g));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{gt.update(()=>{o&&Zte(t,o)})}),l}function i4(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Kx(t,e,n={}){var l;const r=Qc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(s4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return une(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function une(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Kx(l,e,{...o,delay:n+(typeof r=="function"?0:r)+i4(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function dne(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Kx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Kx(t,e,n);else{const s=typeof e=="function"?Qc(t,e,n.custom):e;r=Promise.all(s4(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function o4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const hne=CE.length;function a4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?a4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hne;n++){const r=CE[n],s=t.props[r];(pf(s)||s===!1)&&(e[r]=s)}return e}const fne=[...TE].reverse(),pne=TE.length;function mne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dne(t,n,r)))}function gne(t){let e=mne(t),n=lN(),r=!0;const s=l=>(u,d)=>{var f;const h=Qc(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:w,...g}=h;u={...u,...g,...w}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=a4(t.parent)||{},h=[],f=new Set;let p={},w=1/0;for(let y=0;y<pne;y++){const _=fne[y],v=n[_],x=u[_]!==void 0?u[_]:d[_],T=pf(x),I=_===l?v.isActive:null;I===!1&&(w=y);let k=x===d[_]&&x!==u[_]&&T;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...p},!v.isActive&&I===null||!x&&!v.prevProp||Sv(x)||typeof x=="boolean")continue;const C=yne(v.prevProp,x);let E=C||_===l&&v.isActive&&!k&&T||y>w&&T,A=!1;const R=Array.isArray(x)?x:[x];let j=R.reduce(s(_),{});I===!1&&(j={});const{prevResolvedValues:N={}}=v,O={...N,...j},V=B=>{E=!0,f.has(B)&&(A=!0,f.delete(B)),v.needsAnimating[B]=!0;const M=t.getValue(B);M&&(M.liveStyle=!1)};for(const B in O){const M=j[B],F=N[B];if(p.hasOwnProperty(B))continue;let q=!1;Hx(M)&&Hx(F)?q=!o4(M,F):q=M!==F,q?M!=null?V(B):f.add(B):M!==void 0&&f.has(B)?V(B):v.protectedKeys[B]=!0}v.prevProp=x,v.prevResolvedValues=j,v.isActive&&(p={...p,...j}),r&&t.blockInitialAnimation&&(E=!1);const Y=k&&C;E&&(!Y||A)&&h.push(...R.map(B=>{const M={type:_};if(typeof B=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,q=Qc(F,B);if(F.enteringChildren&&q){const{delayChildren:L}=q.transition||{};M.delay=i4(F.enteringChildren,t,L)}}return{animation:B,options:M}}))}if(f.size){const y={};if(typeof u.initial!="boolean"){const _=Qc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(y.transition=_.transition)}f.forEach(_=>{const v=t.getBaseTarget(_),x=t.getValue(_);x&&(x.liveStyle=!0),y[_]=v??null}),h.push({animation:y})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lN()}}}function yne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o4(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lN(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vne extends xa{constructor(e){super(e),e.animationState||(e.animationState=gne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wne=0;class _ne extends xa{constructor(){super(...arguments),this.id=wne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const xne={animation:{Feature:vne},exit:{Feature:_ne}};function gf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ep(t){return{point:{x:t.pageX,y:t.pageY}}}const bne=t=>e=>SE(e)&&t(e,ep(e));function bh(t,e,n,r){return gf(t,e,bne(n),r)}const l4=1e-4,Sne=1-l4,Ene=1+l4,c4=.01,Tne=0-c4,Cne=0+c4;function Bn(t){return t.max-t.min}function Pne(t,e,n){return Math.abs(t-e)<=n}function cN(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Sne&&t.scale<=Ene||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tne&&t.translate<=Cne||isNaN(t.translate))&&(t.translate=0)}function Sh(t,e,n,r){cN(t.x,e.x,n.x,r?r.originX:void 0),cN(t.y,e.y,n.y,r?r.originY:void 0)}function uN(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function Ane(t,e,n){uN(t.x,e.x,n.x),uN(t.y,e.y,n.y)}function dN(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function Eh(t,e,n){dN(t.x,e.x,n.x),dN(t.y,e.y,n.y)}function Ur(t){return[t("x"),t("y")]}const u4=({current:t})=>t?t.ownerDocument.defaultView:null,hN=(t,e)=>Math.abs(t-e);function Ine(t,e){const n=hN(t.x,e.x),r=hN(t.y,e.y);return Math.sqrt(n**2+r**2)}class d4{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,w=Ine(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!w)return;const{point:g}=f,{timestamp:y}=cn;this.history.push({...g,timestamp:y});const{onStart:_,onMove:v}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hw(p,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:w,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=fw(f.type==="pointercancel"?this.lastMoveEventInfo:hw(p,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),g&&g(f,_)},!SE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=ep(e),l=hw(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=cn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,fw(l,this.history)),this.removeListeners=Xf(bh(this.contextWindow,"pointermove",this.handlePointerMove),bh(this.contextWindow,"pointerup",this.handlePointerUp),bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ca(this.updatePoint)}}function hw(t,e){return e?{point:e(t.point)}:t}function fN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fw({point:t},e){return{point:t,delta:fN(t,h4(e)),offset:fN(t,Nne(e)),velocity:kne(e,.1)}}function Nne(t){return t[0]}function h4(t){return t[t.length-1]}function kne(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=h4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>si(e)));)n--;if(!r)return{x:0,y:0};const i=Yr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function pN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jne(t,{top:e,left:n,bottom:r,right:s}){return{x:pN(t.x,n,s),y:pN(t.y,e,r)}}function mN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function One(t,e){return{x:mN(t.x,e.x),y:mN(t.y,e.y)}}function Dne(t,e){let n=.5;const r=Bn(t),s=Bn(e);return s>r?n=df(e.min,e.max-r,t.min):r>s&&(n=df(t.min,t.max-s,e.min)),$i(0,1,n)}function Mne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yx=.35;function Lne(t=Yx){return t===!1?t=0:t===!0&&(t=Yx),{x:gN(t,"left","right"),y:gN(t,"top","bottom")}}function gN(t,e,n){return{min:yN(t,e),max:yN(t,n)}}function yN(t,e){return typeof t=="number"?t:t[e]||0}const Vne=new WeakMap;class Fne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ep(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:w,onDragStart:g}=this.getProps();if(p&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qee(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(_=>{let v=this.getAxisMotionValue(_).get()||0;if(ii.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const T=x.layout.layoutBox[_];T&&(v=Bn(T)*(parseFloat(v)/100))}}this.originPoint[_]=v}),g&&gt.postRender(()=>g(h,f)),Gx(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:g,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=Une(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),y&&y(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ur(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new d4(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:u4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&gt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Rne(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jne(r.layoutBox,e):this.constraints=!1,this.elastic=Lne(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Mne(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$te(r,s.root,this.visualElement.getTransformPagePoint());let o=One(s.layout.layoutBox,i);if(n){const a=n(Vte(o));this.hasMutatedConstraints=!!a,a&&(o=YV(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ur(d=>{if(!Yp(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gx(this.visualElement,e),r.start(jE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ur(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ur(n=>{const{drag:r}=this.getProps();if(!Yp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-_t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ur(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Dne({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ur(o=>{if(!Yp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(_t(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Vne.set(this.visualElement,this);const e=this.visualElement.current,n=bh(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gt.read(r);const o=gf(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ur(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Yx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Yp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Une(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $ne extends xa{constructor(e){super(e),this.removeGroupControls=ts,this.removeListeners=ts,this.controls=new Fne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const vN=t=>(e,n)=>{t&&gt.postRender(()=>t(e,n))};class Bne extends xa{constructor(){super(...arguments),this.removePointerDownListener=ts}onPointerDown(e){this.session=new d4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vN(e),onStart:vN(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&gt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Md={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=wN(t,e.target.x),r=wN(t,e.target.y);return`${n}% ${r}%`}},zne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ua.parse(t);if(s.length>5)return r;const i=ua.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=_t(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let pw=!1;class qne extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;hte(Wne),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),pw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,pw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;pw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function f4(t){const[e,n]=ite(),r=b.useContext(WL);return c.jsx(qne,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(GV),isPresent:e,safeToRemove:n})}const Wne={borderRadius:{...Md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Md,borderTopRightRadius:Md,borderBottomLeftRadius:Md,borderBottomRightRadius:Md,boxShadow:zne};function Hne(t,e,n){const r=Pn(t)?t:Ol(t);return r.start(jE("",r,e,n)),r.animation}const Gne=(t,e)=>t.depth-e.depth;class Kne{constructor(){this.children=[],this.isDirty=!1}add(e){sE(this.children,e),this.isDirty=!0}remove(e){iE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Gne),this.isDirty=!1,this.children.forEach(e)}}function Yne(t,e){const n=tr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ca(r),t(i-e))};return gt.setup(r,!0),()=>ca(r)}const p4=["TopLeft","TopRight","BottomLeft","BottomRight"],Qne=p4.length,_N=t=>typeof t=="string"?parseFloat(t):t,xN=t=>typeof t=="number"||we.test(t);function Xne(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Jne(r)),t.opacityExit=_t(e.opacity??1,0,Zne(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let o=0;o<Qne;o++){const a=`border${p4[o]}Radius`;let l=bN(e,a),u=bN(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||xN(l)===xN(u)?(t[a]=Math.max(_t(_N(l),_N(u),r),0),(ii.test(u)||ii.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function bN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Jne=m4(0,.5,rV),Zne=m4(.5,.95,ts);function m4(t,e,n){return r=>r<t?0:r>e?1:n(df(t,e,r))}function SN(t,e){t.min=e.min,t.max=e.max}function Fr(t,e){SN(t.x,e.x),SN(t.y,e.y)}function EN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function TN(t,e,n,r,s){return t-=e,t=iy(t,1/n,r),s!==void 0&&(t=iy(t,1/s,r)),t}function ere(t,e=0,n=1,r=.5,s,i=t,o=t){if(ii.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_t(i.min,i.max,r);t===i&&(a-=e),t.min=TN(t.min,e,n,a,s),t.max=TN(t.max,e,n,a,s)}function CN(t,e,[n,r,s],i,o){ere(t,e[n],e[r],e[s],e.scale,i,o)}const tre=["x","scaleX","originX"],nre=["y","scaleY","originY"];function PN(t,e,n,r){CN(t.x,e,tre,n?n.x:void 0,r?r.x:void 0),CN(t.y,e,nre,n?n.y:void 0,r?r.y:void 0)}function AN(t){return t.translate===0&&t.scale===1}function g4(t){return AN(t.x)&&AN(t.y)}function IN(t,e){return t.min===e.min&&t.max===e.max}function rre(t,e){return IN(t.x,e.x)&&IN(t.y,e.y)}function NN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function y4(t,e){return NN(t.x,e.x)&&NN(t.y,e.y)}function kN(t){return Bn(t.x)/Bn(t.y)}function RN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sre{constructor(){this.members=[]}add(e){sE(this.members,e),e.scheduleRender()}remove(e){if(iE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ire(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mw=["","X","Y","Z"],ore=1e3;let are=0;function gw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function v4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&v4(r)}function w4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=are++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ure),this.nodes.forEach(pre),this.nodes.forEach(mre),this.nodes.forEach(dre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kne)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DV(o)&&!nte(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=Yne(f,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(DN)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||_re,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),_=!this.targetLayout||!y4(this.targetLayout,p),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={..._E(w,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,v)}else h||DN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ca(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&v4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ON);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fre),this.nodes.forEach(lre),this.nodes.forEach(cre)):this.nodes.forEach(ON),this.clearAllSnapshots();const a=tr.now();cn.delta=$i(0,1e3/60,a-cn.timestamp),cn.timestamp=a,cn.isProcessing=!0,sw.update.process(cn),sw.preRender.process(cn),sw.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hre),this.sharedNodes.forEach(yre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!g4(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||za(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xre(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return kt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(bre))){const{scroll:d}=this.root;d&&(Rc(a.x,d.offset.x),Rc(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=kt();if(Fr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Fr(a,o),Rc(a.x,h.offset.x),Rc(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=kt();Fr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),za(d.latestValues)&&jc(l,d.latestValues)}return za(this.latestValues)&&jc(l,this.latestValues),l}removeTransform(o){const a=kt();Fr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!za(u.latestValues))continue;zx(u.latestValues)&&u.updateSnapshot();const d=kt(),h=u.measurePageBox();Fr(d,h),PN(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return za(this.latestValues)&&PN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ane(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),XV(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Eh(this.relativeTargetOrigin,this.target,p.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zx(this.parent.latestValues)||QV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Fr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Ute(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=kt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EN(this.prevProjectionDelta.x,this.projectionDelta.x),EN(this.prevProjectionDelta.y,this.projectionDelta.y)),Sh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!RN(this.projectionDelta.x,this.prevProjectionDelta.x)||!RN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oc(),this.projectionDelta=Oc(),this.projectionDeltaWithTransform=Oc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=kt(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,g=p!==w,y=this.getStack(),_=!y||y.members.length<=1,v=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(wre));this.animationProgress=0;let x;this.mixTargetDelta=T=>{const I=T/1e3;MN(h.x,o.x,I),MN(h.y,o.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vre(this.relativeTarget,this.relativeTargetOrigin,f,I),x&&rre(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=kt()),Fr(x,this.relativeTarget)),g&&(this.animationValues=d,Xne(d,u,this.latestValues,I,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ca(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ol(0)),this.currentAnimation=Hne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ore),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&_4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||kt();const h=Bn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Bn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Fr(a,l),jc(a,d),Sh(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sre),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&gw("z",o,u,this.animationValues);for(let d=0;d<mw.length;d++)gw(`rotate${mw[d]}`,o,u,this.animationValues),gw(`skew${mw[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Bm(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Bm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=ire(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in mf){if(d[w]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:_}=mf[w],v=h==="none"?d[w]:g(d[w],u);if(y){const x=y.length;for(let T=0;T<x;T++)o[y[T]]=v}else _?this.options.visualElement.renderState.vars[w]=v:o[w]=v}this.options.layoutId&&(o.pointerEvents=u===this?Bm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(jN),this.root.sharedNodes.clear()}}}function lre(t){t.updateLayout()}function cre(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ur(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Bn(f);f.min=r[h].min,f.max=f.min+p}):_4(i,e.layoutBox,r)&&Ur(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Bn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Oc();Sh(a,r,e.layoutBox);const l=Oc();o?Sh(l,t.applyTransform(s,!0),e.measuredBox):Sh(l,r,e.layoutBox);const u=!g4(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const w=kt();Eh(w,e.layoutBox,f.layoutBox);const g=kt();Eh(g,r,p.layoutBox),y4(w,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ure(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hre(t){t.clearSnapshot()}function jN(t){t.clearMeasurements()}function ON(t){t.isLayoutDirty=!1}function fre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pre(t){t.resolveTargetDelta()}function mre(t){t.calcProjection()}function gre(t){t.resetSkewAndRotation()}function yre(t){t.removeLeadSnapshot()}function MN(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LN(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function vre(t,e,n,r){LN(t.x,e.x,n.x,r),LN(t.y,e.y,n.y,r)}function wre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _re={duration:.45,ease:[.4,0,.1,1]},VN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FN=VN("applewebkit/")&&!VN("chrome/")?Math.round:ts;function UN(t){t.min=FN(t.min),t.max=FN(t.max)}function xre(t){UN(t.x),UN(t.y)}function _4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Pne(kN(e),kN(n),.2)}function bre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Sre=w4({attachResizeListener:(t,e)=>gf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yw={current:void 0},x4=w4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yw.current){const t=new Sre({});t.mount(window),t.setOptions({layoutScroll:!0}),yw.current=t}return yw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ere={pan:{Feature:Bne},drag:{Feature:$ne,ProjectionNode:x4,MeasureLayout:f4}};function $N(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&gt.postRender(()=>i(e,ep(e)))}class Tre extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=Xee(e,(n,r)=>($N(this.node,r,"Start"),s=>$N(this.node,s,"End"))))}unmount(){}}class Cre extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xf(gf(this.node.current,"focus",()=>this.onFocus()),gf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&gt.postRender(()=>i(e,ep(e)))}class Pre extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=tte(e,(n,r)=>(BN(this.node,r,"Start"),(s,{success:i})=>BN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qx=new WeakMap,vw=new WeakMap,Are=t=>{const e=Qx.get(t.target);e&&e(t)},Ire=t=>{t.forEach(Are)};function Nre({root:t,...e}){const n=t||document;vw.has(n)||vw.set(n,{});const r=vw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Ire,{root:t,...e})),r[s]}function kre(t,e,n){const r=Nre(e);return Qx.set(t,n),r.observe(t),()=>{Qx.delete(t),r.unobserve(t)}}const Rre={some:0,all:1};class jre extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Rre[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return kre(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ore(e,n))&&this.startObserver()}unmount(){}}function Ore({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Dre={inView:{Feature:jre},tap:{Feature:Pre},focus:{Feature:Cre},hover:{Feature:Tre}},Mre={layout:{ProjectionNode:x4,MeasureLayout:f4}},Lre={...xne,...Dre,...Ere,...Mre},ww=Lte(Lre,Qte);function Vre(t){const e=HL(()=>Ol(t)),{isStatic:n}=b.useContext(EE);if(n){const[,r]=b.useState(t);b.useEffect(()=>e.on("change",r),[])}return e}var b4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zN=W.createContext&&W.createContext(b4),Fre=["attr","size","title"];function Ure(t,e){if(t==null)return{};var n=$re(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return e=zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4(t){return t&&t.map((e,n)=>W.createElement(e.tag,ay({key:n},e.attr),S4(e.child)))}function tp(t){return e=>W.createElement(Wre,oy({attr:ay({},t.attr)},e),S4(t.child))}function Wre(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Ure(t,Fre),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",oy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ay(ay({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&W.createElement("title",null,i),t.children)};return zN!==void 0?W.createElement(zN.Consumer,null,n=>e(n)):e(b4)}function Hre(t){return tp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function Gre(t){return tp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Kre(t){return tp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function Yre(t){return tp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Qre(t){return tp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}const Xre=[{title:"Professional Grading",description:"Expert authentication and condition assessment for your valuable cards.",id:1,icon:c.jsx(Gre,{className:"carousel-icon"})},{title:"Secure Process",description:"Industry-leading security protocols to protect your collection.",id:2,icon:c.jsx(Kre,{className:"carousel-icon"})},{title:"Quality Assurance",description:"Rigorous quality checks ensure accurate and consistent grading.",id:3,icon:c.jsx(Yre,{className:"carousel-icon"})},{title:"Premium Display",description:"Beautiful protective cases that showcase your graded cards.",id:4,icon:c.jsx(Hre,{className:"carousel-icon"})},{title:"Fast Turnaround",description:"Quick processing times to get your cards back safely.",id:5,icon:c.jsx(Qre,{className:"carousel-icon"})}],WN=50,HN=300,GN=16,Jre={type:"spring",stiffness:400,damping:40,mass:.8};function Zre({items:t=Xre,baseWidth:e=300,autoplay:n=!1,autoplayDelay:r=3e3,pauseOnHover:s=!1,loop:i=!1,round:o=!1}){const l=e-(o?40:16)*2,u=o?l*1.15:l,d=u+GN,h=i?[...t,t[0]]:t,[f,p]=b.useState(0),w=Vre(0),[g,y]=b.useState(!1),[_,v]=b.useState(!1),x=b.useRef(null);b.useEffect(()=>{if(s&&x.current){const E=x.current,A=()=>y(!0),R=()=>y(!1);return E.addEventListener("mouseenter",A),E.addEventListener("mouseleave",R),()=>{E.removeEventListener("mouseenter",A),E.removeEventListener("mouseleave",R)}}},[s]),b.useEffect(()=>{if(n&&(!s||!g)){const E=setInterval(()=>{p(A=>A===t.length-1&&i?A+1:A===h.length-1?i?0:A:A+1)},r);return()=>clearInterval(E)}},[n,r,g,i,t.length,h.length,s]);const T=_?{duration:0}:Jre,I=()=>{i&&f===h.length-1&&(v(!0),w.set(0),p(0),setTimeout(()=>v(!1),50))},k=(E,A)=>{const R=A.offset.x,j=A.velocity.x;R<-WN||j<-HN?i&&f===t.length-1?p(f+1):p(N=>Math.min(N+1,h.length-1)):(R>WN||j>HN)&&p(i&&f===0?t.length-1:N=>Math.max(N-1,0))},C=i?{}:{dragConstraints:{left:-d*(h.length-1),right:0}};return c.jsxs("div",{ref:x,className:`carousel-container ${o?"round":""}`,style:{width:`${e}px`,...o&&{height:`${e}px`,borderRadius:"50%"}},children:[c.jsx(ww.div,{className:"carousel-track",drag:"x",...C,style:{width:u,gap:`${GN}px`,perspective:1e3,perspectiveOrigin:`${f*d+u/2}px 50%`,x:w},onDragEnd:k,animate:{x:-(f*d)},transition:T,onAnimationComplete:I,children:h.map((E,A)=>c.jsxs(ww.div,{className:`carousel-item ${o?"round":""}`,style:{width:u,height:o?u:"100%",...o&&{borderRadius:"50%"}},transition:T,children:[c.jsx("div",{className:`carousel-item-header ${o?"round":""}`,children:c.jsx("span",{className:"carousel-icon-container",children:E.icon})}),c.jsxs("div",{className:"carousel-item-content",children:[c.jsx("div",{className:"carousel-item-title",children:E.title}),c.jsx("p",{className:"carousel-item-description",children:E.description})]})]},A))}),c.jsx("div",{className:`carousel-indicators-container ${o?"round":""}`,children:c.jsx("div",{className:"carousel-indicators",children:t.map((E,A)=>c.jsx(ww.div,{className:`carousel-indicator ${f%t.length===A?"active":"inactive"}`,animate:{scale:f%t.length===A?1.2:1},onClick:()=>p(A),transition:{duration:.15}},A))})})]})}var ese="1.3.15";function E4(t,e,n){return Math.max(t,Math.min(e,n))}function tse(t,e,n){return(1-n)*t+n*e}function nse(t,e,n,r){return tse(t,e,1-Math.exp(-n*r))}function rse(t,e){return(t%e+e)%e}var sse=class{constructor(){ie(this,"isRunning",!1);ie(this,"value",0);ie(this,"from",0);ie(this,"to",0);ie(this,"currentTime",0);ie(this,"lerp");ie(this,"duration");ie(this,"easing");ie(this,"onUpdate")}advance(t){var n;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const r=E4(0,this.currentTime/this.duration,1);e=r>=1;const s=e?1:this.easing(r);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=nse(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(n=this.onUpdate)==null||n.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:n,duration:r,easing:s,onStart:i,onUpdate:o}){this.from=this.value=t,this.to=e,this.lerp=n,this.duration=r,this.easing=s,this.currentTime=0,this.isRunning=!0,i==null||i(),this.onUpdate=o}};function ise(t,e){let n;return function(...r){let s=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,t.apply(s,r)},e)}}var ose=class{constructor(t,e,{autoResize:n=!0,debounce:r=250}={}){ie(this,"width",0);ie(this,"height",0);ie(this,"scrollHeight",0);ie(this,"scrollWidth",0);ie(this,"debouncedResize");ie(this,"wrapperResizeObserver");ie(this,"contentResizeObserver");ie(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});ie(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});ie(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=e,n&&(this.debouncedResize=ise(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var t,e;(t=this.wrapperResizeObserver)==null||t.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},T4=class{constructor(){ie(this,"events",{})}emit(t,...e){var r;let n=this.events[t]||[];for(let s=0,i=n.length;s<i;s++)(r=n[s])==null||r.call(n,...e)}on(t,e){var n;return(n=this.events[t])!=null&&n.push(e)||(this.events[t]=[e]),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(s=>e!==s)}}off(t,e){var n;this.events[t]=(n=this.events[t])==null?void 0:n.filter(r=>e!==r)}destroy(){this.events={}}},KN=100/6,so={passive:!1},ase=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){ie(this,"touchStart",{x:0,y:0});ie(this,"lastDelta",{x:0,y:0});ie(this,"window",{width:0,height:0});ie(this,"emitter",new T4);ie(this,"onTouchStart",t=>{const{clientX:e,clientY:n}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});ie(this,"onTouchMove",t=>{const{clientX:e,clientY:n}=t.targetTouches?t.targetTouches[0]:t,r=-(e-this.touchStart.x)*this.options.touchMultiplier,s=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=n,this.lastDelta={x:r,y:s},this.emitter.emit("scroll",{deltaX:r,deltaY:s,event:t})});ie(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});ie(this,"onWheel",t=>{let{deltaX:e,deltaY:n,deltaMode:r}=t;const s=r===1?KN:r===2?this.window.width:1,i=r===1?KN:r===2?this.window.height:1;e*=s,n*=i,e*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:n,event:t})});ie(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,so),this.element.addEventListener("touchstart",this.onTouchStart,so),this.element.addEventListener("touchmove",this.onTouchMove,so),this.element.addEventListener("touchend",this.onTouchEnd,so)}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,so),this.element.removeEventListener("touchstart",this.onTouchStart,so),this.element.removeEventListener("touchmove",this.onTouchMove,so),this.element.removeEventListener("touchend",this.onTouchEnd,so)}},YN=t=>Math.min(1,1.001-Math.pow(2,-10*t)),QN=class{constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:n=t,smoothWheel:r=!0,syncTouch:s=!1,syncTouchLerp:i=.075,touchInertiaExponent:o=1.7,duration:a,easing:l,lerp:u=.1,infinite:d=!1,orientation:h="vertical",gestureOrientation:f=h==="horizontal"?"both":"vertical",touchMultiplier:p=1,wheelMultiplier:w=1,autoResize:g=!0,prevent:y,virtualScroll:_,overscroll:v=!0,autoRaf:x=!1,anchors:T=!1,autoToggle:I=!1,allowNestedScroll:k=!1,__experimental__naiveDimensions:C=!1}={}){ie(this,"_isScrolling",!1);ie(this,"_isStopped",!1);ie(this,"_isLocked",!1);ie(this,"_preventNextNativeScrollEvent",!1);ie(this,"_resetVelocityTimeout",null);ie(this,"__rafID",null);ie(this,"isTouching");ie(this,"time",0);ie(this,"userData",{});ie(this,"lastVelocity",0);ie(this,"velocity",0);ie(this,"direction",0);ie(this,"options");ie(this,"targetScroll");ie(this,"animatedScroll");ie(this,"animate",new sse);ie(this,"emitter",new T4);ie(this,"dimensions");ie(this,"virtualScroll");ie(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});ie(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});ie(this,"onTransitionEnd",t=>{if(t.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",n=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(n)?this.internalStop():this.internalStart()}});ie(this,"onClick",t=>{const n=t.composedPath().find(r=>{var s;return r instanceof HTMLAnchorElement&&((s=r.getAttribute("href"))==null?void 0:s.includes("#"))});if(n){const r=n.getAttribute("href");if(r){const s=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,i=`#${r.split("#")[1]}`;this.scrollTo(i,s)}}});ie(this,"onPointerDown",t=>{t.button===1&&this.reset()});ie(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:e,deltaY:n,event:r}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:n,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const s=r.type.includes("touch"),i=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const o=e===0&&n===0;if(this.options.syncTouch&&s&&r.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&n===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||l)return;let u=r.composedPath();u=u.slice(0,u.indexOf(this.rootElement));const d=this.options.prevent;if(u.find(y=>{var _,v,x;return y instanceof HTMLElement&&(typeof d=="function"&&(d==null?void 0:d(y))||((_=y.hasAttribute)==null?void 0:_.call(y,"data-lenis-prevent"))||s&&((v=y.hasAttribute)==null?void 0:v.call(y,"data-lenis-prevent-touch"))||i&&((x=y.hasAttribute)==null?void 0:x.call(y,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(y,{deltaX:e,deltaY:n}))}))return;if(this.isStopped||this.isLocked){r.cancelable&&r.preventDefault();return}if(!(this.options.syncTouch&&s||this.options.smoothWheel&&i)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let f=n;this.options.gestureOrientation==="both"?f=Math.abs(n)>Math.abs(e)?n:e:this.options.gestureOrientation==="horizontal"&&(f=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&n>0||this.animatedScroll===this.limit&&n<0))&&(r.lenisStopPropagation=!0),r.cancelable&&r.preventDefault();const p=s&&this.options.syncTouch,g=s&&r.type==="touchend";g&&(f=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+f,{programmatic:!1,...p?{lerp:g?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});ie(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});ie(this,"raf",t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=ese,(!t||t===document.documentElement)&&(t=window),typeof a=="number"&&typeof l!="function"?l=YN:typeof l=="function"&&typeof a!="number"&&(a=1),this.options={wrapper:t,content:e,eventsTarget:n,smoothWheel:r,syncTouch:s,syncTouchLerp:i,touchInertiaExponent:o,duration:a,easing:l,lerp:u,infinite:d,gestureOrientation:f,orientation:h,touchMultiplier:p,wheelMultiplier:w,autoResize:g,prevent:y,virtualScroll:_,overscroll:v,autoRaf:x,anchors:T,autoToggle:I,allowNestedScroll:k,__experimental__naiveDimensions:C},this.dimensions=new ose(t,e,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new ase(n,{touchMultiplier:p,wheelMultiplier:w}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:e=0,immediate:n=!1,lock:r=!1,duration:s=this.options.duration,easing:i=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:u=!1,programmatic:d=!0,userData:h}={}){if(!((this.isStopped||this.isLocked)&&!u)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let f;if(typeof t=="string"?(f=document.querySelector(t),f||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&(t!=null&&t.nodeType)&&(f=t),f){if(this.options.wrapper!==window){const w=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?w.left:w.top}const p=f.getBoundingClientRect();t=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite){if(d){this.targetScroll=this.animatedScroll=this.scroll;const f=t-this.animatedScroll;f>this.limit/2?t=t-this.limit:f<-this.limit/2&&(t=t+this.limit)}}else t=E4(0,t,this.limit);if(t===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=h??{},n){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}d||(this.targetScroll=t),typeof s=="number"&&typeof i!="function"?i=YN:typeof i=="function"&&typeof s!="number"&&(s=1),this.animate.fromTo(this.animatedScroll,t,{duration:s,easing:i,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(f,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=f-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=f,this.setScroll(this.scroll),d&&(this.targetScroll=f),p||this.emit(),p&&(this.reset(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:n}){const r=Date.now(),s=t._lenis??(t._lenis={});let i,o,a,l,u,d,h,f;const p=this.options.gestureOrientation;if(r-(s.time??0)>2e3){s.time=Date.now();const I=window.getComputedStyle(t);s.computedStyle=I;const k=I.overflowX,C=I.overflowY;if(i=["auto","overlay","scroll"].includes(k),o=["auto","overlay","scroll"].includes(C),s.hasOverflowX=i,s.hasOverflowY=o,!i&&!o||p==="vertical"&&!o||p==="horizontal"&&!i)return!1;u=t.scrollWidth,d=t.scrollHeight,h=t.clientWidth,f=t.clientHeight,a=u>h,l=d>f,s.isScrollableX=a,s.isScrollableY=l,s.scrollWidth=u,s.scrollHeight=d,s.clientWidth=h,s.clientHeight=f}else a=s.isScrollableX,l=s.isScrollableY,i=s.hasOverflowX,o=s.hasOverflowY,u=s.scrollWidth,d=s.scrollHeight,h=s.clientWidth,f=s.clientHeight;if(!i&&!o||!a&&!l||p==="vertical"&&(!o||!l)||p==="horizontal"&&(!i||!a))return!1;let w;if(p==="horizontal")w="x";else if(p==="vertical")w="y";else{const I=e!==0,k=n!==0;I&&i&&a&&(w="x"),k&&o&&l&&(w="y")}if(!w)return!1;let g,y,_,v,x;if(w==="x")g=t.scrollLeft,y=u-h,_=e,v=i,x=a;else if(w==="y")g=t.scrollTop,y=d-f,_=n,v=o,x=l;else return!1;return(_>0?g<y:g>0)&&v&&x}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?rse(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const lse=({children:t,itemClassName:e=""})=>c.jsx("div",{className:`scroll-stack-card ${e}`.trim(),children:t}),cse=({children:t,className:e="",itemDistance:n=100,itemScale:r=.03,itemStackDistance:s=30,stackPosition:i="20%",scaleEndPosition:o="10%",baseScale:a=.85,scaleDuration:l=.5,rotationAmount:u=0,blurAmount:d=0,useWindowScroll:h=!1,onStackComplete:f})=>{const p=b.useRef(null),w=b.useRef(!1),g=b.useRef(null),y=b.useRef(null),_=b.useRef([]),v=b.useRef(new Map),x=b.useRef(!1),T=b.useCallback((j,N,O)=>j<N?0:j>O?1:(j-N)/(O-N),[]),I=b.useCallback((j,N)=>typeof j=="string"&&j.includes("%")?parseFloat(j)/100*N:parseFloat(j),[]),k=b.useCallback(()=>{if(h)return{scrollTop:window.scrollY,containerHeight:window.innerHeight,scrollContainer:document.documentElement};{const j=p.current;return{scrollTop:j.scrollTop,containerHeight:j.clientHeight,scrollContainer:j}}},[h]),C=b.useCallback(j=>h?j.getBoundingClientRect().top+window.scrollY:j.offsetTop,[h]),E=b.useCallback(()=>{var M;if(!_.current.length||x.current)return;x.current=!0;const{scrollTop:j,containerHeight:N,scrollContainer:O}=k(),V=I(i,N),Y=I(o,N),Q=h?document.querySelector(".scroll-stack-end"):(M=p.current)==null?void 0:M.querySelector(".scroll-stack-end"),B=Q?C(Q):0;_.current.forEach((F,q)=>{if(!F)return;const L=C(F),z=L-V-s*q,te=L-Y,J=L-V-s*q,fe=B-N/2,ke=T(j,z,te),Z=a+q*r,Ie=1-ke*(1-Z),He=u?q*u*ke:0;let de=0;if(d){let Ge=0;for(let Je=0;Je<_.current.length;Je++){const Ze=C(_.current[Je])-V-s*Je;j>=Ze&&(Ge=Je)}if(q<Ge){const Je=Ge-q;de=Math.max(0,Je*d)}}let be=0;j>=J&&j<=fe?be=j-L+V+s*q:j>fe&&(be=fe-L+V+s*q);const De={translateY:Math.round(be*100)/100,scale:Math.round(Ie*1e3)/1e3,rotation:Math.round(He*100)/100,blur:Math.round(de*100)/100},lt=v.current.get(q);if(!lt||Math.abs(lt.translateY-De.translateY)>.1||Math.abs(lt.scale-De.scale)>.001||Math.abs(lt.rotation-De.rotation)>.1||Math.abs(lt.blur-De.blur)>.1){const Ge=`translate3d(0, ${De.translateY}px, 0) scale(${De.scale}) rotate(${De.rotation}deg)`,Je=De.blur>0?`blur(${De.blur}px)`:"";F.style.transform=Ge,F.style.filter=Je,v.current.set(q,De)}if(q===_.current.length-1){const Ge=j>=J&&j<=fe;Ge&&!w.current?(w.current=!0,f==null||f()):!Ge&&w.current&&(w.current=!1)}}),x.current=!1},[r,s,i,o,a,u,d,h,f,T,I,k,C]),A=b.useCallback(()=>{E()},[E]),R=b.useCallback(()=>{if(h){const j=new QN({duration:1.2,easing:O=>Math.min(1,1.001-Math.pow(2,-10*O)),smoothWheel:!0,touchMultiplier:2,infinite:!1,wheelMultiplier:1,lerp:.1,syncTouch:!0,syncTouchLerp:.075});j.on("scroll",A);const N=O=>{j.raf(O),g.current=requestAnimationFrame(N)};return g.current=requestAnimationFrame(N),y.current=j,j}else{const j=p.current;if(!j)return;const N=new QN({wrapper:j,content:j.querySelector(".scroll-stack-inner"),duration:1.2,easing:V=>Math.min(1,1.001-Math.pow(2,-10*V)),smoothWheel:!0,touchMultiplier:2,infinite:!1,gestureOrientationHandler:!0,normalizeWheel:!0,wheelMultiplier:1,touchInertiaMultiplier:35,lerp:.1,syncTouch:!0,syncTouchLerp:.075,touchInertia:.6});N.on("scroll",A);const O=V=>{N.raf(V),g.current=requestAnimationFrame(O)};return g.current=requestAnimationFrame(O),y.current=N,N}},[A,h]);return b.useLayoutEffect(()=>{const j=p.current;if(!j)return;const N=Array.from(h?document.querySelectorAll(".scroll-stack-card"):j.querySelectorAll(".scroll-stack-card"));_.current=N;const O=v.current;return N.forEach((V,Y)=>{Y<N.length-1&&(V.style.marginBottom=`${n}px`),V.style.willChange="transform, filter",V.style.transformOrigin="top center",V.style.backfaceVisibility="hidden",V.style.transform="translateZ(0)",V.style.webkitTransform="translateZ(0)",V.style.perspective="1000px",V.style.webkitPerspective="1000px"}),R(),E(),()=>{g.current&&cancelAnimationFrame(g.current),y.current&&y.current.destroy(),w.current=!1,_.current=[],O.clear(),x.current=!1}},[n,r,s,i,o,a,l,u,d,h,f,R,E]),c.jsx("div",{className:`scroll-stack-scroller ${e}`.trim(),ref:p,children:c.jsxs("div",{className:"scroll-stack-inner",children:[t,c.jsx("div",{className:"scroll-stack-end"})]})})};function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Nr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ru={duration:.5,overwrite:!1,delay:0},OE,mn,mt,Qr=1e8,rt=1/Qr,Xx=Math.PI*2,use=Xx/4,dse=0,P4=Math.sqrt,hse=Math.cos,fse=Math.sin,on=function(e){return typeof e=="string"},It=function(e){return typeof e=="function"},zi=function(e){return typeof e=="number"},DE=function(e){return typeof e>"u"},ci=function(e){return typeof e=="object"},ir=function(e){return e!==!1},ME=function(){return typeof window<"u"},Qp=function(e){return It(e)||on(e)},A4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},In=Array.isArray,Jx=/(?:-?\.?\d|\.)+/gi,I4=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Dc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_w=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,N4=/[+-]=-?[.\d]+/,k4=/[^,'"\[\]\s]+/gi,pse=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,wt,Us,Zx,LE,Rr={},ly={},R4,j4=function(e){return(ly=ju(e,Rr))&&cr},VE=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},yf=function(e,n){return!n&&console.warn(e)},O4=function(e,n){return e&&(Rr[e]=n)&&ly&&(ly[e]=n)||Rr},vf=function(){return 0},mse={suppressEvents:!0,isStart:!0,kill:!1},qm={suppressEvents:!0,kill:!1},gse={suppressEvents:!0},FE={},Yo=[],eb={},D4,gr={},xw={},XN=30,Wm=[],UE="",$E=function(e){var n=e[0],r,s;if(ci(n)||It(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=Wm.length;s--&&!Wm[s].targetTest(n););r=Wm[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new iF(e[s],r)))||e.splice(s,1);return e},vl=function(e){return e._gsap||$E(Xr(e))[0]._gsap},M4=function(e,n,r){return(r=e[n])&&It(r)?e[n]():DE(r)&&e.getAttribute&&e.getAttribute(n)||r},or=function(e,n){return(e=e.split(",")).forEach(n)||e},jt=function(e){return Math.round(e*1e5)/1e5||0},Bt=function(e){return Math.round(e*1e7)/1e7||0},Xc=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},yse=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},cy=function(){var e=Yo.length,n=Yo.slice(0),r,s;for(eb={},Yo.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},BE=function(e){return!!(e._initted||e._startAt||e.add)},L4=function(e,n,r,s){Yo.length&&!mn&&cy(),e.render(n,r,!!(mn&&n<0&&BE(e))),Yo.length&&!mn&&cy()},V4=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(k4).length<2?n:on(e)?e.trim():e},F4=function(e){return e},jr=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},vse=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},ju=function(e,n){for(var r in n)e[r]=n[r];return e},JN=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ci(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},uy=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},Th=function(e){var n=e.parent||wt,r=e.keyframes?vse(In(e.keyframes)):jr;if(ir(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},wse=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},U4=function(e,n,r,s,i){var o=e[s],a;if(i)for(a=n[i];o&&o[i]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},Tv=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[s]===n&&(e[s]=i),n._next=n._prev=n.parent=null},da=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},wl=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_se=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},tb=function(e,n,r,s){return e._startAt&&(mn?e._startAt.revert(qm):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},xse=function t(e){return!e||e._ts&&t(e.parent)},ZN=function(e){return e._repeat?Ou(e._tTime,e=e.duration()+e._rDelay)*e:0},Ou=function(e,n){var r=Math.floor(e=Bt(e/n));return e&&r===e?r-1:r},dy=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Cv=function(e){return e._end=Bt(e._start+(e._tDur/Math.abs(e._ts||e._rts||rt)||0))},Pv=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Bt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Cv(e),r._dirty||wl(r,e)),e},$4=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=dy(e.rawTime(),n),(!n._dur||np(0,n.totalDuration(),r)-n._tTime>rt)&&n.render(r,!0)),wl(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-rt}},Hs=function(e,n,r,s){return n.parent&&da(n),n._start=Bt((zi(r)?r:r||e!==wt?$r(e,r,n):e._time)+n._delay),n._end=Bt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),U4(e,n,"_first","_last",e._sort?"_start":0),nb(n)||(e._recent=n),s||$4(e,n),e._ts<0&&Pv(e,e._tTime),e},B4=function(e,n){return(Rr.ScrollTrigger||VE("scrollTrigger",n))&&Rr.ScrollTrigger.create(n,e)},z4=function(e,n,r,s,i){if(qE(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!mn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&D4!==xr.frame)return Yo.push(e),e._lazy=[i,s],1},bse=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},nb=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Sse=function(e,n,r,s){var i=e.ratio,o=n<0||!n&&(!e._start&&bse(e)&&!(!e._initted&&nb(e))||(e._ts<0||e._dp._ts<0)&&!nb(e))?0:1,a=e._rDelay,l=0,u,d,h;if(a&&e._repeat&&(l=np(0,e._tDur,n),d=Ou(l,a),e._yoyo&&d&1&&(o=1-o),d!==Ou(e._tTime,a)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||mn||s||e._zTime===rt||!n&&e._zTime){if(!e._initted&&z4(e,n,s,r,l))return;for(h=e._zTime,e._zTime=n||(r?rt:0),r||(r=n&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&tb(e,n,r,!0),e._onUpdate&&!r&&Cr(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Cr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&da(e,1),!r&&!mn&&(Cr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Ese=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},Du=function(e,n,r,s){var i=e._repeat,o=Bt(n)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Bt(o*(i+1)+e._rDelay*i):o,a>0&&!s&&Pv(e,e._tTime=e._tDur*a),e.parent&&Cv(e),r||wl(e.parent,e),e},ek=function(e){return e instanceof $n?wl(e):Du(e,e._dur)},Tse={_start:0,endTime:vf,totalDuration:vf},$r=function t(e,n,r){var s=e.labels,i=e._recent||Tse,o=e.duration()>=Qr?i.endTime(!1):e._dur,a,l,u;return on(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?i:r).totalDuration()/100:1)):a<0?(n in s||(s[n]=o),s[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(In(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},Ch=function(e,n,r){var s=zi(n[1]),i=(s?2:1)+(e<2?0:1),o=n[i],a,l;if(s&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ir(l.vars.inherit)&&l.parent;o.immediateRender=ir(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new $t(n[0],o,n[i+1])},ba=function(e,n){return e||e===0?n(e):n},np=function(e,n,r){return r<e?e:r>n?n:r},Cn=function(e,n){return!on(e)||!(n=pse.exec(e))?"":n[1]},Cse=function(e,n,r){return ba(r,function(s){return np(e,n,s)})},rb=[].slice,q4=function(e,n){return e&&ci(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ci(e[0]))&&!e.nodeType&&e!==Us},Pse=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return on(s)&&!n||q4(s,1)?(i=r).push.apply(i,Xr(s)):r.push(s)})||r},Xr=function(e,n,r){return mt&&!n&&mt.selector?mt.selector(e):on(e)&&!r&&(Zx||!Mu())?rb.call((n||LE).querySelectorAll(e),0):In(e)?Pse(e,r):q4(e)?rb.call(e,0):e?[e]:[]},sb=function(e){return e=Xr(e)[0]||yf("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Xr(n,r.querySelectorAll?r:r===e?yf("Invalid scope")||LE.createElement("div"):e)}},W4=function(e){return e.sort(function(){return .5-Math.random()})},H4=function(e){if(It(e))return e;var n=ci(e)?e:{each:e},r=_l(n.ease),s=n.from||0,i=parseFloat(n.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=n.axis,d=s,h=s;return on(s)?d=h={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(d=s[0],h=s[1]),function(f,p,w){var g=(w||n).length,y=o[g],_,v,x,T,I,k,C,E,A;if(!y){if(A=n.grid==="auto"?0:(n.grid||[1,Qr])[1],!A){for(C=-Qr;C<(C=w[A++].getBoundingClientRect().left)&&A<g;);A<g&&A--}for(y=o[g]=[],_=l?Math.min(A,g)*d-.5:s%A,v=A===Qr?0:l?g*h/A-.5:s/A|0,C=0,E=Qr,k=0;k<g;k++)x=k%A-_,T=v-(k/A|0),y[k]=I=u?Math.abs(u==="y"?T:x):P4(x*x+T*T),I>C&&(C=I),I<E&&(E=I);s==="random"&&W4(y),y.max=C-E,y.min=E,y.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(A>g?g-1:u?u==="y"?g/A:A:Math.max(A,g/A))||0)*(s==="edges"?-1:1),y.b=g<0?i-g:i,y.u=Cn(n.amount||n.each)||0,r=r&&g<0?nF(r):r}return g=(y[f]-y.min)/y.max||0,Bt(y.b+(r?r(g):g)*y.v)+y.u}},ib=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Bt(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(zi(r)?0:Cn(r))}},G4=function(e,n){var r=In(e),s,i;return!r&&ci(e)&&(s=r=e.radius||Qr,e.values?(e=Xr(e.values),(i=!zi(e[0]))&&(s*=s)):e=ib(e.increment)),ba(n,r?It(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var a=parseFloat(i?o.x:o),l=parseFloat(i?o.y:0),u=Qr,d=0,h=e.length,f,p;h--;)i?(f=e[h].x-a,p=e[h].y-l,f=f*f+p*p):f=Math.abs(e[h]-a),f<u&&(u=f,d=h);return d=!s||u<=s?e[d]:o,i||d===o||zi(o)?d:d+Cn(o)}:ib(e))},K4=function(e,n,r,s){return ba(In(e)?!n:r===!0?!!(r=0):!s,function(){return In(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},Ase=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(i,o){return o(i)},s)}},Ise=function(e,n){return function(r){return e(parseFloat(r))+(n||Cn(r))}},Nse=function(e,n,r){return Q4(e,n,0,1,r)},Y4=function(e,n,r){return ba(r,function(s){return e[~~n(s)]})},kse=function t(e,n,r){var s=n-e;return In(e)?Y4(e,t(0,e.length),n):ba(r,function(i){return(s+(i-e)%s)%s+e})},Rse=function t(e,n,r){var s=n-e,i=s*2;return In(e)?Y4(e,t(0,e.length-1),n):ba(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},wf=function(e){for(var n=0,r="",s,i,o,a;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(a?k4:Jx),r+=e.substr(n,s-n)+K4(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},Q4=function(e,n,r,s,i){var o=n-e,a=s-r;return ba(i,function(l){return r+((l-e)/o*a||0)})},jse=function t(e,n,r,s){var i=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!i){var o=on(e),a={},l,u,d,h,f;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(In(e)&&!In(n)){for(d=[],h=e.length,f=h-2,u=1;u<h;u++)d.push(t(e[u-1],e[u]));h--,i=function(w){w*=h;var g=Math.min(f,~~w);return d[g](w-g)},r=n}else s||(e=ju(In(e)?[]:{},e));if(!d){for(l in n)zE.call(a,e,l,"get",n[l]);i=function(w){return GE(w,a)||(o?e.p:e)}}}return ba(r,i)},tk=function(e,n,r){var s=e.labels,i=Qr,o,a,l;for(o in s)a=s[o]-n,a<0==!!r&&a&&i>(a=Math.abs(a))&&(l=o,i=a);return l},Cr=function(e,n,r){var s=e.vars,i=s[n],o=mt,a=e._ctx,l,u,d;if(i)return l=s[n+"Params"],u=s.callbackScope||e,r&&Yo.length&&cy(),a&&(mt=a),d=l?i.apply(u,l):i.call(u),mt=o,d},Xd=function(e){return da(e),e.scrollTrigger&&e.scrollTrigger.kill(!!mn),e.progress()<1&&Cr(e,"onInterrupt"),e},Mc,X4=[],J4=function(e){if(e)if(e=!e.name&&e.default||e,ME()||e.headless){var n=e.name,r=It(e),s=n&&!r&&e.init?function(){this._props=[]}:e,i={init:vf,render:GE,add:zE,kill:Yse,modifier:Kse,rawVars:0},o={targetTest:0,get:0,getSetter:HE,aliases:{},register:0};if(Mu(),e!==s){if(gr[n])return;jr(s,jr(uy(e,i),o)),ju(s.prototype,ju(i,uy(e,o))),gr[s.prop=n]=s,e.targetTest&&(Wm.push(s),FE[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}O4(n,s),e.register&&e.register(cr,s,ar)}else X4.push(e)},nt=255,Jd={aqua:[0,nt,nt],lime:[0,nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nt],navy:[0,0,128],white:[nt,nt,nt],olive:[128,128,0],yellow:[nt,nt,0],orange:[nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nt,0,0],pink:[nt,192,203],cyan:[0,nt,nt],transparent:[nt,nt,nt,0]},bw=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*nt+.5|0},Z4=function(e,n,r){var s=e?zi(e)?[e>>16,e>>8&nt,e&nt]:0:Jd.black,i,o,a,l,u,d,h,f,p,w;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Jd[e])s=Jd[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+i+i+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&nt,s&nt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&nt,e&nt]}else if(e.substr(0,3)==="hsl"){if(s=w=e.match(Jx),!n)l=+s[0]%360/360,u=+s[1]/100,d=+s[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,s.length>3&&(s[3]*=1),s[0]=bw(l+1/3,i,o),s[1]=bw(l,i,o),s[2]=bw(l-1/3,i,o);else if(~e.indexOf("="))return s=e.match(I4),r&&s.length<4&&(s[3]=1),s}else s=e.match(Jx)||Jd.transparent;s=s.map(Number)}return n&&!w&&(i=s[0]/nt,o=s[1]/nt,a=s[2]/nt,h=Math.max(i,o,a),f=Math.min(i,o,a),d=(h+f)/2,h===f?l=u=0:(p=h-f,u=d>.5?p/(2-h-f):p/(h+f),l=h===i?(o-a)/p+(o<a?6:0):h===o?(a-i)/p+2:(i-o)/p+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(d*100+.5)),r&&s.length<4&&(s[3]=1),s},eF=function(e){var n=[],r=[],s=-1;return e.split(Qo).forEach(function(i){var o=i.match(Dc)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},nk=function(e,n,r){var s="",i=(e+s).match(Qo),o=n?"hsla(":"rgba(",a=0,l,u,d,h;if(!i)return e;if(i=i.map(function(f){return(f=Z4(f,n,1))&&o+(n?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(d=eF(e),l=r.c,l.join(s)!==d.c.join(s)))for(u=e.replace(Qo,"1").split(Dc),h=u.length-1;a<h;a++)s+=u[a]+(~l.indexOf(a)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:r).shift());if(!u)for(u=e.split(Qo),h=u.length-1;a<h;a++)s+=u[a]+i[a];return s+u[h]},Qo=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Jd)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Ose=/hsl[a]?\(/,tF=function(e){var n=e.join(" "),r;if(Qo.lastIndex=0,Qo.test(n))return r=Ose.test(n),e[1]=nk(e[1],r),e[0]=nk(e[0],r,eF(e[1])),!0},_f,xr=function(){var t=Date.now,e=500,n=33,r=t(),s=r,i=1e3/240,o=i,a=[],l,u,d,h,f,p,w=function g(y){var _=t()-s,v=y===!0,x,T,I,k;if((_>e||_<0)&&(r+=_-n),s+=_,I=s-r,x=I-o,(x>0||v)&&(k=++h.frame,f=I-h.time*1e3,h.time=I=I/1e3,o+=x+(x>=i?4:i-x),T=1),v||(l=u(g)),T)for(p=0;p<a.length;p++)a[p](I,f,k,y)};return h={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(y){return f/(1e3/(y||60))},wake:function(){R4&&(!Zx&&ME()&&(Us=Zx=window,LE=Us.document||{},Rr.gsap=cr,(Us.gsapVersions||(Us.gsapVersions=[])).push(cr.version),j4(ly||Us.GreenSockGlobals||!Us.gsap&&Us||{}),X4.forEach(J4)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=d||function(y){return setTimeout(y,o-h.time*1e3+1|0)},_f=1,w(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),_f=0,u=vf},lagSmoothing:function(y,_){e=y||1/0,n=Math.min(_||33,e)},fps:function(y){i=1e3/(y||240),o=h.time*1e3+i},add:function(y,_,v){var x=_?function(T,I,k,C){y(T,I,k,C),h.remove(x)}:y;return h.remove(y),a[v?"unshift":"push"](x),Mu(),x},remove:function(y,_){~(_=a.indexOf(y))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},h}(),Mu=function(){return!_f&&xr.wake()},Fe={},Dse=/^[\d.\-M][\d.\-,\s]/,Mse=/["']/g,Lse=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,a,l,u;i<o;i++)l=r[i],a=i!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[s]=isNaN(u)?u.replace(Mse,"").trim():+u,s=l.substr(a+1).trim();return n},Vse=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},Fse=function(e){var n=(e+"").split("("),r=Fe[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Lse(n[1])]:Vse(e).split(",").map(V4)):Fe._CE&&Dse.test(e)?Fe._CE("",e):r},nF=function(e){return function(n){return 1-e(1-n)}},rF=function t(e,n){for(var r=e._first,s;r;)r instanceof $n?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},_l=function(e,n){return e&&(It(e)?e:Fe[e]||Fse(e))||n},Wl=function(e,n,r,s){r===void 0&&(r=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:s},o;return or(e,function(a){Fe[a]=Rr[a]=i,Fe[o=a.toLowerCase()]=r;for(var l in i)Fe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Fe[a+"."+l]=i[l]}),i},sF=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Sw=function t(e,n,r){var s=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/Xx*(Math.asin(1/s)||0),a=function(d){return d===1?1:s*Math.pow(2,-10*d)*fse((d-o)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:sF(a);return i=Xx/i,l.config=function(u,d){return t(e,u,d)},l},Ew=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:sF(r);return s.config=function(i){return t(e,i)},s};or("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Wl(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn;Wl("Elastic",Sw("in"),Sw("out"),Sw());(function(t,e){var n=1/e,r=2*n,s=2.5*n,i=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Wl("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Wl("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Wl("Circ",function(t){return-(P4(1-t*t)-1)});Wl("Sine",function(t){return t===1?1:-hse(t*use)+1});Wl("Back",Ew("in"),Ew("out"),Ew());Fe.SteppedEase=Fe.steps=Rr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),i=n?1:0,o=1-rt;return function(a){return((s*np(0,o,a)|0)+i)*r}}};Ru.ease=Fe["quad.out"];or("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return UE+=t+","+t+"Params,"});var iF=function(e,n){this.id=dse++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:M4,this.set=n?n.getSetter:HE},xf=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Du(this,+n.duration,1,1),this.data=n.data,mt&&(this._ctx=mt,mt.data.push(this)),_f||xr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Du(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Mu(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Pv(this,r),!i._dp||i.parent||$4(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Hs(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===rt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),L4(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+ZN(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+ZN(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?Ou(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-rt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?dy(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-rt?0:this._rts,this.totalTime(np(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),Cv(this),_se(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==rt&&(this._tTime-=rt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Hs(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ir(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?dy(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=gse);var s=mn;return mn=r,BE(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),mn=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ek(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,ek(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime($r(this,r),ir(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,ir(s)),this._dur||(this._zTime=-rt),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-rt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-rt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-rt)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=It(r)?r:F4,a=function(){var u=s.then;s.then=null,It(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){Xd(this)},t}();jr(xf.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-rt,_prom:0,_ps:!1,_rts:1});var $n=function(t){C4(e,t);function e(r,s){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=ir(r.sortChildren),wt&&Hs(r.parent||wt,vi(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&B4(vi(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(s,i,o){return Ch(0,arguments,this),this},n.from=function(s,i,o){return Ch(1,arguments,this),this},n.fromTo=function(s,i,o,a){return Ch(2,arguments,this),this},n.set=function(s,i,o){return i.duration=0,i.parent=this,Th(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new $t(s,i,$r(this,o),1),this},n.call=function(s,i,o){return Hs(this,$t.delayedCall(0,s,i),o)},n.staggerTo=function(s,i,o,a,l,u,d){return o.duration=i,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new $t(s,o,$r(this,l)),this},n.staggerFrom=function(s,i,o,a,l,u,d){return o.runBackwards=1,Th(o).immediateRender=ir(o.immediateRender),this.staggerTo(s,i,o,a,l,u,d)},n.staggerFromTo=function(s,i,o,a,l,u,d,h){return a.startAt=o,Th(a).immediateRender=ir(a.immediateRender),this.staggerTo(s,i,a,l,u,d,h)},n.render=function(s,i,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=s<=0?0:Bt(s),h=this._zTime<0!=s<0&&(this._initted||!u),f,p,w,g,y,_,v,x,T,I,k,C;if(this!==wt&&d>l&&s>=0&&(d=l),d!==this._tTime||o||h){if(a!==this._time&&u&&(d+=this._time-a,s+=this._time-a),f=d,T=this._start,x=this._ts,_=!x,h&&(u||(a=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,y=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(y*100+s,i,o);if(f=Bt(d%y),d===l?(g=this._repeat,f=u):(I=Bt(d/y),g=~~I,g&&g===I&&(f=u,g--),f>u&&(f=u)),I=Ou(this._tTime,y),!a&&this._tTime&&I!==g&&this._tTime-I*y-this._dur<=0&&(I=g),k&&g&1&&(f=u-f,C=1),g!==I&&!this._lock){var E=k&&I&1,A=E===(k&&g&1);if(g<I&&(E=!E),a=E?0:d%u?u:d,this._lock=1,this.render(a||(C?0:Bt(g*y)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Cr(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,A&&(this._lock=2,a=E?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;rF(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=Ese(this,Bt(a),Bt(f)),v&&(d-=f-(f=v._start))),this._tTime=d,this._time=f,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&d&&!i&&!I&&(Cr(this,"onStart"),this._tTime!==d))return this;if(f>=a&&s>=0)for(p=this._first;p;){if(w=p._next,(p._act||f>=p._start)&&p._ts&&v!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,i,o),f!==this._time||!this._ts&&!_){v=0,w&&(d+=this._zTime=-rt);break}}p=w}else{p=this._last;for(var R=s<0?s:f;p;){if(w=p._prev,(p._act||R<=p._end)&&p._ts&&v!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(R-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(R-p._start)*p._ts,i,o||mn&&BE(p)),f!==this._time||!this._ts&&!_){v=0,w&&(d+=this._zTime=R?-rt:rt);break}}p=w}}if(v&&!i&&(this.pause(),v.render(f>=a?0:-rt)._zTime=f>=a?1:-1,this._ts))return this._start=T,Cv(this),this.render(s,i,o);this._onUpdate&&!i&&Cr(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&a)&&(T===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(d===l&&this._ts>0||!d&&this._ts<0)&&da(this,1),!i&&!(s<0&&!a)&&(d||a||!l)&&(Cr(this,d===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,i){var o=this;if(zi(i)||(i=$r(this,i,s)),!(s instanceof xf)){if(In(s))return s.forEach(function(a){return o.add(a,i)}),this;if(on(s))return this.addLabel(s,i);if(It(s))s=$t.delayedCall(0,s);else return this}return this!==s?Hs(this,s,i):this},n.getChildren=function(s,i,o,a){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=-Qr);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof $t?i&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,o)))),u=u._next;return l},n.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},n.remove=function(s){return on(s)?this.removeLabel(s):It(s)?this.killTweensOf(s):(s.parent===this&&Tv(this,s),s===this._recent&&(this._recent=this._last),wl(this))},n.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Bt(xr.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},n.addLabel=function(s,i){return this.labels[s]=$r(this,i),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,i,o){var a=$t.delayedCall(0,i||vf,o);return a.data="isPause",this._hasPause=1,Hs(this,a,$r(this,s))},n.removePause=function(s){var i=this._first;for(s=$r(this,s);i;)i._start===s&&i.data==="isPause"&&da(i),i=i._next},n.killTweensOf=function(s,i,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)ko!==a[l]&&a[l].kill(s,i);return this},n.getTweensOf=function(s,i){for(var o=[],a=Xr(s),l=this._first,u=zi(i),d;l;)l instanceof $t?yse(l._targets,a)&&(u?(!ko||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&o.push(l):(d=l.getTweensOf(a,i)).length&&o.push.apply(o,d),l=l._next;return o},n.tweenTo=function(s,i){i=i||{};var o=this,a=$r(o,s),l=i,u=l.startAt,d=l.onStart,h=l.onStartParams,f=l.immediateRender,p,w=$t.to(o,jr({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||rt,onStart:function(){if(o.pause(),!p){var y=i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());w._dur!==y&&Du(w,y,0,1).render(w._time,!0,!0),p=1}d&&d.apply(w,h||[])}},i));return f?w.render(0):w},n.tweenFromTo=function(s,i,o){return this.tweenTo(i,jr({startAt:{time:$r(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),tk(this,$r(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),tk(this,$r(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+rt)},n.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(i)for(u in l)l[u]>=o&&(l[u]+=s);return wl(this)},n.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),wl(this)},n.totalDuration=function(s){var i=0,o=this,a=o._last,l=Qr,u,d,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(h=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Hs(o,a,d-a._delay,1)._lock=0):l=d,d<0&&a._ts&&(i-=d,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;Du(o,o===wt&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(wt._ts&&(L4(wt,dy(s,wt)),D4=xr.frame),xr.frame>=XN){XN+=Nr.autoSleep||120;var i=wt._first;if((!i||!i._ts)&&Nr.autoSleep&&xr._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||xr.sleep()}}},e}(xf);jr($n.prototype,{_lock:0,_hasPause:0,_forcing:0});var Use=function(e,n,r,s,i,o,a){var l=new ar(this._pt,e,n,0,1,dF,null,i),u=0,d=0,h,f,p,w,g,y,_,v;for(l.b=r,l.e=s,r+="",s+="",(_=~s.indexOf("random("))&&(s=wf(s)),o&&(v=[r,s],o(v,e,n),r=v[0],s=v[1]),f=r.match(_w)||[];h=_w.exec(s);)w=h[0],g=s.substring(u,h.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),w!==f[d++]&&(y=parseFloat(f[d-1])||0,l._pt={_next:l._pt,p:g||d===1?g:",",s:y,c:w.charAt(1)==="="?Xc(y,w)-y:parseFloat(w)-y,m:p&&p<4?Math.round:0},u=_w.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(N4.test(s)||_)&&(l.e=0),this._pt=l,l},zE=function(e,n,r,s,i,o,a,l,u,d){It(s)&&(s=s(i||0,e,o));var h=e[n],f=r!=="get"?r:It(h)?u?e[n.indexOf("set")||!It(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():h,p=It(h)?u?Wse:cF:WE,w;if(on(s)&&(~s.indexOf("random(")&&(s=wf(s)),s.charAt(1)==="="&&(w=Xc(f,s)+(Cn(f)||0),(w||w===0)&&(s=w))),!d||f!==s||ob)return!isNaN(f*s)&&s!==""?(w=new ar(this._pt,e,n,+f||0,s-(f||0),typeof h=="boolean"?Gse:uF,0,p),u&&(w.fp=u),a&&w.modifier(a,this,e),this._pt=w):(!h&&!(n in e)&&VE(n,s),Use.call(this,e,n,f,s,p,l||Nr.stringFilter,u))},$se=function(e,n,r,s,i){if(It(e)&&(e=Ph(e,i,n,r,s)),!ci(e)||e.style&&e.nodeType||In(e)||A4(e))return on(e)?Ph(e,i,n,r,s):e;var o={},a;for(a in e)o[a]=Ph(e[a],i,n,r,s);return o},oF=function(e,n,r,s,i,o){var a,l,u,d;if(gr[e]&&(a=new gr[e]).init(i,a.rawVars?n[e]:$se(n[e],s,i,o,r),r,s,o)!==!1&&(r._pt=l=new ar(r._pt,i,e,0,1,a.render,a,0,a.priority),r!==Mc))for(u=r._ptLookup[r._targets.indexOf(i)],d=a._props.length;d--;)u[a._props[d]]=l;return a},ko,ob,qE=function t(e,n,r){var s=e.vars,i=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,d=s.runBackwards,h=s.yoyoEase,f=s.keyframes,p=s.autoRevert,w=e._dur,g=e._startAt,y=e._targets,_=e.parent,v=_&&_.data==="nested"?_.vars.targets:y,x=e._overwrite==="auto"&&!OE,T=e.timeline,I,k,C,E,A,R,j,N,O,V,Y,Q,B;if(T&&(!f||!i)&&(i="none"),e._ease=_l(i,Ru.ease),e._yEase=h?nF(_l(h===!0?i:h,Ru.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!T&&!!s.runBackwards,!T||f&&!s.stagger){if(N=y[0]?vl(y[0]).harness:0,Q=N&&s[N.prop],I=uy(s,FE),g&&(g._zTime<0&&g.progress(1),n<0&&d&&a&&!p?g.render(-1,!0):g.revert(d&&w?qm:mse),g._lazy=0),o){if(da(e._startAt=$t.set(y,jr({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!g&&ir(l),startAt:null,delay:0,onUpdate:u&&function(){return Cr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(mn||!a&&!p)&&e._startAt.revert(qm),a&&w&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&w&&!g){if(n&&(a=!1),C=jr({overwrite:!1,data:"isFromStart",lazy:a&&!g&&ir(l),immediateRender:a,stagger:0,parent:_},I),Q&&(C[N.prop]=Q),da(e._startAt=$t.set(y,C)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(mn?e._startAt.revert(qm):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,rt,rt);else if(!n)return}for(e._pt=e._ptCache=0,l=w&&ir(l)||l&&!w,k=0;k<y.length;k++){if(A=y[k],j=A._gsap||$E(y)[k]._gsap,e._ptLookup[k]=V={},eb[j.id]&&Yo.length&&cy(),Y=v===y?k:v.indexOf(A),N&&(O=new N).init(A,Q||I,e,Y,v)!==!1&&(e._pt=E=new ar(e._pt,A,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(M){V[M]=E}),O.priority&&(R=1)),!N||Q)for(C in I)gr[C]&&(O=oF(C,I,e,Y,A,v))?O.priority&&(R=1):V[C]=E=zE.call(e,A,C,"get",I[C],Y,v,0,s.stringFilter);e._op&&e._op[k]&&e.kill(A,e._op[k]),x&&e._pt&&(ko=e,wt.killTweensOf(A,V,e.globalTime(n)),B=!e.parent,ko=0),e._pt&&l&&(eb[j.id]=1)}R&&hF(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!B,f&&n<=0&&T.render(Qr,!0,!0)},Bse=function(e,n,r,s,i,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,h,f,p;if(!u)for(u=e._ptCache[n]=[],f=e._ptLookup,p=e._targets.length;p--;){if(d=f[p][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return ob=1,e.vars[n]="+=0",qE(e,a),ob=0,l?yf(n+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)h=u[p],d=h._pt||h,d.s=(s||s===0)&&!i?s:d.s+(s||0)+o*d.c,d.c=r-d.s,h.e&&(h.e=jt(r)+Cn(h.e)),h.b&&(h.b=d.s+Cn(h.b))},zse=function(e,n){var r=e[0]?vl(e[0]).harness:0,s=r&&r.aliases,i,o,a,l;if(!s)return n;i=ju({},n);for(o in s)if(o in i)for(l=s[o].split(","),a=l.length;a--;)i[l[a]]=i[o];return i},qse=function(e,n,r,s){var i=n.ease||s||"power1.inOut",o,a;if(In(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:i})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:i})},Ph=function(e,n,r,s,i){return It(e)?e.call(n,r,s,i):on(e)&&~e.indexOf("random(")?wf(e):e},aF=UE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lF={};or(aF+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return lF[t]=1});var $t=function(t){C4(e,t);function e(r,s,i,o){var a;typeof s=="number"&&(i.duration=s,s=i,i=null),a=t.call(this,o?s:Th(s))||this;var l=a.vars,u=l.duration,d=l.delay,h=l.immediateRender,f=l.stagger,p=l.overwrite,w=l.keyframes,g=l.defaults,y=l.scrollTrigger,_=l.yoyoEase,v=s.parent||wt,x=(In(r)||A4(r)?zi(r[0]):"length"in s)?[r]:Xr(r),T,I,k,C,E,A,R,j;if(a._targets=x.length?$E(x):yf("GSAP target "+r+" not found. https://gsap.com",!Nr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,w||f||Qp(u)||Qp(d)){if(s=a.vars,T=a.timeline=new $n({data:"nested",defaults:g||{},targets:v&&v.data==="nested"?v.vars.targets:x}),T.kill(),T.parent=T._dp=vi(a),T._start=0,f||Qp(u)||Qp(d)){if(C=x.length,R=f&&H4(f),ci(f))for(E in f)~aF.indexOf(E)&&(j||(j={}),j[E]=f[E]);for(I=0;I<C;I++)k=uy(s,lF),k.stagger=0,_&&(k.yoyoEase=_),j&&ju(k,j),A=x[I],k.duration=+Ph(u,vi(a),I,A,x),k.delay=(+Ph(d,vi(a),I,A,x)||0)-a._delay,!f&&C===1&&k.delay&&(a._delay=d=k.delay,a._start+=d,k.delay=0),T.to(A,k,R?R(I,A,x):0),T._ease=Fe.none;T.duration()?u=d=0:a.timeline=0}else if(w){Th(jr(T.vars.defaults,{ease:"none"})),T._ease=_l(w.ease||s.ease||"none");var N=0,O,V,Y;if(In(w))w.forEach(function(Q){return T.to(x,Q,">")}),T.duration();else{k={};for(E in w)E==="ease"||E==="easeEach"||qse(E,w[E],k,w.easeEach);for(E in k)for(O=k[E].sort(function(Q,B){return Q.t-B.t}),N=0,I=0;I<O.length;I++)V=O[I],Y={ease:V.e,duration:(V.t-(I?O[I-1].t:0))/100*u},Y[E]=V.v,T.to(x,Y,N),N+=Y.duration;T.duration()<u&&T.to({},{duration:u-T.duration()})}}u||a.duration(u=T.duration())}else a.timeline=0;return p===!0&&!OE&&(ko=vi(a),wt.killTweensOf(x),ko=0),Hs(v,vi(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(h||!u&&!w&&a._start===Bt(v._time)&&ir(h)&&xse(vi(a))&&v.data!=="nested")&&(a._tTime=-rt,a.render(Math.max(0,-d)||0)),y&&B4(vi(a),y),a}var n=e.prototype;return n.render=function(s,i,o){var a=this._time,l=this._tDur,u=this._dur,d=s<0,h=s>l-rt&&!d?l:s<rt?0:s,f,p,w,g,y,_,v,x,T;if(!u)Sse(this,s,i,o);else if(h!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(f=h,x=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+s,i,o);if(f=Bt(h%g),h===l?(w=this._repeat,f=u):(y=Bt(h/g),w=~~y,w&&w===y?(f=u,w--):f>u&&(f=u)),_=this._yoyo&&w&1,_&&(T=this._yEase,f=u-f),y=Ou(this._tTime,g),f===a&&!o&&this._initted&&w===y)return this._tTime=h,this;w!==y&&(x&&this._yEase&&rF(x,_),this.vars.repeatRefresh&&!_&&!this._lock&&f!==g&&this._initted&&(this._lock=o=1,this.render(Bt(g*w),!0).invalidate()._lock=0))}if(!this._initted){if(z4(this,d?s:f,o,i,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&w!==y))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(T||this._ease)(f/u),this._from&&(this.ratio=v=1-v),!a&&h&&!i&&!y&&(Cr(this,"onStart"),this._tTime!==h))return this;for(p=this._pt;p;)p.r(v,p.d),p=p._next;x&&x.render(s<0?s:x._dur*x._ease(f/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(d&&tb(this,s,i,o),Cr(this,"onUpdate")),this._repeat&&w!==y&&this.vars.onRepeat&&!i&&this.parent&&Cr(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&tb(this,s,!0,!0),(s||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&da(this,1),!i&&!(d&&!a)&&(h||a||_)&&(Cr(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,i,o,a,l){_f||xr.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||qE(this,u),d=this._ease(u/this._dur),Bse(this,s,i,o,a,d,u,l)?this.resetTo(s,i,o,a,1):(Pv(this,0),this.parent||U4(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Xd(this):this.scrollTrigger&&this.scrollTrigger.kill(!!mn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,ko&&ko.vars.overwrite!==!0)._first||Xd(this),this.parent&&o!==this.timeline.totalDuration()&&Du(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?Xr(s):a,u=this._ptLookup,d=this._pt,h,f,p,w,g,y,_;if((!i||i==="all")&&wse(a,l))return i==="all"&&(this._pt=0),Xd(this);for(h=this._op=this._op||[],i!=="all"&&(on(i)&&(g={},or(i,function(v){return g[v]=1}),i=g),i=zse(a,i)),_=a.length;_--;)if(~l.indexOf(a[_])){f=u[_],i==="all"?(h[_]=i,w=f,p={}):(p=h[_]=h[_]||{},w=i);for(g in w)y=f&&f[g],y&&((!("kill"in y.d)||y.d.kill(g)===!0)&&Tv(this,y,"_pt"),delete f[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&Xd(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return Ch(1,arguments)},e.delayedCall=function(s,i,o,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,i,o){return Ch(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return wt.killTweensOf(s,i,o)},e}(xf);jr($t.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});or("staggerTo,staggerFrom,staggerFromTo",function(t){$t[t]=function(){var e=new $n,n=rb.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var WE=function(e,n,r){return e[n]=r},cF=function(e,n,r){return e[n](r)},Wse=function(e,n,r,s){return e[n](s.fp,r)},Hse=function(e,n,r){return e.setAttribute(n,r)},HE=function(e,n){return It(e[n])?cF:DE(e[n])&&e.setAttribute?Hse:WE},uF=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Gse=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},dF=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},GE=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Kse=function(e,n,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,n,r),i=o},Yse=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Tv(this,n,"_pt"):n.dep||(r=1),n=s;return!r},Qse=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},hF=function(e){for(var n=e._pt,r,s,i,o;n;){for(r=n._next,s=i;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:i=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=i},ar=function(){function t(n,r,s,i,o,a,l,u,d){this.t=r,this.s=i,this.c=o,this.p=s,this.r=a||uF,this.d=l||this,this.set=u||WE,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=Qse,this.m=r,this.mt=i,this.tween=s},t}();or(UE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return FE[t]=1});Rr.TweenMax=Rr.TweenLite=$t;Rr.TimelineLite=Rr.TimelineMax=$n;wt=new $n({sortChildren:!1,defaults:Ru,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Nr.stringFilter=tF;var xl=[],Hm={},Xse=[],rk=0,Jse=0,Tw=function(e){return(Hm[e]||Xse).map(function(n){return n()})},ab=function(){var e=Date.now(),n=[];e-rk>2&&(Tw("matchMediaInit"),xl.forEach(function(r){var s=r.queries,i=r.conditions,o,a,l,u;for(a in s)o=Us.matchMedia(s[a]).matches,o&&(l=1),o!==i[a]&&(i[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),Tw("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),rk=e,Tw("matchMedia"))},fF=function(){function t(n,r){this.selector=r&&sb(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Jse++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,s,i){It(r)&&(i=s,s=r,r=It);var o=this,a=function(){var u=mt,d=o.selector,h;return u&&u!==o&&u.data.push(o),i&&(o.selector=sb(i)),mt=o,h=s.apply(o,arguments),It(h)&&o._r.push(h),mt=u,o.selector=d,o.isReverted=!1,h};return o.last=a,r===It?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var s=mt;mt=null,r(this),mt=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof $t&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),l=i.data.length;l--;)u=i.data[l],u instanceof $n?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof $t)&&u.revert&&u.revert(r);i._r.forEach(function(d){return d(r,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=xl.length;o--;)xl[o].id===this.id&&xl.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Zse=function(){function t(n){this.contexts=[],this.scope=n,mt&&mt.data.push(this)}var e=t.prototype;return e.add=function(r,s,i){ci(r)||(r={matches:r});var o=new fF(0,i||this.scope),a=o.conditions={},l,u,d;mt&&!o.selector&&(o.selector=mt.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?d=1:(l=Us.matchMedia(r[u]),l&&(xl.indexOf(o)<0&&xl.push(o),(a[u]=l.matches)&&(d=1),l.addListener?l.addListener(ab):l.addEventListener("change",ab)));return d&&s(o,function(h){return o.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),hy={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return J4(s)})},timeline:function(e){return new $n(e)},getTweensOf:function(e,n){return wt.getTweensOf(e,n)},getProperty:function(e,n,r,s){on(e)&&(e=Xr(e)[0]);var i=vl(e||{}).get,o=r?F4:V4;return r==="native"&&(r=""),e&&(n?o((gr[n]&&gr[n].get||i)(e,n,r,s)):function(a,l,u){return o((gr[a]&&gr[a].get||i)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=Xr(e),e.length>1){var s=e.map(function(d){return cr.quickSetter(d,n,r)}),i=s.length;return function(d){for(var h=i;h--;)s[h](d)}}e=e[0]||{};var o=gr[n],a=vl(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(d){var h=new o;Mc._pt=0,h.init(e,r?d+r:d,Mc,0,[e]),h.render(1,h),Mc._pt&&GE(1,Mc)}:a.set(e,l);return o?u:function(d){return u(e,l,r?d+r:d,a,1)}},quickTo:function(e,n,r){var s,i=cr.to(e,jr((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(l,u,d){return i.resetTo(n,l,u,d)};return o.tween=i,o},isTweening:function(e){return wt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_l(e.ease,Ru.ease)),JN(Ru,e||{})},config:function(e){return JN(Nr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!gr[a]&&!Rr[a]&&yf(n+" effect requires "+a+" plugin.")}),xw[n]=function(a,l,u){return r(Xr(a),jr(l||{},i),u)},o&&($n.prototype[n]=function(a,l,u){return this.add(xw[n](a,ci(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){Fe[e]=_l(n)},parseEase:function(e,n){return arguments.length?_l(e,n):Fe},getById:function(e){return wt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new $n(e),s,i;for(r.smoothChildTiming=ir(e.smoothChildTiming),wt.remove(r),r._dp=0,r._time=r._tTime=wt._time,s=wt._first;s;)i=s._next,(n||!(!s._dur&&s instanceof $t&&s.vars.onComplete===s._targets[0]))&&Hs(r,s,s._start-s._delay),s=i;return Hs(wt,r,0),r},context:function(e,n){return e?new fF(e,n):mt},matchMedia:function(e){return new Zse(e)},matchMediaRefresh:function(){return xl.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||ab()},addEventListener:function(e,n){var r=Hm[e]||(Hm[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Hm[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:kse,wrapYoyo:Rse,distribute:H4,random:K4,snap:G4,normalize:Nse,getUnit:Cn,clamp:Cse,splitColor:Z4,toArray:Xr,selector:sb,mapRange:Q4,pipe:Ase,unitize:Ise,interpolate:jse,shuffle:W4},install:j4,effects:xw,ticker:xr,updateRoot:$n.updateRoot,plugins:gr,globalTimeline:wt,core:{PropTween:ar,globals:O4,Tween:$t,Timeline:$n,Animation:xf,getCache:vl,_removeLinkedListItem:Tv,reverting:function(){return mn},context:function(e){return e&&mt&&(mt.data.push(e),e._ctx=mt),mt},suppressOverwrites:function(e){return OE=e}}};or("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return hy[t]=$t[t]});xr.add($n.updateRoot);Mc=hy.to({},{duration:0});var eie=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},tie=function(e,n){var r=e._targets,s,i,o;for(s in n)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=eie(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[i],s))},Cw=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(a){var l,u;if(on(i)&&(l={},or(i,function(d){return l[d]=1}),i=l),n){l={};for(u in i)l[u]=n(i[u]);i=l}tie(a,i)}}}},cr=hy.registerPlugin({name:"attr",init:function(e,n,r,s,i){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],s,i,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)mn?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Cw("roundProps",ib),Cw("modifiers"),Cw("snap",G4))||hy;$t.version=$n.version=cr.version="3.13.0";R4=1;ME()&&Mu();Fe.Power0;Fe.Power1;Fe.Power2;Fe.Power3;Fe.Power4;Fe.Linear;Fe.Quad;Fe.Cubic;Fe.Quart;Fe.Quint;Fe.Strong;Fe.Elastic;Fe.Back;Fe.SteppedEase;Fe.Bounce;Fe.Sine;Fe.Expo;Fe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var sk,Ro,Jc,KE,rl,ik,YE,nie=function(){return typeof window<"u"},qi={},qa=180/Math.PI,Zc=Math.PI/180,Zl=Math.atan2,ok=1e8,QE=/([A-Z])/g,rie=/(left|right|width|margin|padding|x)/i,sie=/[\s,\(]\S/,Ks={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},lb=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},iie=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},oie=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},aie=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},pF=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},mF=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},lie=function(e,n,r){return e.style[n]=r},cie=function(e,n,r){return e.style.setProperty(n,r)},uie=function(e,n,r){return e._gsap[n]=r},die=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},hie=function(e,n,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},fie=function(e,n,r,s,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},xt="transform",lr=xt+"Origin",pie=function t(e,n){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in qi&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Ks[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=xi(s,a)}):this.tfm[e]=o.x?o[e]:xi(s,e),e===lr&&(this.tfm.zOrigin=o.zOrigin);else return Ks.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(xt)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(lr,n,"")),e=xt}(i||n)&&this.props.push(e,n,i[e])},gF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},mie=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(QE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=YE(),(!i||!i.isStart)&&!r[xt]&&(gF(r),s.zOrigin&&r[lr]&&(r[lr]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},yF=function(e,n){var r={target:e,props:[],revert:mie,save:pie};return e._gsap||cr.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},vF,cb=function(e,n){var r=Ro.createElementNS?Ro.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ro.createElement(e);return r&&r.style?r:Ro.createElement(e)},Jr=function t(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(QE,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&t(e,Lu(n)||n,1)||""},ak="O,Moz,ms,Ms,Webkit".split(","),Lu=function(e,n,r){var s=n||rl,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(ak[o]+e in i););return o<0?null:(o===3?"ms":o>=0?ak[o]:"")+e},ub=function(){nie()&&window.document&&(sk=window,Ro=sk.document,Jc=Ro.documentElement,rl=cb("div")||{style:{}},cb("div"),xt=Lu(xt),lr=xt+"Origin",rl.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vF=!!Lu("perspective"),YE=cr.core.reverting,KE=1)},lk=function(e){var n=e.ownerSVGElement,r=cb("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),Jc.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),Jc.removeChild(r),i},ck=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},wF=function(e){var n,r;try{n=e.getBBox()}catch{n=lk(e),r=1}return n&&(n.width||n.height)||r||(n=lk(e)),n&&!n.width&&!n.x&&!n.y?{x:+ck(e,["x","cx","x1"])||0,y:+ck(e,["y","cy","y1"])||0,width:0,height:0}:n},_F=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wF(e))},Dl=function(e,n){if(n){var r=e.style,s;n in qi&&n!==lr&&(n=xt),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(QE,"-$1").toLowerCase())):r.removeAttribute(n)}},jo=function(e,n,r,s,i,o){var a=new ar(e._pt,n,r,0,1,o?mF:pF);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},uk={deg:1,rad:1,turn:1},gie={grid:1,flex:1},ha=function t(e,n,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",a=rl.style,l=rie.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(l?"Width":"Height"),h=100,f=s==="px",p=s==="%",w,g,y,_;if(s===o||!i||uk[s]||uk[o])return i;if(o!=="px"&&!f&&(i=t(e,n,r,"px")),_=e.getCTM&&_F(e),(p||o==="%")&&(qi[n]||~n.indexOf("adius")))return w=_?e.getBBox()[l?"width":"height"]:e[d],jt(p?i/w*h:i/100*w);if(a[l?"width":"height"]=h+(f?o:s),g=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===Ro||!g.appendChild)&&(g=Ro.body),y=g._gsap,y&&p&&y.width&&l&&y.time===xr.time&&!y.uncache)return jt(i/y.width*h);if(p&&(n==="height"||n==="width")){var v=e.style[n];e.style[n]=h+s,w=e[d],v?e.style[n]=v:Dl(e,n)}else(p||o==="%")&&!gie[Jr(g,"display")]&&(a.position=Jr(e,"position")),g===e&&(a.position="static"),g.appendChild(rl),w=rl[d],g.removeChild(rl),a.position="absolute";return l&&p&&(y=vl(g),y.time=xr.time,y.width=g[d]),jt(f?w*i/h:w&&i?h/w*i:0)},xi=function(e,n,r,s){var i;return KE||ub(),n in Ks&&n!=="transform"&&(n=Ks[n],~n.indexOf(",")&&(n=n.split(",")[0])),qi[n]&&n!=="transform"?(i=Sf(e,s),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:py(Jr(e,lr))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=fy[n]&&fy[n](e,n,r)||Jr(e,n)||M4(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?ha(e,n,i,r)+r:i},yie=function(e,n,r,s){if(!r||r==="none"){var i=Lu(n,e,1),o=i&&Jr(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=Jr(e,"borderTopColor"))}var a=new ar(this._pt,e.style,n,0,1,dF),l=0,u=0,d,h,f,p,w,g,y,_,v,x,T,I;if(a.b=r,a.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=Jr(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(g=e.style[n],e.style[n]=s,s=Jr(e,n)||s,g?e.style[n]=g:Dl(e,n)),d=[r,s],tF(d),r=d[0],s=d[1],f=r.match(Dc)||[],I=s.match(Dc)||[],I.length){for(;h=Dc.exec(s);)y=h[0],v=s.substring(l,h.index),w?w=(w+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(w=1),y!==(g=f[u++]||"")&&(p=parseFloat(g)||0,T=g.substr((p+"").length),y.charAt(1)==="="&&(y=Xc(p,y)+T),_=parseFloat(y),x=y.substr((_+"").length),l=Dc.lastIndex-x.length,x||(x=x||Nr.units[n]||T,l===s.length&&(s+=x,a.e+=x)),T!==x&&(p=ha(e,n,g,x)||0),a._pt={_next:a._pt,p:v||u===1?v:",",s:p,c:_-p,m:w&&w<4||n==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=n==="display"&&s==="none"?mF:pF;return N4.test(s)&&(a.e=0),this._pt=a,a},dk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vie=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=dk[r]||r,n[1]=dk[s]||s,n.join(" ")},wie=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,i=n.u,o=r._gsap,a,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],qi[a]&&(l=1,a=a==="transformOrigin"?lr:xt),Dl(r,a);l&&(Dl(r,xt),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Sf(r,1),o.uncache=1,gF(s)))}},fy={clearProps:function(e,n,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new ar(e._pt,n,r,0,0,wie);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},bf=[1,0,0,1,0,0],xF={},bF=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},hk=function(e){var n=Jr(e,xt);return bF(n)?bf:n.substr(7).match(I4).map(jt)},XE=function(e,n){var r=e._gsap||vl(e),s=e.style,i=hk(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?bf:i):(i===bf&&!e.offsetParent&&e!==Jc&&!r.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Jc.appendChild(e)),i=hk(e),l?s.display=l:Dl(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Jc.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},db=function(e,n,r,s,i,o){var a=e._gsap,l=i||XE(e,!0),u=a.xOrigin||0,d=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,p=l[0],w=l[1],g=l[2],y=l[3],_=l[4],v=l[5],x=n.split(" "),T=parseFloat(x[0])||0,I=parseFloat(x[1])||0,k,C,E,A;r?l!==bf&&(C=p*y-w*g)&&(E=T*(y/C)+I*(-g/C)+(g*v-y*_)/C,A=T*(-w/C)+I*(p/C)-(p*v-w*_)/C,T=E,I=A):(k=wF(e),T=k.x+(~x[0].indexOf("%")?T/100*k.width:T),I=k.y+(~(x[1]||x[0]).indexOf("%")?I/100*k.height:I)),s||s!==!1&&a.smooth?(_=T-u,v=I-d,a.xOffset=h+(_*p+v*g)-_,a.yOffset=f+(_*w+v*y)-v):a.xOffset=a.yOffset=0,a.xOrigin=T,a.yOrigin=I,a.smooth=!!s,a.origin=n,a.originIsAbsolute=!!r,e.style[lr]="0px 0px",o&&(jo(o,a,"xOrigin",u,T),jo(o,a,"yOrigin",d,I),jo(o,a,"xOffset",h,a.xOffset),jo(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",T+" "+I)},Sf=function(e,n){var r=e._gsap||new iF(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Jr(e,lr)||"0",d,h,f,p,w,g,y,_,v,x,T,I,k,C,E,A,R,j,N,O,V,Y,Q,B,M,F,q,L,z,te,J,fe;return d=h=f=g=y=_=v=x=T=0,p=w=1,r.svg=!!(e.getCTM&&_F(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[xt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[xt]!=="none"?l[xt]:"")),s.scale=s.rotate=s.translate="none"),C=XE(e,r.svg),r.svg&&(r.uncache?(M=e.getBBox(),u=r.xOrigin-M.x+"px "+(r.yOrigin-M.y)+"px",B=""):B=!n&&e.getAttribute("data-svg-origin"),db(e,B||u,!!B||r.originIsAbsolute,r.smooth!==!1,C)),I=r.xOrigin||0,k=r.yOrigin||0,C!==bf&&(j=C[0],N=C[1],O=C[2],V=C[3],d=Y=C[4],h=Q=C[5],C.length===6?(p=Math.sqrt(j*j+N*N),w=Math.sqrt(V*V+O*O),g=j||N?Zl(N,j)*qa:0,v=O||V?Zl(O,V)*qa+g:0,v&&(w*=Math.abs(Math.cos(v*Zc))),r.svg&&(d-=I-(I*j+k*O),h-=k-(I*N+k*V))):(fe=C[6],te=C[7],q=C[8],L=C[9],z=C[10],J=C[11],d=C[12],h=C[13],f=C[14],E=Zl(fe,z),y=E*qa,E&&(A=Math.cos(-E),R=Math.sin(-E),B=Y*A+q*R,M=Q*A+L*R,F=fe*A+z*R,q=Y*-R+q*A,L=Q*-R+L*A,z=fe*-R+z*A,J=te*-R+J*A,Y=B,Q=M,fe=F),E=Zl(-O,z),_=E*qa,E&&(A=Math.cos(-E),R=Math.sin(-E),B=j*A-q*R,M=N*A-L*R,F=O*A-z*R,J=V*R+J*A,j=B,N=M,O=F),E=Zl(N,j),g=E*qa,E&&(A=Math.cos(E),R=Math.sin(E),B=j*A+N*R,M=Y*A+Q*R,N=N*A-j*R,Q=Q*A-Y*R,j=B,Y=M),y&&Math.abs(y)+Math.abs(g)>359.9&&(y=g=0,_=180-_),p=jt(Math.sqrt(j*j+N*N+O*O)),w=jt(Math.sqrt(Q*Q+fe*fe)),E=Zl(Y,Q),v=Math.abs(E)>2e-4?E*qa:0,T=J?1/(J<0?-J:J):0),r.svg&&(B=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!bF(Jr(e,xt)),B&&e.setAttribute("transform",B))),Math.abs(v)>90&&Math.abs(v)<270&&(i?(p*=-1,v+=g<=0?180:-180,g+=g<=0?180:-180):(w*=-1,v+=v<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=h-((r.yPercent=h&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=jt(p),r.scaleY=jt(w),r.rotation=jt(g)+a,r.rotationX=jt(y)+a,r.rotationY=jt(_)+a,r.skewX=v+a,r.skewY=x+a,r.transformPerspective=T+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(s[lr]=py(u)),r.xOffset=r.yOffset=0,r.force3D=Nr.force3D,r.renderTransform=r.svg?xie:vF?SF:_ie,r.uncache=0,r},py=function(e){return(e=e.split(" "))[0]+" "+e[1]},Pw=function(e,n,r){var s=Cn(n);return jt(parseFloat(n)+parseFloat(ha(e,"x",r+"px",s)))+s},_ie=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,SF(e,n)},Oa="0deg",Ld="0px",Da=") ",SF=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,d=r.rotationY,h=r.rotationX,f=r.skewX,p=r.skewY,w=r.scaleX,g=r.scaleY,y=r.transformPerspective,_=r.force3D,v=r.target,x=r.zOrigin,T="",I=_==="auto"&&e&&e!==1||_===!0;if(x&&(h!==Oa||d!==Oa)){var k=parseFloat(d)*Zc,C=Math.sin(k),E=Math.cos(k),A;k=parseFloat(h)*Zc,A=Math.cos(k),o=Pw(v,o,C*A*-x),a=Pw(v,a,-Math.sin(k)*-x),l=Pw(v,l,E*A*-x+x)}y!==Ld&&(T+="perspective("+y+Da),(s||i)&&(T+="translate("+s+"%, "+i+"%) "),(I||o!==Ld||a!==Ld||l!==Ld)&&(T+=l!==Ld||I?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Da),u!==Oa&&(T+="rotate("+u+Da),d!==Oa&&(T+="rotateY("+d+Da),h!==Oa&&(T+="rotateX("+h+Da),(f!==Oa||p!==Oa)&&(T+="skew("+f+", "+p+Da),(w!==1||g!==1)&&(T+="scale("+w+", "+g+Da),v.style[xt]=T||"translate(0, 0)"},xie=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,d=r.skewY,h=r.scaleX,f=r.scaleY,p=r.target,w=r.xOrigin,g=r.yOrigin,y=r.xOffset,_=r.yOffset,v=r.forceCSS,x=parseFloat(o),T=parseFloat(a),I,k,C,E,A;l=parseFloat(l),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,l+=d),l||u?(l*=Zc,u*=Zc,I=Math.cos(l)*h,k=Math.sin(l)*h,C=Math.sin(l-u)*-f,E=Math.cos(l-u)*f,u&&(d*=Zc,A=Math.tan(u-d),A=Math.sqrt(1+A*A),C*=A,E*=A,d&&(A=Math.tan(d),A=Math.sqrt(1+A*A),I*=A,k*=A)),I=jt(I),k=jt(k),C=jt(C),E=jt(E)):(I=h,E=f,k=C=0),(x&&!~(o+"").indexOf("px")||T&&!~(a+"").indexOf("px"))&&(x=ha(p,"x",o,"px"),T=ha(p,"y",a,"px")),(w||g||y||_)&&(x=jt(x+w-(w*I+g*C)+y),T=jt(T+g-(w*k+g*E)+_)),(s||i)&&(A=p.getBBox(),x=jt(x+s/100*A.width),T=jt(T+i/100*A.height)),A="matrix("+I+","+k+","+C+","+E+","+x+","+T+")",p.setAttribute("transform",A),v&&(p.style[xt]=A)},bie=function(e,n,r,s,i){var o=360,a=on(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?qa:1),u=l-s,d=s+u+"deg",h,f;return a&&(h=i.split("_")[1],h==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),h==="cw"&&u<0?u=(u+o*ok)%o-~~(u/o)*o:h==="ccw"&&u>0&&(u=(u-o*ok)%o-~~(u/o)*o)),e._pt=f=new ar(e._pt,n,r,s,u,iie),f.e=d,f.u="deg",e._props.push(r),f},fk=function(e,n){for(var r in n)e[r]=n[r];return e},Sie=function(e,n,r){var s=fk({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,d,h,f,p,w;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[xt]=n,a=Sf(r,1),Dl(r,xt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[xt],o[xt]=n,a=Sf(r,1),o[xt]=u);for(l in qi)u=s[l],d=a[l],u!==d&&i.indexOf(l)<0&&(p=Cn(u),w=Cn(d),h=p!==w?ha(r,l,u,w):parseFloat(u),f=parseFloat(d),e._pt=new ar(e._pt,a,l,h,f-h,lb),e._pt.u=w||0,e._props.push(l));fk(a,s)};or("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",s="Bottom",i="Left",o=(e<3?[n,r,s,i]:[n+i,n+r,s+r,s+i]).map(function(a){return e<2?t+a:"border"+a+t});fy[e>1?"border"+t:t]=function(a,l,u,d,h){var f,p;if(arguments.length<4)return f=o.map(function(w){return xi(a,w,u)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(d+"").split(" "),p={},o.forEach(function(w,g){return p[w]=f[g]=f[g]||f[(g-1)/2|0]}),a.init(l,p,h)}});var EF={name:"css",register:ub,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,i){var o=this._props,a=e.style,l=r.vars.startAt,u,d,h,f,p,w,g,y,_,v,x,T,I,k,C,E;KE||ub(),this.styles=this.styles||yF(e),E=this.styles.props,this.tween=r;for(g in n)if(g!=="autoRound"&&(d=n[g],!(gr[g]&&oF(g,n,r,s,e,i)))){if(p=typeof d,w=fy[g],p==="function"&&(d=d.call(r,s,e,i),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=wf(d)),w)w(this,e,g,d,r)&&(C=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),d+="",Qo.lastIndex=0,Qo.test(u)||(y=Cn(u),_=Cn(d)),_?y!==_&&(u=ha(e,g,u,_)+_):y&&(d+=y),this.add(a,"setProperty",u,d,s,i,0,0,g),o.push(g),E.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(u=typeof l[g]=="function"?l[g].call(r,s,e,i):l[g],on(u)&&~u.indexOf("random(")&&(u=wf(u)),Cn(u+"")||u==="auto"||(u+=Nr.units[g]||Cn(xi(e,g))||""),(u+"").charAt(1)==="="&&(u=xi(e,g))):u=xi(e,g),f=parseFloat(u),v=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),v&&(d=d.substr(2)),h=parseFloat(d),g in Ks&&(g==="autoAlpha"&&(f===1&&xi(e,"visibility")==="hidden"&&h&&(f=0),E.push("visibility",0,a.visibility),jo(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),g!=="scale"&&g!=="transform"&&(g=Ks[g],~g.indexOf(",")&&(g=g.split(",")[0]))),x=g in qi,x){if(this.styles.save(g),p==="string"&&d.substring(0,6)==="var(--"&&(d=Jr(e,d.substring(4,d.indexOf(")"))),h=parseFloat(d)),T||(I=e._gsap,I.renderTransform&&!n.parseTransform||Sf(e,n.parseTransform),k=n.smoothOrigin!==!1&&I.smooth,T=this._pt=new ar(this._pt,a,xt,0,1,I.renderTransform,I,0,-1),T.dep=1),g==="scale")this._pt=new ar(this._pt,I,"scaleY",I.scaleY,(v?Xc(I.scaleY,v+h):h)-I.scaleY||0,lb),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){E.push(lr,0,a[lr]),d=vie(d),I.svg?db(e,d,0,k,0,this):(_=parseFloat(d.split(" ")[2])||0,_!==I.zOrigin&&jo(this,I,"zOrigin",I.zOrigin,_),jo(this,a,g,py(u),py(d)));continue}else if(g==="svgOrigin"){db(e,d,1,k,0,this);continue}else if(g in xF){bie(this,I,g,f,v?Xc(f,v+d):d);continue}else if(g==="smoothOrigin"){jo(this,I,"smooth",I.smooth,d);continue}else if(g==="force3D"){I[g]=d;continue}else if(g==="transform"){Sie(this,d,e);continue}}else g in a||(g=Lu(g)||g);if(x||(h||h===0)&&(f||f===0)&&!sie.test(d)&&g in a)y=(u+"").substr((f+"").length),h||(h=0),_=Cn(d)||(g in Nr.units?Nr.units[g]:y),y!==_&&(f=ha(e,g,u,_)),this._pt=new ar(this._pt,x?I:a,g,f,(v?Xc(f,v+h):h)-f,!x&&(_==="px"||g==="zIndex")&&n.autoRound!==!1?aie:lb),this._pt.u=_||0,y!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=oie);else if(g in a)yie.call(this,e,g,u,v?v+d:d);else if(g in e)this.add(e,g,u||e[g],v?v+d:d,s,i);else if(g!=="parseTransform"){VE(g,d);continue}x||(g in a?E.push(g,0,a[g]):typeof e[g]=="function"?E.push(g,2,e[g]()):E.push(g,1,u||e[g])),o.push(g)}}C&&hF(this)},render:function(e,n){if(n.tween._time||!YE())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:xi,aliases:Ks,getSetter:function(e,n,r){var s=Ks[n];return s&&s.indexOf(",")<0&&(n=s),n in qi&&n!==lr&&(e._gsap.x||xi(e,"x"))?r&&ik===r?n==="scale"?die:uie:(ik=r||{})&&(n==="scale"?hie:fie):e.style&&!DE(e.style[n])?lie:~n.indexOf("-")?cie:HE(e,n)},core:{_removeProperty:Dl,_getMatrix:XE}};cr.utils.checkPrefix=Lu;cr.core.getStyleSaver=yF;(function(t,e,n,r){var s=or(t+","+e+","+n,function(i){qi[i]=1});or(e,function(i){Nr.units[i]="deg",xF[i]=1}),Ks[s[13]]=t+","+e,or(r,function(i){var o=i.split(":");Ks[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");or("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Nr.units[t]="px"});cr.registerPlugin(EF);var hc=cr.registerPlugin(EF)||cr;hc.core.Tween;const Eie=({spinDuration:t=2,hideDefaultCursor:e=!0,parallaxOn:n=!0,className:r=""})=>{const s=b.useRef(null),i=b.useRef(null);b.useRef(null);const[o,a]=b.useState(!1),[l,u]=b.useState(!1),[d,h]=b.useState(!1),f=b.useRef({x:0,y:0});return b.useEffect(()=>{var k;const p=s.current,w=i.current;if(!p||!w)return;const g=hc.to(w,{rotation:360,duration:t,ease:"none",repeat:-1}),y=()=>{h(!0),a(!0),e&&(document.body.style.cursor="none")},_=()=>{h(!1),a(!1),u(!1),e&&(document.body.style.cursor="auto")},v=C=>{d&&(f.current={x:C.clientX,y:C.clientY},n?hc.to(p,{x:C.clientX,y:C.clientY,duration:.1,ease:"power2.out"}):hc.set(p,{x:C.clientX,y:C.clientY}))},x=C=>{d&&C.target.classList.contains("cursor-target")&&(u(!0),hc.to(p,{scale:1.5,duration:.2,ease:"power2.out"}))},T=C=>{C.target.classList.contains("cursor-target")&&(u(!1),hc.to(p,{scale:1,duration:.2,ease:"power2.out"}))},I=(k=s.current)==null?void 0:k.parentElement;return I&&(I.addEventListener("mouseenter",y),I.addEventListener("mouseleave",_)),document.addEventListener("mousemove",v),document.addEventListener("mouseenter",x,!0),document.addEventListener("mouseleave",T,!0),()=>{var E;const C=(E=s.current)==null?void 0:E.parentElement;C&&(C.removeEventListener("mouseenter",y),C.removeEventListener("mouseleave",_)),document.removeEventListener("mousemove",v),document.removeEventListener("mouseenter",x,!0),document.removeEventListener("mouseleave",T,!0),document.body.style.cursor="auto",g.kill()}},[t,e,n,o,d]),c.jsx("div",{ref:s,className:`target-cursor ${o&&d?"visible":""} ${l?"hovering":""} ${r}`,style:{position:"fixed",top:0,left:0,pointerEvents:"none",zIndex:9999,transform:"translate(-50%, -50%)"},children:c.jsx("div",{ref:i,className:"target-cursor-inner",children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.6"}),c.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"8",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"20",y1:"32",x2:"20",y2:"38",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"2",y1:"20",x2:"8",y2:"20",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"32",y1:"20",x2:"38",y2:"20",stroke:"currentColor",strokeWidth:"2"}),c.jsx("circle",{cx:"20",cy:"20",r:"2",fill:"currentColor"})]})})})},Tie=()=>{const t=[{icon:Ao,title:"Industry Expertise",description:"Certified graders with decades of combined experience in card authentication and grading.",bgColor:"bg-gradient-to-br from-red-600 to-red-800"},{icon:Pl,title:"Fast Turnaround",description:"Standard service in 10-15 business days, with express options available for urgent needs.",bgColor:"bg-gradient-to-br from-red-500 to-red-700"},{icon:Pg,title:"Trusted by Thousands",description:"Join over 50,000+ satisfied collectors who trust NAZ Grading with their prized cards.",bgColor:"bg-gradient-to-br from-red-700 to-red-900"},{icon:q_,title:"Maximize Value",description:"High-grade slabs can significantly increase resale value and buyer confidence.",bgColor:"bg-gradient-to-br from-red-800 to-red-950"},{icon:tz,title:"Secure Process",description:"Fully insured shipping, state-of-the-art facility security, and tamper-evident encapsulation.",bgColor:"bg-gradient-to-br from-red-600 to-red-900"},{icon:J9,title:"Global Recognition",description:"Our grades are recognized by collectors, dealers, and auction houses worldwide.",bgColor:"bg-gradient-to-br from-red-500 to-red-800"}];return c.jsxs("section",{className:"bg-gradient-hero text-primary-foreground relative",children:[c.jsx(Eie,{spinDuration:2,hideDefaultCursor:!0,parallaxOn:!0}),c.jsxs("div",{className:"text-center py-20 px-4",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Why Choose NAZ Grading?"}),c.jsx("p",{className:"text-lg text-primary-foreground/80 max-w-2xl mx-auto",children:"The trusted choice for serious collectors and investors"})]}),c.jsx("div",{className:"relative",children:c.jsx(cse,{itemDistance:50,itemScale:.05,itemStackDistance:10,stackPosition:"20%",scaleEndPosition:"10%",baseScale:.9,useWindowScroll:!0,children:t.map((e,n)=>{const r=e.icon;return c.jsx(lse,{itemClassName:`cursor-target ${e.bgColor} text-white shadow-2xl`,children:c.jsxs("div",{className:"flex flex-col items-center text-center h-full justify-center",children:[c.jsx(r,{className:"w-16 h-16 mb-6 text-white drop-shadow-lg"}),c.jsx("h3",{className:"text-3xl font-bold mb-4",children:e.title}),c.jsx("p",{className:"text-lg text-white/90 max-w-md leading-relaxed",children:e.description})]})},n)})})})]})};var Av="Collapsible",[Cie,TF]=os(Av),[Pie,JE]=Cie(Av),CF=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l,u]=oi({prop:r,defaultProp:s??!1,onChange:o,caller:Av});return c.jsx(Pie,{scope:n,disabled:i,contentId:Ai(),open:l,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:c.jsx(xe.div,{"data-state":eT(l),"data-disabled":i?"":void 0,...a,ref:e})})});CF.displayName=Av;var PF="CollapsibleTrigger",AF=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=JE(PF,n);return c.jsx(xe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":eT(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:me(t.onClick,s.onOpenToggle)})});AF.displayName=PF;var ZE="CollapsibleContent",IF=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=JE(ZE,t.__scopeCollapsible);return c.jsx(ga,{present:n||s.open,children:({present:i})=>c.jsx(Aie,{...r,ref:e,present:i})})});IF.displayName=ZE;var Aie=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=JE(ZE,n),[a,l]=b.useState(r),u=b.useRef(null),d=Be(e,u),h=b.useRef(0),f=h.current,p=b.useRef(0),w=p.current,g=o.open||a,y=b.useRef(g),_=b.useRef(void 0);return b.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),sn(()=>{const v=u.current;if(v){_.current=_.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const x=v.getBoundingClientRect();h.current=x.height,p.current=x.width,y.current||(v.style.transitionDuration=_.current.transitionDuration,v.style.animationName=_.current.animationName),l(r)}},[o.open,r]),c.jsx(xe.div,{"data-state":eT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:g&&s})});function eT(t){return t?"open":"closed"}var Iie=CF,Nie=AF,kie=IF,Rie=b.createContext(void 0);function Iv(t){const e=b.useContext(Rie);return t||e||"ltr"}var ks="Accordion",jie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[tT,Oie,Die]=Vy(ks),[Nv,dhe]=os(ks,[Die,TF]),nT=TF(),NF=W.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return c.jsx(tT.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Fie,{...i,ref:e}):c.jsx(Vie,{...s,ref:e})})});NF.displayName=ks;var[kF,Mie]=Nv(ks),[RF,Lie]=Nv(ks,{collapsible:!1}),Vie=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,l]=oi({prop:n,defaultProp:r??"",onChange:s,caller:ks});return c.jsx(kF,{scope:t.__scopeAccordion,value:W.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:W.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(RF,{scope:t.__scopeAccordion,collapsible:i,children:c.jsx(jF,{...o,ref:e})})})}),Fie=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o,a]=oi({prop:n,defaultProp:r??[],onChange:s,caller:ks}),l=W.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=W.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return c.jsx(kF,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c.jsx(RF,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(jF,{...i,ref:e})})})}),[Uie,kv]=Nv(ks),jF=W.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=W.useRef(null),l=Be(a,e),u=Oie(n),h=Iv(s)==="ltr",f=me(t.onKeyDown,p=>{var E;if(!jie.includes(p.key))return;const w=p.target,g=u().filter(A=>{var R;return!((R=A.ref.current)!=null&&R.disabled)}),y=g.findIndex(A=>A.ref.current===w),_=g.length;if(y===-1)return;p.preventDefault();let v=y;const x=0,T=_-1,I=()=>{v=y+1,v>T&&(v=x)},k=()=>{v=y-1,v<x&&(v=T)};switch(p.key){case"Home":v=x;break;case"End":v=T;break;case"ArrowRight":i==="horizontal"&&(h?I():k());break;case"ArrowDown":i==="vertical"&&I();break;case"ArrowLeft":i==="horizontal"&&(h?k():I());break;case"ArrowUp":i==="vertical"&&k();break}const C=v%_;(E=g[C].ref.current)==null||E.focus()});return c.jsx(Uie,{scope:n,disabled:r,direction:s,orientation:i,children:c.jsx(tT.Slot,{scope:n,children:c.jsx(xe.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),my="AccordionItem",[$ie,rT]=Nv(my),OF=W.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=kv(my,n),o=Mie(my,n),a=nT(n),l=Ai(),u=r&&o.value.includes(r)||!1,d=i.disabled||t.disabled;return c.jsx($ie,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(Iie,{"data-orientation":i.orientation,"data-state":UF(u),...a,...s,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});OF.displayName=my;var DF="AccordionHeader",MF=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=kv(ks,n),i=rT(DF,n);return c.jsx(xe.h3,{"data-orientation":s.orientation,"data-state":UF(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});MF.displayName=DF;var hb="AccordionTrigger",LF=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=kv(ks,n),i=rT(hb,n),o=Lie(hb,n),a=nT(n);return c.jsx(tT.ItemSlot,{scope:n,children:c.jsx(Nie,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});LF.displayName=hb;var VF="AccordionContent",FF=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=kv(ks,n),i=rT(VF,n),o=nT(n);return c.jsx(kie,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});FF.displayName=VF;function UF(t){return t?"open":"closed"}var Bie=NF,zie=OF,qie=MF,$F=LF,BF=FF;const Wie=Bie,zF=b.forwardRef(({className:t,...e},n)=>c.jsx(zie,{ref:n,className:Ae("border-b",t),...e}));zF.displayName="AccordionItem";const qF=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(qie,{className:"flex",children:c.jsxs($F,{ref:r,className:Ae("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(U1,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));qF.displayName=$F.displayName;const WF=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(BF,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:Ae("pb-4 pt-0",t),children:e})}));WF.displayName=BF.displayName;const Hie=()=>{const t=[{question:"How much does grading cost?",answer:"Our pricing varies by service tier. Standard grading starts at 15 per card, Express at 30, and Super Express at 50. Bulk discounts are available for submissions of 20+ cards."},{question:"How long does the grading process take?",answer:"Standard service takes 10-15 business days, Express service 5-7 business days, and Super Express 2-3 business days. Processing times begin once we receive your cards at our facility."},{question:"What cards do you grade?",answer:"We specialize in Pokmon Trading Cards from all sets and languages. We grade both vintage and modern cards, including promotional cards, Japanese cards, and limited editions."},{question:"How is the grade determined?",answer:"Cards are evaluated on four main criteria: Centering, Corners, Edges, and Surface quality. Our expert graders use magnification tools and standardized lighting to assess each card, resulting in a grade from 1 (Poor) to 10 (Gem Mint)."},{question:"Is my card insured during shipping?",answer:"Yes! All submissions include insurance coverage up to the declared value of your cards. We recommend using our prepaid shipping labels which include full tracking and insurance."},{question:"Can I verify a graded card's authenticity?",answer:"Absolutely! Every graded card has a unique serial number and QR code. Simply scan the QR code or enter the serial number on our verification page to view the card's complete grading details."}];return c.jsx("section",{className:"py-20 bg-secondary/30",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Everything you need to know about our grading service"})]}),c.jsx(Wie,{type:"single",collapsible:!0,className:"space-y-4",children:t.map((e,n)=>c.jsxs(zF,{value:`item-${n}`,className:"bg-card rounded-lg px-6 border shadow-sm",children:[c.jsx(qF,{className:"text-left font-semibold hover:no-underline",children:e.question}),c.jsx(WF,{className:"text-muted-foreground",children:e.answer})]},n))})]})})})},ns=()=>c.jsx("footer",{className:"bg-primary text-primary-foreground py-12",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Ao,{className:"w-6 h-6 text-accent"}),c.jsx("span",{className:"font-bold text-xl",children:"NAZ Grading"})]}),c.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Professional Pokmon card authentication and grading services trusted by collectors worldwide."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(qe,{to:"/",className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Home"})}),c.jsx("li",{children:c.jsx(qe,{to:"/shop",className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Shop"})}),c.jsx("li",{children:c.jsx(qe,{to:"/submit",className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Submit for Grading"})}),c.jsx("li",{children:c.jsx(qe,{to:"/verify",className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Verify Card"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Services"}),c.jsxs("ul",{className:"space-y-2 text-sm text-primary-foreground/80",children:[c.jsx("li",{children:"Standard Grading"}),c.jsx("li",{children:"Express Service"}),c.jsx("li",{children:"Bulk Submissions"}),c.jsx("li",{children:"Card Authentication"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Contact"}),c.jsxs("ul",{className:"space-y-2 text-sm text-primary-foreground/80",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(By,{className:"w-4 h-4"}),c.jsx("span",{children:"info@nazgrading.com"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(iz,{className:"w-4 h-4"}),c.jsx("span",{children:"1-800-NAZ-CARD"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(rz,{className:"w-4 h-4"}),c.jsx("span",{children:"Brighton, England"})]})]})]})]}),c.jsxs("div",{className:"border-t border-primary-foreground/20 pt-8 text-center text-sm text-primary-foreground/60",children:[c.jsxs("p",{children:[" ",new Date().getFullYear()," NAZ Grading. All rights reserved."]}),c.jsx("div",{className:"mt-2",children:c.jsx(qe,{to:"/admin/login",className:"text-primary-foreground/40 hover:text-primary-foreground/60 transition-colors text-xs",children:"Admin"})})]})]})}),Gie="linear-gradient(145deg,#60496e8c 0%,#71C4FF44 100%)",Vd={INITIAL_DURATION:1200,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60,DEVICE_BETA_OFFSET:20,ENTER_TRANSITION_MS:180},Fd=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),fb=(t,e=3)=>parseFloat(t.toFixed(e)),pk=(t,e,n,r,s)=>fb(r+(s-r)*(t-e)/(n-e)),Kie=({avatarUrl:t="<Placeholder for avatar URL>",iconUrl:e="<Placeholder for icon URL>",grainUrl:n="<Placeholder for grain URL>",innerGradient:r,behindGlowEnabled:s=!0,behindGlowColor:i,behindGlowSize:o,className:a="",enableTilt:l=!0,enableMobileTilt:u=!1,mobileTiltSensitivity:d=5,miniAvatarUrl:h,name:f="Javi A. Torres",title:p="Software Engineer",handle:w="javicodes",status:g="Online",contactText:y="Contact",showUserInfo:_=!0,onContactClick:v})=>{const T=b.useMemo(()=>window.innerWidth<=768||/Mobi|Android/i.test(navigator.userAgent),[]),I=b.useRef(null),k=b.useRef(null),C=b.useRef(null),E=b.useRef(null),A=b.useMemo(()=>{if(!l)return null;let B=null,M=!1,F=0,q=0,L=0,z=0,te=0;const J=.14,fe=.6;let ke=0;const Z=(de,be)=>{const Pe=k.current,De=I.current;if(!Pe||!De)return;const lt=Pe.clientWidth||1,jn=Pe.clientHeight||1,Ge=Fd(100/lt*de),Je=Fd(100/jn*be),as=Ge-50,Ze=Je-50,Nt=T?.2:1,Mr={"--pointer-x":`${Ge}%`,"--pointer-y":`${Je}%`,"--background-x":`${pk(Ge,0,100,35,65)}%`,"--background-y":`${pk(Je,0,100,35,65)}%`,"--pointer-from-center":`${Fd(Math.hypot(Je-50,Ge-50)/50,0,1)}`,"--pointer-from-top":`${Je/100}`,"--pointer-from-left":`${Ge/100}`,"--rotate-x":`${fb(-(as/5)*Nt)}deg`,"--rotate-y":`${fb(Ze/4*Nt)}deg`};for(const[Hl,Lr]of Object.entries(Mr))De.style.setProperty(Hl,Lr)},Ie=de=>{if(!M)return;F===0&&(F=de);const Pe=1e3/(T?30:60);if(de-F<Pe&&!T){B=requestAnimationFrame(Ie);return}const De=(de-F)/1e3;F=de;const lt=de<ke?fe:J,jn=1-Math.exp(-De/lt);q+=(z-q)*jn,L+=(te-L)*jn,Z(q,L);const Ge=T?.5:.05;Math.abs(z-q)>Ge||Math.abs(te-L)>Ge||document.hasFocus()?B=requestAnimationFrame(Ie):(M=!1,F=0,B&&(cancelAnimationFrame(B),B=null))},He=()=>{M||(M=!0,F=0,B=requestAnimationFrame(Ie))};return{setImmediate(de,be){q=de,L=be,Z(q,L)},setTarget(de,be){z=de,te=be,He()},toCenter(){const de=k.current;de&&this.setTarget(de.clientWidth/2,de.clientHeight/2)},beginInitial(de){ke=performance.now()+de,He()},getCurrent(){return{x:q,y:L,tx:z,ty:te}},cancel(){B&&cancelAnimationFrame(B),B=null,M=!1,F=0}}},[l]),R=(B,M)=>{const F=M.getBoundingClientRect();return{x:B.clientX-F.left,y:B.clientY-F.top}},j=b.useCallback(B=>{const M=k.current;if(!M||!A)return;const{x:F,y:q}=R(B,M);A.setTarget(F,q)},[A]),N=b.useCallback(B=>{const M=k.current;if(!M||!A)return;M.classList.add("active"),M.classList.add("entering"),C.current&&window.clearTimeout(C.current),C.current=window.setTimeout(()=>{M.classList.remove("entering")},Vd.ENTER_TRANSITION_MS);const{x:F,y:q}=R(B,M);A.setTarget(F,q)},[A]),O=b.useCallback(()=>{const B=k.current;if(!B||!A)return;A.toCenter();const M=()=>{const{x:F,y:q,tx:L,ty:z}=A.getCurrent();Math.hypot(L-F,z-q)<.6?(B.classList.remove("active"),E.current=null):E.current=requestAnimationFrame(M)};E.current&&cancelAnimationFrame(E.current),E.current=requestAnimationFrame(M)},[A]),V=b.useCallback(B=>{const M=k.current;if(!M||!A)return;const{beta:F,gamma:q}=B;if(F==null||q==null)return;const L=M.clientWidth/2,z=M.clientHeight/2,te=Fd(L+q*d,0,M.clientWidth),J=Fd(z+(F-Vd.DEVICE_BETA_OFFSET)*d,0,M.clientHeight);A.setTarget(te,J)},[A,d]);b.useEffect(()=>{if(!l||!A)return;const B=k.current;if(!B)return;const M=j,F=N,q=O,L=V;B.addEventListener("pointerenter",F),B.addEventListener("pointermove",M),B.addEventListener("pointerleave",q);const z=()=>{if(!u||location.protocol!=="https:")return;const fe=window.DeviceMotionEvent;fe&&typeof fe.requestPermission=="function"?fe.requestPermission().then(ke=>{ke==="granted"&&window.addEventListener("deviceorientation",L)}).catch(console.error):window.addEventListener("deviceorientation",L)};B.addEventListener("click",z);const te=(B.clientWidth||0)-Vd.INITIAL_X_OFFSET,J=Vd.INITIAL_Y_OFFSET;return A.setImmediate(te,J),A.toCenter(),A.beginInitial(Vd.INITIAL_DURATION),()=>{B.removeEventListener("pointerenter",F),B.removeEventListener("pointermove",M),B.removeEventListener("pointerleave",q),B.removeEventListener("click",z),window.removeEventListener("deviceorientation",L),C.current&&window.clearTimeout(C.current),E.current&&cancelAnimationFrame(E.current),A.cancel(),B.classList.remove("entering")}},[l,u,A,j,N,O,V]);const Y=b.useMemo(()=>({"--icon":e?`url(${e})`:"none","--grain":n?`url(${n})`:"none","--inner-gradient":r??Gie,"--behind-glow-color":i??"rgba(125, 190, 255, 0.67)","--behind-glow-size":o??"50%"}),[e,n,r,i,o]),Q=b.useCallback(()=>{v==null||v()},[v]);return c.jsxs("div",{ref:I,className:`pc-card-wrapper ${a}`.trim(),style:Y,children:[s&&c.jsx("div",{className:"pc-behind"}),c.jsx("div",{ref:k,className:"pc-card-shell",children:c.jsx("section",{className:"pc-card",children:c.jsxs("div",{className:"pc-inside",children:[c.jsx("div",{className:"pc-shine"}),c.jsx("div",{className:"pc-glare"}),c.jsxs("div",{className:"pc-content pc-avatar-content",children:[c.jsx("img",{className:"avatar",src:t,alt:`${f||"User"} avatar`,loading:"lazy",onError:B=>{const M=B.target;M.style.display="none"}}),_&&c.jsxs("div",{className:"pc-user-info",children:[c.jsxs("div",{className:"pc-user-details",children:[c.jsx("div",{className:"pc-mini-avatar",children:c.jsx("img",{src:h||t,alt:`${f||"User"} mini avatar`,loading:"lazy",onError:B=>{const M=B.target;M.style.opacity="0.5",M.src=t}})}),c.jsxs("div",{className:"pc-user-text",children:[c.jsxs("div",{className:"pc-handle",children:["@",w]}),c.jsx("div",{className:"pc-status",children:g})]})]}),c.jsx("button",{className:"pc-contact-btn",onClick:Q,style:{pointerEvents:"auto"},type:"button","aria-label":`Contact ${f||"user"}`,children:y})]})]}),c.jsx("div",{className:"pc-content",children:c.jsxs("div",{className:"pc-details",children:[c.jsx("h3",{children:f}),c.jsx("p",{children:p})]})})]})})})]})},Yie=W.memo(Kie),Qie="/assets/Shiny-CjBq4OAn.jpeg",Xie=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(Ir,{}),c.jsx(GJ,{}),c.jsx(iZ,{}),c.jsx(sZ,{}),c.jsx(aZ,{}),c.jsx("div",{className:"py-16 px-4 bg-gradient-to-br from-red-900 via-red-800 to-red-700",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-red-100 mb-4",children:"How It Works"}),c.jsx("p",{className:"text-xl text-red-200 max-w-3xl mx-auto",children:"Discover our professional card grading process and premium services"})]}),c.jsx("div",{className:"flex justify-center items-center w-full",children:c.jsx(Zre,{baseWidth:450,autoplay:!0,autoplayDelay:5e3,pauseOnHover:!0,loop:!0,round:!0})})]})}),c.jsx(Tie,{}),c.jsx("div",{className:"py-16 px-4 flex justify-center",children:c.jsx(Yie,{name:"",title:"",handle:"",status:"",contactText:"",avatarUrl:Qie,showUserInfo:!1,enableTilt:!0,enableMobileTilt:!1,onContactClick:()=>console.log("Contact clicked")})}),c.jsx(Hie,{}),c.jsx(ns,{})]});function mk(t,[e,n]){return Math.min(n,Math.max(e,t))}var Aw=0;function HF(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gk()),document.body.insertAdjacentElement("beforeend",t[1]??gk()),Aw++,()=>{Aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Aw--}},[])}function gk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Iw="focusScope.autoFocusOnMount",Nw="focusScope.autoFocusOnUnmount",yk={bubbles:!1,cancelable:!0},Jie="FocusScope",sT=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),u=is(s),d=is(i),h=b.useRef(null),f=Be(e,g=>l(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(x){if(p.paused||!a)return;const T=x.target;a.contains(T)?h.current=T:lo(h.current,{select:!0})},y=function(x){if(p.paused||!a)return;const T=x.relatedTarget;T!==null&&(a.contains(T)||lo(h.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const I of x)I.removedNodes.length>0&&lo(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[r,a,p.paused]),b.useEffect(()=>{if(a){wk.add(p);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(Iw,yk);a.addEventListener(Iw,u),a.dispatchEvent(_),_.defaultPrevented||(Zie(soe(GF(a)),{select:!0}),document.activeElement===g&&lo(a))}return()=>{a.removeEventListener(Iw,u),setTimeout(()=>{const _=new CustomEvent(Nw,yk);a.addEventListener(Nw,d),a.dispatchEvent(_),_.defaultPrevented||lo(g??document.body,{select:!0}),a.removeEventListener(Nw,d),wk.remove(p)},0)}}},[a,u,d,p]);const w=b.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(y&&_){const v=g.currentTarget,[x,T]=eoe(v);x&&T?!g.shiftKey&&_===T?(g.preventDefault(),n&&lo(x,{select:!0})):g.shiftKey&&_===x&&(g.preventDefault(),n&&lo(T,{select:!0})):_===v&&g.preventDefault()}},[n,r,p.paused]);return c.jsx(xe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});sT.displayName=Jie;function Zie(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(lo(r,{select:e}),document.activeElement!==n)return}function eoe(t){const e=GF(t),n=vk(e,t),r=vk(e.reverse(),t);return[n,r]}function GF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vk(t,e){for(const n of t)if(!toe(n,{upTo:e}))return n}function toe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function noe(t){return t instanceof HTMLInputElement&&"select"in t}function lo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&noe(t)&&e&&t.select()}}var wk=roe();function roe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_k(t,e),t.unshift(e)},remove(e){var n;t=_k(t,e),(n=t[0])==null||n.resume()}}}function _k(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function soe(t){return t.filter(e=>e.tagName!=="A")}function iT(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ioe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ec=new WeakMap,Xp=new WeakMap,Jp={},kw=0,KF=function(t){return t&&(t.host||KF(t.parentNode))},ooe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=KF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aoe=function(t,e,n,r){var s=ooe(e,Array.isArray(t)?t:[t]);Jp[n]||(Jp[n]=new WeakMap);var i=Jp[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),w=p!==null&&p!=="false",g=(ec.get(f)||0)+1,y=(i.get(f)||0)+1;ec.set(f,g),i.set(f,y),o.push(f),g===1&&w&&Xp.set(f,!0),y===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),kw++,function(){o.forEach(function(h){var f=ec.get(h)-1,p=i.get(h)-1;ec.set(h,f),i.set(h,p),f||(Xp.has(h)||h.removeAttribute(r),Xp.delete(h)),p||h.removeAttribute(n)}),kw--,kw||(ec=new WeakMap,ec=new WeakMap,Xp=new WeakMap,Jp={})}},YF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=ioe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),aoe(r,s,n,"aria-hidden")):function(){return null}},pb=function(t,e){return pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},pb(t,e)};function QF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gr=function(){return Gr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gr.apply(this,arguments)};function Sa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XF(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function JF(t,e){return function(n,r){e(n,r,t)}}function ZF(t,e,n,r,s,i){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var w={};for(var g in r)w[g]=g==="access"?{}:r[g];for(var g in r.access)w.access[g]=r.access[g];w.addInitializer=function(_){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(_||null))};var y=(0,n[p])(a==="accessor"?{get:d.get,set:d.set}:d[l],w);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(d.get=h),(h=o(y.set))&&(d.set=h),(h=o(y.init))&&s.unshift(h)}else(h=o(y))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function eU(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function tU(t){return typeof t=="symbol"?t:"".concat(t)}function nU(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function rU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ae(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function sU(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Rv=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function iU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Rv(e,t,n)}function gy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oT(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function oU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oT(arguments[e]));return t}function aU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function aT(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Vu(t){return this instanceof Vu?(this.v=t,this):new Vu(t)}function lU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(w){return Promise.resolve(w).then(p,h)}}function a(p,w){r[p]&&(s[p]=function(g){return new Promise(function(y,_){i.push([p,g,y,_])>1||l(p,g)})},w&&(s[p]=w(s[p])))}function l(p,w){try{u(r[p](w))}catch(g){f(i[0][3],g)}}function u(p){p.value instanceof Vu?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,w){p(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function cU(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Vu(t[s](o)),done:!1}:i?i(o):o}:i}}function uU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gy=="function"?gy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function dU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var loe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},mb=function(t){return mb=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},mb(t)};function hU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=mb(t),r=0;r<n.length;r++)n[r]!=="default"&&Rv(e,t,n[r]);return loe(e,t),e}function fU(t){return t&&t.__esModule?t:{default:t}}function pU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function mU(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function gU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function yU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var coe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function vU(t){function e(i){t.error=t.hasError?new coe(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function wU(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const uoe={__extends:QF,__assign:Gr,__rest:Sa,__decorate:XF,__param:JF,__esDecorate:ZF,__runInitializers:eU,__propKey:tU,__setFunctionName:nU,__metadata:rU,__awaiter:ae,__generator:sU,__createBinding:Rv,__exportStar:iU,__values:gy,__read:oT,__spread:oU,__spreadArrays:aU,__spreadArray:aT,__await:Vu,__asyncGenerator:lU,__asyncDelegator:cU,__asyncValues:uU,__makeTemplateObject:dU,__importStar:hU,__importDefault:fU,__classPrivateFieldGet:pU,__classPrivateFieldSet:mU,__classPrivateFieldIn:gU,__addDisposableResource:yU,__disposeResources:vU,__rewriteRelativeImportExtension:wU},doe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:yU,get __assign(){return Gr},__asyncDelegator:cU,__asyncGenerator:lU,__asyncValues:uU,__await:Vu,__awaiter:ae,__classPrivateFieldGet:pU,__classPrivateFieldIn:gU,__classPrivateFieldSet:mU,__createBinding:Rv,__decorate:XF,__disposeResources:vU,__esDecorate:ZF,__exportStar:iU,__extends:QF,__generator:sU,__importDefault:fU,__importStar:hU,__makeTemplateObject:dU,__metadata:rU,__param:JF,__propKey:tU,__read:oT,__rest:Sa,__rewriteRelativeImportExtension:wU,__runInitializers:eU,__setFunctionName:nU,__spread:oU,__spreadArray:aT,__spreadArrays:aU,__values:gy,default:uoe},Symbol.toStringTag,{value:"Module"}));var Gm="right-scroll-bar-position",Km="width-before-scroll-bar",hoe="with-scroll-bars-hidden",foe="--removed-body-scroll-bar-size";function Rw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function poe(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var moe=typeof window<"u"?b.useLayoutEffect:b.useEffect,xk=new WeakMap;function goe(t,e){var n=poe(null,function(r){return t.forEach(function(s){return Rw(s,r)})});return moe(function(){var r=xk.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Rw(a,null)}),i.forEach(function(a){s.has(a)||Rw(a,o)})}xk.set(n,t)},[t]),n}function yoe(t){return t}function voe(t,e){e===void 0&&(e=yoe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function woe(t){t===void 0&&(t={});var e=voe(null);return e.options=Gr({async:!0,ssr:!1},t),e}var _U=function(t){var e=t.sideCar,n=Sa(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Gr({},n))};_U.isSideCarExport=!0;function _oe(t,e){return t.useMedium(e),_U}var xU=woe(),jw=function(){},jv=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:jw,onWheelCapture:jw,onTouchMoveCapture:jw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,w=t.noIsolation,g=t.inert,y=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,x=t.gapMode,T=Sa(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,k=goe([n,e]),C=Gr(Gr({},T),s);return b.createElement(b.Fragment,null,d&&b.createElement(I,{sideCar:xU,removeScrollBar:u,shards:h,noRelative:p,noIsolation:w,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?b.cloneElement(b.Children.only(a),Gr(Gr({},C),{ref:k})):b.createElement(v,Gr({},C,{className:l,ref:k}),a))});jv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jv.classNames={fullWidth:Km,zeroRight:Gm};var xoe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function boe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xoe();return e&&t.setAttribute("nonce",e),t}function Soe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Eoe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Toe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=boe())&&(Soe(e,n),Eoe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Coe=function(){var t=Toe();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bU=function(){var t=Coe(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Poe={left:0,top:0,right:0,gap:0},Ow=function(t){return parseInt(t||"",10)||0},Aoe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ow(n),Ow(r),Ow(s)]},Ioe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Poe;var e=Aoe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Noe=bU(),eu="data-scroll-locked",koe=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hoe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(eu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(eu,`] {
    `).concat(foe,": ").concat(a,`px;
  }
`)},bk=function(){var t=parseInt(document.body.getAttribute(eu)||"0",10);return isFinite(t)?t:0},Roe=function(){b.useEffect(function(){return document.body.setAttribute(eu,(bk()+1).toString()),function(){var t=bk()-1;t<=0?document.body.removeAttribute(eu):document.body.setAttribute(eu,t.toString())}},[])},joe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Roe();var i=b.useMemo(function(){return Ioe(s)},[s]);return b.createElement(Noe,{styles:koe(i,!e,s,n?"":"!important")})},gb=!1;if(typeof window<"u")try{var Zp=Object.defineProperty({},"passive",{get:function(){return gb=!0,!0}});window.addEventListener("test",Zp,Zp),window.removeEventListener("test",Zp,Zp)}catch{gb=!1}var tc=gb?{passive:!1}:!1,Ooe=function(t){return t.tagName==="TEXTAREA"},SU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ooe(t)&&n[e]==="visible")},Doe=function(t){return SU(t,"overflowY")},Moe=function(t){return SU(t,"overflowX")},Sk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EU(t,r);if(s){var i=TU(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Loe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Voe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EU=function(t,e){return t==="v"?Doe(e):Moe(e)},TU=function(t,e){return t==="v"?Loe(e):Voe(e)},Foe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Uoe=function(t,e,n,r,s){var i=Foe(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=TU(t,a),w=p[0],g=p[1],y=p[2],_=g-y-i*w;(w||_)&&EU(t,a)&&(h+=_,f+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},em=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ek=function(t){return[t.deltaX,t.deltaY]},Tk=function(t){return t&&"current"in t?t.current:t},$oe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Boe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zoe=0,nc=[];function qoe(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(zoe++)[0],i=b.useState(bU)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=aT([t.lockRef.current],(t.shards||[]).map(Tk),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=em(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-_[0],T="deltaY"in g?g.deltaY:v[1]-_[1],I,k=g.target,C=Math.abs(x)>Math.abs(T)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var E=Sk(C,k);if(!E)return!0;if(E?I=C:(I=C==="v"?"h":"v",E=Sk(C,k)),!E)return!1;if(!r.current&&"changedTouches"in g&&(x||T)&&(r.current=I),!I)return!0;var A=r.current||I;return Uoe(A,y,g,A==="h"?x:T,!0)},[]),l=b.useCallback(function(g){var y=g;if(!(!nc.length||nc[nc.length-1]!==i)){var _="deltaY"in y?Ek(y):em(y),v=e.current.filter(function(I){return I.name===y.type&&(I.target===y.target||y.target===I.shadowParent)&&$oe(I.delta,_)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(Tk).filter(Boolean).filter(function(I){return I.contains(y.target)}),T=x.length>0?a(y,x[0]):!o.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),u=b.useCallback(function(g,y,_,v){var x={name:g,delta:y,target:_,should:v,shadowParent:Woe(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(T){return T!==x})},1)},[]),d=b.useCallback(function(g){n.current=em(g),r.current=void 0},[]),h=b.useCallback(function(g){u(g.type,Ek(g),g.target,a(g,t.lockRef.current))},[]),f=b.useCallback(function(g){u(g.type,em(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return nc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,tc),document.addEventListener("touchmove",l,tc),document.addEventListener("touchstart",d,tc),function(){nc=nc.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,tc),document.removeEventListener("touchmove",l,tc),document.removeEventListener("touchstart",d,tc)}},[]);var p=t.removeScrollBar,w=t.inert;return b.createElement(b.Fragment,null,w?b.createElement(i,{styles:Boe(s)}):null,p?b.createElement(joe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Woe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Hoe=_oe(xU,qoe);var lT=b.forwardRef(function(t,e){return b.createElement(jv,Gr({},t,{ref:e,sideCar:Hoe}))});lT.classNames=jv.classNames;var Goe=[" ","Enter","ArrowUp","ArrowDown"],Koe=[" ","Enter"],Ml="Select",[Ov,Dv,Yoe]=Vy(Ml),[ld,hhe]=os(Ml,[Yoe,Hy]),Mv=Hy(),[Qoe,Ea]=ld(Ml),[Xoe,Joe]=ld(Ml),CU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:w}=t,g=Mv(e),[y,_]=b.useState(null),[v,x]=b.useState(null),[T,I]=b.useState(!1),k=Iv(u),[C,E]=oi({prop:r,defaultProp:s??!1,onChange:i,caller:Ml}),[A,R]=oi({prop:o,defaultProp:a,onChange:l,caller:Ml}),j=b.useRef(null),N=y?w||!!y.closest("form"):!0,[O,V]=b.useState(new Set),Y=Array.from(O).map(Q=>Q.props.value).join(";");return c.jsx(Qq,{...g,children:c.jsxs(Qoe,{required:p,scope:e,trigger:y,onTriggerChange:_,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:Ai(),value:A,onValueChange:R,open:C,onOpenChange:E,dir:k,triggerPointerDownPosRef:j,disabled:f,children:[c.jsx(Ov.Provider,{scope:e,children:c.jsx(Xoe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(Q=>{V(B=>new Set(B).add(Q))},[]),onNativeOptionRemove:b.useCallback(Q=>{V(B=>{const M=new Set(B);return M.delete(Q),M})},[]),children:n})}),N?c.jsxs(QU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:Q=>R(Q.target.value),disabled:f,form:w,children:[A===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},Y):null]})})};CU.displayName=Ml;var PU="SelectTrigger",AU=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Mv(n),o=Ea(PU,n),a=o.disabled||r,l=Be(e,o.onTriggerChange),u=Dv(n),d=b.useRef("touch"),[h,f,p]=JU(g=>{const y=u().filter(x=>!x.disabled),_=y.find(x=>x.value===o.value),v=ZU(y,g,_);v!==void 0&&o.onValueChange(v.value)}),w=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(HO,{asChild:!0,...i,children:c.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":XU(o.value)?"":void 0,...s,ref:l,onClick:me(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:me(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:me(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&Goe.includes(g.key)&&(w(),g.preventDefault())})})})});AU.displayName=PU;var IU="SelectValue",NU=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ea(IU,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Be(e,l.onValueNodeChange);return sn(()=>{u(d)},[u,d]),c.jsx(xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:XU(l.value)?c.jsx(c.Fragment,{children:o}):i})});NU.displayName=IU;var Zoe="SelectIcon",kU=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});kU.displayName=Zoe;var eae="SelectPortal",RU=t=>c.jsx(Fy,{asChild:!0,...t});RU.displayName=eae;var Ll="SelectContent",jU=b.forwardRef((t,e)=>{const n=Ea(Ll,t.__scopeSelect),[r,s]=b.useState();if(sn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$l.createPortal(c.jsx(OU,{scope:t.__scopeSelect,children:c.jsx(Ov.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(DU,{...t,ref:e})});jU.displayName=Ll;var ps=10,[OU,Ta]=ld(Ll),tae="SelectContentImpl",nae=yu("SelectContent.RemoveScroll"),DU=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:y,..._}=t,v=Ea(Ll,n),[x,T]=b.useState(null),[I,k]=b.useState(null),C=Be(e,Z=>T(Z)),[E,A]=b.useState(null),[R,j]=b.useState(null),N=Dv(n),[O,V]=b.useState(!1),Y=b.useRef(!1);b.useEffect(()=>{if(x)return YF(x)},[x]),HF();const Q=b.useCallback(Z=>{const[Ie,...He]=N().map(Pe=>Pe.ref.current),[de]=He.slice(-1),be=document.activeElement;for(const Pe of Z)if(Pe===be||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===Ie&&I&&(I.scrollTop=0),Pe===de&&I&&(I.scrollTop=I.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==be))return},[N,I]),B=b.useCallback(()=>Q([E,x]),[Q,E,x]);b.useEffect(()=>{O&&B()},[O,B]);const{onOpenChange:M,triggerPointerDownPosRef:F}=v;b.useEffect(()=>{if(x){let Z={x:0,y:0};const Ie=de=>{var be,Pe;Z={x:Math.abs(Math.round(de.pageX)-(((be=F.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(de.pageY)-(((Pe=F.current)==null?void 0:Pe.y)??0))}},He=de=>{Z.x<=10&&Z.y<=10?de.preventDefault():x.contains(de.target)||M(!1),document.removeEventListener("pointermove",Ie),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",He,{capture:!0})}}},[x,M,F]),b.useEffect(()=>{const Z=()=>M(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[M]);const[q,L]=JU(Z=>{const Ie=N().filter(be=>!be.disabled),He=Ie.find(be=>be.ref.current===document.activeElement),de=ZU(Ie,Z,He);de&&setTimeout(()=>de.ref.current.focus())}),z=b.useCallback((Z,Ie,He)=>{const de=!Y.current&&!He;(v.value!==void 0&&v.value===Ie||de)&&(A(Z),de&&(Y.current=!0))},[v.value]),te=b.useCallback(()=>x==null?void 0:x.focus(),[x]),J=b.useCallback((Z,Ie,He)=>{const de=!Y.current&&!He;(v.value!==void 0&&v.value===Ie||de)&&j(Z)},[v.value]),fe=r==="popper"?yb:MU,ke=fe===yb?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:y}:{};return c.jsx(OU,{scope:n,content:x,viewport:I,onViewportChange:k,itemRefCallback:z,selectedItem:E,onItemLeave:te,itemTextRefCallback:J,focusSelectedItem:B,selectedItemText:R,position:r,isPositioned:O,searchRef:q,children:c.jsx(lT,{as:nae,allowPinchZoom:!0,children:c.jsx(sT,{asChild:!0,trapped:v.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:me(s,Z=>{var Ie;(Ie=v.trigger)==null||Ie.focus({preventScroll:!0}),Z.preventDefault()}),children:c.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Z=>Z.preventDefault(),..._,...ke,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:me(_.onKeyDown,Z=>{const Ie=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Ie&&Z.key.length===1&&L(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let de=N().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const be=Z.target,Pe=de.indexOf(be);de=de.slice(Pe+1)}setTimeout(()=>Q(de)),Z.preventDefault()}})})})})})})});DU.displayName=tae;var rae="SelectItemAlignedPosition",MU=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ea(Ll,n),o=Ta(Ll,n),[a,l]=b.useState(null),[u,d]=b.useState(null),h=Be(e,C=>d(C)),f=Dv(n),p=b.useRef(!1),w=b.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:_,focusSelectedItem:v}=o,x=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&y&&_){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const be=R.left-E.left,Pe=A.left-be,De=C.left-Pe,lt=C.width+De,jn=Math.max(lt,E.width),Ge=window.innerWidth-ps,Je=mk(Pe,[ps,Math.max(ps,Ge-jn)]);a.style.minWidth=lt+"px",a.style.left=Je+"px"}else{const be=E.right-R.right,Pe=window.innerWidth-A.right-be,De=window.innerWidth-C.right-Pe,lt=C.width+De,jn=Math.max(lt,E.width),Ge=window.innerWidth-ps,Je=mk(Pe,[ps,Math.max(ps,Ge-jn)]);a.style.minWidth=lt+"px",a.style.right=Je+"px"}const j=f(),N=window.innerHeight-ps*2,O=g.scrollHeight,V=window.getComputedStyle(u),Y=parseInt(V.borderTopWidth,10),Q=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),F=Y+Q+O+M+B,q=Math.min(y.offsetHeight*5,F),L=window.getComputedStyle(g),z=parseInt(L.paddingTop,10),te=parseInt(L.paddingBottom,10),J=C.top+C.height/2-ps,fe=N-J,ke=y.offsetHeight/2,Z=y.offsetTop+ke,Ie=Y+Q+Z,He=F-Ie;if(Ie<=J){const be=j.length>0&&y===j[j.length-1].ref.current;a.style.bottom="0px";const Pe=u.clientHeight-g.offsetTop-g.offsetHeight,De=Math.max(fe,ke+(be?te:0)+Pe+B),lt=Ie+De;a.style.height=lt+"px"}else{const be=j.length>0&&y===j[0].ref.current;a.style.top="0px";const De=Math.max(J,Y+g.offsetTop+(be?z:0)+ke)+He;a.style.height=De+"px",g.scrollTop=Ie-J+g.offsetTop}a.style.margin=`${ps}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,u,g,y,_,i.dir,r]);sn(()=>x(),[x]);const[T,I]=b.useState();sn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(C=>{C&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return c.jsx(iae,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:c.jsx(xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});MU.displayName=rae;var sae="SelectPopperPosition",yb=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ps,...i}=t,o=Mv(n);return c.jsx(GO,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yb.displayName=sae;var[iae,cT]=ld(Ll,{}),vb="SelectViewport",LU=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ta(vb,n),o=cT(vb,n),a=Be(e,i.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Ov.Slot,{scope:n,children:c.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const w=window.innerHeight-ps*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),_=Math.max(g,y);if(_<w){const v=_+p,x=Math.min(w,v),T=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});LU.displayName=vb;var VU="SelectGroup",[oae,aae]=ld(VU),lae=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ai();return c.jsx(oae,{scope:n,id:s,children:c.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lae.displayName=VU;var FU="SelectLabel",UU=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aae(FU,n);return c.jsx(xe.div,{id:s.id,...r,ref:e})});UU.displayName=FU;var yy="SelectItem",[cae,$U]=ld(yy),BU=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ea(yy,n),l=Ta(yy,n),u=a.value===r,[d,h]=b.useState(i??""),[f,p]=b.useState(!1),w=Be(e,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),g=Ai(),y=b.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(cae,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:b.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(Ov.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(xe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:me(o.onFocus,()=>p(!0)),onBlur:me(o.onBlur,()=>p(!1)),onClick:me(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:me(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:me(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:me(o.onPointerMove,v=>{var x;y.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:me(o.onKeyDown,v=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&v.key===" "||(Koe.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});BU.displayName=yy;var Zd="SelectItemText",zU=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ea(Zd,n),a=Ta(Zd,n),l=$U(Zd,n),u=Joe(Zd,n),[d,h]=b.useState(null),f=Be(e,_=>h(_),l.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,l.value,l.disabled)}),p=d==null?void 0:d.textContent,w=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return sn(()=>(g(w),()=>y(w)),[g,y,w]),c.jsxs(c.Fragment,{children:[c.jsx(xe.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$l.createPortal(i.children,o.valueNode):null]})});zU.displayName=Zd;var qU="SelectItemIndicator",WU=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return $U(qU,n).isSelected?c.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});WU.displayName=qU;var wb="SelectScrollUpButton",HU=b.forwardRef((t,e)=>{const n=Ta(wb,t.__scopeSelect),r=cT(wb,t.__scopeSelect),[s,i]=b.useState(!1),o=Be(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(KU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});HU.displayName=wb;var _b="SelectScrollDownButton",GU=b.forwardRef((t,e)=>{const n=Ta(_b,t.__scopeSelect),r=cT(_b,t.__scopeSelect),[s,i]=b.useState(!1),o=Be(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(KU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});GU.displayName=_b;var KU=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ta("SelectScrollButton",n),o=b.useRef(null),a=Dv(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),sn(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{l()})})}),uae="SelectSeparator",YU=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});YU.displayName=uae;var xb="SelectArrow",dae=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mv(n),i=Ea(xb,n),o=Ta(xb,n);return i.open&&o.position==="popper"?c.jsx(KO,{...s,...r,ref:e}):null});dae.displayName=xb;var hae="SelectBubbleInput",QU=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=Be(r,s),o=iT(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),c.jsx(xe.select,{...n,style:{...$2,...n.style},ref:i,defaultValue:e})});QU.displayName=hae;function XU(t){return t===""||t===void 0}function JU(t){const e=is(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ZU(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=fae(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function fae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pae=CU,e3=AU,mae=NU,gae=kU,yae=RU,t3=jU,vae=LU,n3=UU,r3=BU,wae=zU,_ae=WU,s3=HU,i3=GU,o3=YU;const yr=pae,vr=mae,Qn=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(e3,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(gae,{asChild:!0,children:c.jsx(U1,{className:"h-4 w-4 opacity-50"})})]}));Qn.displayName=e3.displayName;const a3=b.forwardRef(({className:t,...e},n)=>c.jsx(s3,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Y9,{className:"h-4 w-4"})}));a3.displayName=s3.displayName;const l3=b.forwardRef(({className:t,...e},n)=>c.jsx(i3,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(U1,{className:"h-4 w-4"})}));l3.displayName=i3.displayName;const Xn=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(yae,{children:c.jsxs(t3,{ref:s,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(a3,{}),c.jsx(vae,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(l3,{})]})}));Xn.displayName=t3.displayName;const xae=b.forwardRef(({className:t,...e},n)=>c.jsx(n3,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));xae.displayName=n3.displayName;const je=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(r3,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(_ae,{children:c.jsx(Cm,{className:"h-4 w-4"})})}),c.jsx(wae,{children:e})]}));je.displayName=r3.displayName;const bae=b.forwardRef(({className:t,...e},n)=>c.jsx(o3,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));bae.displayName=o3.displayName;const _e=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));_e.displayName="Input";const Ma="products";class Sae{constructor(){ie(this,"listeners",[])}async getProducts(){try{console.log(" Firebase: Getting products from Firestore...");const e=po(zr,Ma),n=Om(e,Z0("createdAt","desc")),s=(await vh(n)).docs.map(i=>({id:i.id,...i.data()}));return console.log(" Firebase: Retrieved products:",s.length),s}catch(e){throw console.error(" Firebase: Error getting products:",e),e}}async getProduct(e){try{console.log(" Firebase: Getting product:",e);const n=yh(zr,Ma,e),r=await UQ(n);if(r.exists()){const s={id:r.id,...r.data()};return console.log(" Firebase: Retrieved product:",s.name),s}else return console.log(" Firebase: Product not found:",e),null}catch(n){throw console.error(" Firebase: Error getting product:",n),n}}async createProduct(e){try{console.log(" Firebase: Creating product:",e.name);const n=po(zr,Ma),r={...e,createdAt:Hc(),updatedAt:Hc()},i={id:(await uL(n,r)).id,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return console.log(" Firebase: Product created successfully:",i.id),this.notifyListeners(),i}catch(n){throw console.error(" Firebase: Error creating product:",n),n}}async updateProduct(e,n){try{console.log(" Firebase: Updating product:",e);const r=yh(zr,Ma,e),s={...n,updatedAt:Hc()};await cL(r,s),console.log(" Firebase: Product updated successfully"),this.notifyListeners()}catch(r){throw console.error(" Firebase: Error updating product:",r),r}}async deleteProduct(e){try{console.log(" Firebase: Deleting product:",e);const n=yh(zr,Ma,e);await $Q(n),console.log(" Firebase: Product deleted successfully"),this.notifyListeners()}catch(n){throw console.error(" Firebase: Error deleting product:",n),n}}async searchProducts(e){try{console.log(" Firebase: Searching products for:",e);const r=(await this.getProducts()).filter(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase()));return console.log(" Firebase: Search results:",r.length),r}catch(n){throw console.error(" Firebase: Error searching products:",n),n}}async getProductsByCategory(e){try{console.log(" Firebase: Getting products by category:",e);const n=po(zr,Ma),r=Om(n,aL("category","==",e),Z0("createdAt","desc")),i=(await vh(r)).docs.map(o=>({id:o.id,...o.data()}));return console.log(" Firebase: Category products:",i.length),i}catch(n){throw console.error(" Firebase: Error getting products by category:",n),n}}subscribeToProducts(e){console.log(" Firebase: Setting up real-time listener");const n=po(zr,Ma),r=Om(n,Z0("createdAt","desc"));return BQ(r,i=>{const o=i.docs.map(a=>({id:a.id,...a.data()}));console.log(" Firebase: Real-time update - products:",o.length),e(o)},i=>{console.error(" Firebase: Real-time listener error:",i)})}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyListeners(){this.listeners.forEach(e=>{try{e()}catch(n){console.error(" Firebase: Error in listener callback:",n)}})}async isAvailable(){try{const e=po(zr,"test");return await vh(e),!0}catch(e){return console.error(" Firebase: Availability check failed:",e),!1}}}const wo=new Sae,Eae=()=>{const[t,e]=b.useState(""),[n,r]=b.useState("featured"),[s,i]=b.useState("all"),[o,a]=b.useState("all"),[l,u]=b.useState([]),[d,h]=b.useState(!0),[f,p]=b.useState([]);b.useEffect(()=>{const y=async()=>{h(!0);try{const x=(await wo.getProducts()).filter(k=>k.status==="active"&&k.stock_quantity>0);console.log(" Shop: Loaded products from Firebase:",x.length);const T=[...new Set(x.map(k=>k.category).filter(Boolean))];p(T);const I=x.map(k=>({...k,set:k.series||"Unknown Set",grade:null,image:k.image_url||"/placeholder.svg",serialNumber:null,stock:k.stock_quantity}));u(I)}catch(v){console.error(" Shop: Error loading products from Firebase:",v),u([])}finally{h(!1)}},_=wo.subscribeToProducts(v=>{const x=v.filter(k=>k.status==="active"&&k.stock_quantity>0);console.log(" Shop: Firebase real-time update received:",x.length,"active products");const T=[...new Set(x.map(k=>k.category).filter(Boolean))];p(T);const I=x.map(k=>({...k,set:k.series||"Unknown Set",grade:null,image:k.image_url||"/placeholder.svg",serialNumber:null,stock:k.stock_quantity}));u(I),h(!1)});return y(),()=>{_()}},[]);const g=[...l.filter(y=>{var T;const _=y.name.toLowerCase().includes(t.toLowerCase())||y.set.toLowerCase().includes(t.toLowerCase())||y.series&&y.series.toLowerCase().includes(t.toLowerCase()),v=s==="all"||s==="ungraded"&&!y.grade||s!=="ungraded"&&((T=y.grade)==null?void 0:T.toString())===s,x=o==="all"||y.category===o;return _&&v&&x})].sort((y,_)=>{switch(n){case"price-low":return y.price-_.price;case"price-high":return _.price-y.price;case"grade":const v=y.grade||0;return(_.grade||0)-v;default:return 0}});return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Shop Trading Cards"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Browse our selection of authentic trading cards available for purchase"}),l.length>0&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[l.length," card",l.length!==1?"s":""," available"]})]}),c.jsx("div",{className:"bg-card rounded-lg p-6 shadow-card mb-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(wu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(_e,{placeholder:"Search by product name or series...",value:t,onChange:y=>e(y.target.value),className:"pl-10"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs(yr,{onValueChange:i,defaultValue:"all",children:[c.jsx(Qn,{className:"w-full md:w-[180px]",children:c.jsx(vr,{placeholder:"Filter by Grade"})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"all",children:"All Grades"}),c.jsx(je,{value:"10",children:"Grade 10"}),c.jsx(je,{value:"9-9.5",children:"Grade 9-9.5"}),c.jsx(je,{value:"8-8.5",children:"Grade 8-8.5"}),c.jsx(je,{value:"ungraded",children:"Ungraded"})]})]}),c.jsxs(yr,{onValueChange:a,defaultValue:"all",children:[c.jsx(Qn,{className:"w-full md:w-[180px]",children:c.jsx(vr,{placeholder:"Filter by Category"})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"all",children:"All Categories"}),f.map(y=>c.jsx(je,{value:y,children:y},y))]})]}),c.jsxs(yr,{value:n,onValueChange:r,children:[c.jsx(Qn,{className:"w-[180px]",children:c.jsx(vr,{placeholder:"Sort by"})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"featured",children:"Featured"}),c.jsx(je,{value:"price-low",children:"Price: Low to High"}),c.jsx(je,{value:"price-high",children:"Price: High to Low"}),c.jsx(je,{value:"grade",children:"Grade"})]})]})]})]})}),d?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading products..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>c.jsxs(le,{className:"overflow-hidden shadow-card hover:shadow-card-hover transition-all",children:[c.jsxs("div",{className:"aspect-[3/4] bg-secondary relative",children:[c.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover",onError:_=>{_.target.src="/placeholder.svg"}}),c.jsx("div",{className:"absolute top-4 right-4 bg-accent text-accent-foreground font-bold px-3 py-1 rounded-full shadow-md",children:y.grade!==null?y.grade:"Ungraded"}),y.rarity&&c.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:y.rarity})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-bold text-xl mb-1",children:c.jsx(qe,{to:`/product/${y.id}`,className:"hover:underline",children:y.name})}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.set}),c.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["Stock: ",y.stock]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",y.price.toLocaleString()]}),y.serialNumber&&c.jsx("span",{className:"text-xs text-muted-foreground",children:y.serialNumber})]}),c.jsx(qe,{to:`/product/${y.id}`,children:c.jsx(oe,{className:"w-full",variant:"premium",children:"View Product"})})]})]},y.id))}),g.length===0&&!d&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Zo,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Products Available"}),c.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:l.length===0?"No products have been added to the store yet.":"No products found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Products are added through the admin portal and appear here automatically."})]})]})]})}),c.jsx(ns,{})]})},Tae=()=>{const e=yW().id,[n,r]=b.useState(null),[s,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const l=await wo.getProduct(e);console.log(" Product: Loaded from Firebase:",l==null?void 0:l.name),r(l)}catch(l){console.error(" Product: Error loading from Firebase:",l),r(null)}finally{i(!1)}})()},[e]);const{addToCart:o}=xv();return s?c.jsxs("div",{className:"min-h-screen",children:[c.jsx(Ir,{}),c.jsx("main",{className:"pt-24",children:c.jsx("div",{className:"container mx-auto px-4 py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-lg",children:"Loading product..."})]})})})]}):n?c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8 items-start",children:[c.jsx(le,{className:"p-0 overflow-hidden",children:c.jsx("div",{className:"aspect-square bg-secondary",children:c.jsx("img",{src:n.image_url||"/placeholder.svg",alt:n.name,className:"w-full h-full object-cover",onError:a=>{a.target.src="/placeholder.svg"}})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.name}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.series&&`${n.series}  `,n.category,n.rarity&&`  ${n.rarity}`]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Condition: ",n.condition.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase())]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stock: ",n.stock_quantity," available"]})]}),c.jsxs("div",{className:"text-3xl font-bold text-primary mb-6",children:["",n.price.toLocaleString()]}),c.jsx("p",{className:"text-muted-foreground mb-6",children:n.description}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx(oe,{variant:"premium",onClick:()=>o(n),disabled:n.stock_quantity===0||n.status!=="active",children:n.stock_quantity===0?"Out of Stock":"Add to Cart"}),c.jsx(qe,{to:"/shop",children:c.jsx(oe,{variant:"outline",children:"Back to Shop"})})]})]})]})})}),c.jsx(ns,{})]}):c.jsxs("div",{className:"min-h-screen",children:[c.jsx(Ir,{}),c.jsx("main",{className:"pt-24",children:c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Product not found"}),c.jsx("p",{className:"mt-4",children:"We couldn't find that product."}),c.jsx(qe,{to:"/shop",className:"inline-block mt-6",children:c.jsx(oe,{children:"Back to Shop"})})]})}),c.jsx(ns,{})]})},Cae=()=>{const t=Bl(),{items:e,removeFromCart:n,updateQuantity:r,clearCart:s,totalItems:i,totalAmount:o,loading:a,error:l}=xv(),[u,d]=b.useState(new Set),h=async(p,w)=>{if(!(w<1)){d(g=>new Set(g).add(p));try{await r(p,w)}catch(g){console.error("Failed to update quantity:",g)}finally{d(g=>{const y=new Set(g);return y.delete(p),y})}}},f=async p=>{d(w=>new Set(w).add(p));try{await n(p)}catch(w){console.error("Failed to remove item:",w)}finally{d(w=>{const g=new Set(w);return g.delete(p),g})}};return a?c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sg,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),c.jsx("p",{children:"Loading your cart..."})]})})}),c.jsx(ns,{})]}):c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Your Cart"}),c.jsxs("p",{className:"text-muted-foreground",children:[i," item(s)"]}),l&&c.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-200 rounded-lg text-red-700 text-sm",children:l})]}),e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"Your cart is empty"}),c.jsx(oe,{onClick:()=>t("/shop"),variant:"outline",children:"Continue Shopping"})]}):c.jsxs("div",{className:"space-y-4",children:[e.map(p=>{const w=u.has(p.id);return c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 bg-secondary rounded overflow-hidden",children:c.jsx("img",{src:p.product.image_url||"/placeholder.svg",alt:p.product.name,className:"w-full h-full object-cover",onError:g=>{g.target.src="/placeholder.svg"}})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold",children:p.product.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[p.product.series&&`${p.product.series}  `,p.product.category]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Condition: ",p.product.condition.replace("_"," ").replace(/\b\w/g,g=>g.toUpperCase())]}),c.jsxs("div",{className:"text-lg font-bold mt-2",children:["",p.product.price.toLocaleString()," each"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>h(p.id,p.quantity-1),disabled:w||p.quantity<=1,children:c.jsx(sz,{className:"h-4 w-4"})}),c.jsx("div",{className:"w-16 text-center",children:w?c.jsx(Sg,{className:"h-4 w-4 animate-spin mx-auto"}):c.jsx("span",{className:"font-semibold",children:p.quantity})}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>h(p.id,p.quantity+1),disabled:w||p.quantity>=p.product.stock_quantity,children:c.jsx(Eg,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"text-right min-w-[100px]",children:c.jsxs("div",{className:"font-bold text-lg",children:["",(p.product.price*p.quantity).toLocaleString()]})}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(p.id),disabled:w,children:"Remove"})]})]})},p.id)}),c.jsxs("div",{className:"border-t pt-4 mt-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),c.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",o.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx(oe,{variant:"destructive",onClick:s,disabled:a,children:"Clear Cart"}),c.jsx(oe,{variant:"premium",onClick:()=>t("/checkout"),className:"flex-1 max-w-xs",disabled:a||e.length===0,children:"Proceed to Checkout"})]})]})]})]})}),c.jsx(ns,{})]})};var Pae="Label",c3=b.forwardRef((t,e)=>c.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c3.displayName=Pae;var u3=c3;const Aae=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=b.forwardRef(({className:t,...e},n)=>c.jsx(u3,{ref:n,className:Ae(Aae(),t),...e}));Ye.displayName=u3.displayName;const Fu=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Fu.displayName="Textarea";var Dw="rovingFocusGroup.onEntryFocus",Iae={bubbles:!1,cancelable:!0},rp="RovingFocusGroup",[bb,d3,Nae]=Vy(rp),[kae,h3]=os(rp,[Nae]),[Rae,jae]=kae(rp),f3=b.forwardRef((t,e)=>c.jsx(bb.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(bb.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Oae,{...t,ref:e})})}));f3.displayName=rp;var Oae=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=b.useRef(null),p=Be(e,f),w=Iv(i),[g,y]=oi({prop:o,defaultProp:a??null,onChange:l,caller:rp}),[_,v]=b.useState(!1),x=is(u),T=d3(n),I=b.useRef(!1),[k,C]=b.useState(0);return b.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Dw,x),()=>E.removeEventListener(Dw,x)},[x]),c.jsx(Rae,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(E=>y(E),[y]),onItemShiftTab:b.useCallback(()=>v(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>C(E=>E-1),[]),children:c.jsx(xe.div,{tabIndex:_||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:me(t.onMouseDown,()=>{I.current=!0}),onFocus:me(t.onFocus,E=>{const A=!I.current;if(E.target===E.currentTarget&&A&&!_){const R=new CustomEvent(Dw,Iae);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const j=T().filter(Q=>Q.focusable),N=j.find(Q=>Q.active),O=j.find(Q=>Q.id===g),Y=[N,O,...j].filter(Boolean).map(Q=>Q.ref.current);g3(Y,d)}}I.current=!1}),onBlur:me(t.onBlur,()=>v(!1))})})}),p3="RovingFocusGroupItem",m3=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ai(),u=i||l,d=jae(p3,n),h=d.currentTabStopId===u,f=d3(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return b.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),c.jsx(bb.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:me(t.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:me(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=Lae(y,d.orientation,d.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")x.reverse();else if(_==="prev"||_==="next"){_==="prev"&&x.reverse();const T=x.indexOf(y.currentTarget);x=d.loop?Vae(x,T+1):x.slice(T+1)}setTimeout(()=>g3(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});m3.displayName=p3;var Dae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Mae(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lae(t,e,n){const r=Mae(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Dae[r]}function g3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Vae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fae=f3,Uae=m3,uT="Radio",[$ae,y3]=os(uT),[Bae,zae]=$ae(uT),v3=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[h,f]=b.useState(null),p=Be(e,y=>f(y)),w=b.useRef(!1),g=h?u||!!h.closest("form"):!0;return c.jsxs(Bae,{scope:n,checked:s,disabled:o,children:[c.jsx(xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":b3(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:p,onClick:me(t.onClick,y=>{s||l==null||l(),g&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),g&&c.jsx(x3,{control:h,bubbles:!w.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});v3.displayName=uT;var w3="RadioIndicator",_3=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=zae(w3,n);return c.jsx(ga,{present:r||i.checked,children:c.jsx(xe.span,{"data-state":b3(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});_3.displayName=w3;var qae="RadioBubbleInput",x3=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=b.useRef(null),a=Be(o,i),l=iT(n),u=Y1(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx(xe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});x3.displayName=qae;function b3(t){return t?"checked":"unchecked"}var Wae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lv="RadioGroup",[Hae,fhe]=os(Lv,[h3,y3]),S3=h3(),E3=y3(),[Gae,Kae]=Hae(Lv),T3=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:h,...f}=t,p=S3(n),w=Iv(u),[g,y]=oi({prop:i,defaultProp:s??null,onChange:h,caller:Lv});return c.jsx(Gae,{scope:n,name:r,required:o,disabled:a,value:g,onValueChange:y,children:c.jsx(Fae,{asChild:!0,...p,orientation:l,dir:w,loop:d,children:c.jsx(xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:w,...f,ref:e})})})});T3.displayName=Lv;var C3="RadioGroupItem",P3=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=Kae(C3,n),o=i.disabled||r,a=S3(n),l=E3(n),u=b.useRef(null),d=Be(e,u),h=i.value===s.value,f=b.useRef(!1);return b.useEffect(()=>{const p=g=>{Wae.includes(g.key)&&(f.current=!0)},w=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),c.jsx(Uae,{asChild:!0,...a,focusable:!o,active:h,children:c.jsx(v3,{disabled:o,required:i.required,checked:h,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:me(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:me(s.onFocus,()=>{var p;f.current&&((p=u.current)==null||p.click())})})})});P3.displayName=C3;var Yae="RadioGroupIndicator",A3=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=E3(n);return c.jsx(_3,{...s,...r,ref:e})});A3.displayName=Yae;var I3=T3,N3=P3,Qae=A3;const Sb=b.forwardRef(({className:t,...e},n)=>c.jsx(I3,{className:Ae("grid gap-2",t),...e,ref:n}));Sb.displayName=I3.displayName;const Eb=b.forwardRef(({className:t,...e},n)=>c.jsx(N3,{ref:n,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(Qae,{className:"flex items-center justify-center",children:c.jsx(Q9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Eb.displayName=N3.displayName;var k3={exports:{}},Xae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jae=Xae,Zae=Jae;function R3(){}function j3(){}j3.resetWarningCache=R3;var ele=function(){function t(r,s,i,o,a,l){if(l!==Zae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j3,resetWarningCache:R3};return n.PropTypes=n,n};k3.exports=ele();var tle=k3.exports;const tt=$b(tle);function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){O3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ym=function(e){return typeof e}:Ym=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function O3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function rle(t,e){if(t==null)return{};var n=nle(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D3(t,e){return sle(t)||ile(t,e)||ole(t,e)||ale()}function sle(t){if(Array.isArray(t))return t}function ile(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(l){i=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function ole(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Dn=function(e,n,r){var s=!!r,i=W.useRef(r);W.useEffect(function(){i.current=r},[r]),W.useEffect(function(){if(!s||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,o),function(){e.off(n,o)}},[s,n,e,i])},Tb=function(e){var n=W.useRef(e);return W.useEffect(function(){n.current=e},[e]),n.current},Uu=function(e){return e!==null&&Ym(e)==="object"},lle=function(e){return Uu(e)&&typeof e.then=="function"},cle=function(e){return Uu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ik="[object Object]",ule=function t(e,n){if(!Uu(e)||!Uu(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===Ik,o=Object.prototype.toString.call(n)===Ik;if(i!==o)return!1;if(!i&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var p=e,w=n,g=function(_){return t(p[_],w[_])};return f.every(g)},M3=function(e,n,r){return Uu(e)?Object.keys(e).reduce(function(s,i){var o=!Uu(n)||!ule(e[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?Pk(Pk({},s||{}),{},O3({},i,e[i])):s},null):null},L3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Nk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L3;if(e===null||cle(e))return e;throw new Error(n)},dle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L3;if(lle(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return Nk(s,n)})};var r=Nk(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},hle=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},Vv=W.createContext(null);Vv.displayName="ElementsContext";var V3=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},F3=function(e){var n=e.stripe,r=e.options,s=e.children,i=W.useMemo(function(){return dle(n)},[n]),o=W.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),a=D3(o,2),l=a[0],u=a[1];W.useEffect(function(){var f=!0,p=function(g){u(function(y){return y.stripe?y:{stripe:g,elements:g.elements(r)}})};return i.tag==="async"&&!l.stripe?i.stripePromise.then(function(w){w&&f&&p(w)}):i.tag==="sync"&&!l.stripe&&p(i.stripe),function(){f=!1}},[i,l,r]);var d=Tb(n);W.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=Tb(r);return W.useEffect(function(){if(l.elements){var f=M3(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),W.useEffect(function(){hle(l.stripe)},[l.stripe]),W.createElement(Vv.Provider,{value:l},s)};F3.propTypes={stripe:tt.any,options:tt.object};var fle=function(e){var n=W.useContext(Vv);return V3(n,e)},ple=function(){var e=fle("calls useElements()"),n=e.elements;return n};tt.func.isRequired;var U3=W.createContext(null);U3.displayName="CheckoutContext";tt.any,tt.shape({clientSecret:tt.oneOfType([tt.string,tt.instanceOf(Promise)]).isRequired,elementsOptions:tt.object}).isRequired;var Cb=function(e){var n=W.useContext(U3),r=W.useContext(Vv);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n}else return V3(r,e)},mle=["mode"],gle=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ur=function(e,n){var r="".concat(gle(e),"Element"),s=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,p=l.onBlur,w=l.onFocus,g=l.onReady,y=l.onChange,_=l.onEscape,v=l.onClick,x=l.onLoadError,T=l.onLoaderStart,I=l.onNetworksChange,k=l.onConfirm,C=l.onCancel,E=l.onShippingAddressChange,A=l.onShippingRateChange,R=l.onSavedPaymentMethodRemove,j=l.onSavedPaymentMethodUpdate,N=Cb("mounts <".concat(r,">")),O="elements"in N?N.elements:null,V="checkoutState"in N?N.checkoutState:null,Y=(V==null?void 0:V.type)==="success"||(V==null?void 0:V.type)==="loading"?V.sdk:null,Q=W.useState(null),B=D3(Q,2),M=B[0],F=B[1],q=W.useRef(null),L=W.useRef(null);Dn(M,"blur",p),Dn(M,"focus",w),Dn(M,"escape",_),Dn(M,"click",v),Dn(M,"loaderror",x),Dn(M,"loaderstart",T),Dn(M,"networkschange",I),Dn(M,"confirm",k),Dn(M,"cancel",C),Dn(M,"shippingaddresschange",E),Dn(M,"shippingratechange",A),Dn(M,"savedpaymentmethodremove",R),Dn(M,"savedpaymentmethodupdate",j),Dn(M,"change",y);var z;g&&(e==="expressCheckout"?z=g:z=function(){g(M)}),Dn(M,"ready",z),W.useLayoutEffect(function(){if(q.current===null&&L.current!==null&&(O||Y)){var J=null;if(Y)switch(e){case"payment":J=Y.createPaymentElement(f);break;case"address":if("mode"in f){var fe=f.mode,ke=rle(f,mle);if(fe==="shipping")J=Y.createShippingAddressElement(ke);else if(fe==="billing")J=Y.createBillingAddressElement(ke);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":J=Y.createExpressCheckoutElement(f);break;case"currencySelector":J=Y.createCurrencySelectorElement();break;case"taxId":J=Y.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(J=O.create(e,f));q.current=J,F(J),J&&J.mount(L.current)}},[O,Y,f]);var te=Tb(f);return W.useEffect(function(){if(q.current){var J=M3(f,te,["paymentRequest"]);J&&"update"in q.current&&q.current.update(J)}},[f,te]),W.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),W.createElement("div",{id:u,className:d,ref:L})},i=function(l){Cb("mounts <".concat(r,">"));var u=l.id,d=l.className;return W.createElement("div",{id:u,className:d})},o=n?i:s;return o.propTypes={id:tt.string,className:tt.string,onChange:tt.func,onBlur:tt.func,onFocus:tt.func,onReady:tt.func,onEscape:tt.func,onClick:tt.func,onLoadError:tt.func,onLoaderStart:tt.func,onNetworksChange:tt.func,onConfirm:tt.func,onCancel:tt.func,onShippingAddressChange:tt.func,onShippingRateChange:tt.func,onSavedPaymentMethodRemove:tt.func,onSavedPaymentMethodUpdate:tt.func,options:tt.object},o.displayName=r,o.__elementType=e,o},dr=typeof window>"u",yle=W.createContext(null);yle.displayName="EmbeddedCheckoutProviderContext";var vle=function(){var e=Cb("calls useStripe()"),n=e.stripe;return n};ur("auBankAccount",dr);var kk=ur("card",dr);ur("cardNumber",dr);ur("cardExpiry",dr);ur("cardCvc",dr);ur("iban",dr);ur("payment",dr);ur("expressCheckout",dr);ur("paymentRequestButton",dr);ur("linkAuthentication",dr);ur("address",dr);ur("shippingAddress",dr);ur("paymentMethodMessaging",dr);ur("taxId",dr);var Fv="Dialog",[$3,phe]=os(Fv),[wle,Rs]=$3(Fv),B3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[u,d]=oi({prop:r,defaultProp:s??!1,onChange:i,caller:Fv});return c.jsx(wle,{scope:e,triggerRef:a,contentRef:l,contentId:Ai(),titleId:Ai(),descriptionId:Ai(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};B3.displayName=Fv;var z3="DialogTrigger",q3=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rs(z3,n),i=Be(e,s.triggerRef);return c.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fT(s.open),...r,ref:i,onClick:me(t.onClick,s.onOpenToggle)})});q3.displayName=z3;var dT="DialogPortal",[_le,W3]=$3(dT,{forceMount:void 0}),H3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Rs(dT,e);return c.jsx(_le,{scope:e,forceMount:n,children:b.Children.map(r,o=>c.jsx(ga,{present:n||i.open,children:c.jsx(Fy,{asChild:!0,container:s,children:o})}))})};H3.displayName=dT;var vy="DialogOverlay",G3=b.forwardRef((t,e)=>{const n=W3(vy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rs(vy,t.__scopeDialog);return i.modal?c.jsx(ga,{present:r||i.open,children:c.jsx(ble,{...s,ref:e})}):null});G3.displayName=vy;var xle=yu("DialogOverlay.RemoveScroll"),ble=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rs(vy,n);return c.jsx(lT,{as:xle,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(xe.div,{"data-state":fT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Vl="DialogContent",K3=b.forwardRef((t,e)=>{const n=W3(Vl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rs(Vl,t.__scopeDialog);return c.jsx(ga,{present:r||i.open,children:i.modal?c.jsx(Sle,{...s,ref:e}):c.jsx(Ele,{...s,ref:e})})});K3.displayName=Vl;var Sle=b.forwardRef((t,e)=>{const n=Rs(Vl,t.__scopeDialog),r=b.useRef(null),s=Be(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return YF(i)},[]),c.jsx(Y3,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault())})}),Ele=b.forwardRef((t,e)=>{const n=Rs(Vl,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return c.jsx(Y3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y3=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Rs(Vl,n),l=b.useRef(null),u=Be(e,l);return HF(),c.jsxs(c.Fragment,{children:[c.jsx(sT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Df,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":fT(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Tle,{titleId:a.titleId}),c.jsx(Ple,{contentRef:l,descriptionId:a.descriptionId})]})]})}),hT="DialogTitle",Q3=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rs(hT,n);return c.jsx(xe.h2,{id:s.titleId,...r,ref:e})});Q3.displayName=hT;var X3="DialogDescription",J3=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rs(X3,n);return c.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});J3.displayName=X3;var Z3="DialogClose",e5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rs(Z3,n);return c.jsx(xe.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});e5.displayName=Z3;function fT(t){return t?"open":"closed"}var t5="DialogTitleWarning",[mhe,n5]=e9(t5,{contentName:Vl,titleName:hT,docsSlug:"dialog"}),Tle=({titleId:t})=>{const e=n5(t5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Cle="DialogDescriptionWarning",Ple=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n5(Cle).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Ale=B3,Ile=q3,Nle=H3,r5=G3,s5=K3,i5=Q3,o5=J3,kle=e5;const pT=Ale,mT=Ile,Rle=Nle,a5=b.forwardRef(({className:t,...e},n)=>c.jsx(r5,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));a5.displayName=r5.displayName;const Uv=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Rle,{children:[c.jsx(a5,{}),c.jsxs(s5,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(kle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Gh,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uv.displayName=s5.displayName;const $v=({className:t,...e})=>c.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$v.displayName="DialogHeader";const Bv=b.forwardRef(({className:t,...e},n)=>c.jsx(i5,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Bv.displayName=i5.displayName;const l5=b.forwardRef(({className:t,...e},n)=>c.jsx(o5,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));l5.displayName=o5.displayName;const c5=({amount:t,description:e,buttonText:n="Pay Now",className:r="",orderData:s={}})=>{const i=vle(),o=ple(),a=Bl(),[l,u]=b.useState(!1),[d,h]=b.useState(null),[f,p]=b.useState(!1),[w,g]=b.useState(""),y=async v=>{var T,I;if(v.preventDefault(),!i||!o)return;u(!0),h(null);const x=o.getElement(kk);if(!x){h("Card element not found"),u(!1);return}try{const{error:k,paymentMethod:C}=await i.createPaymentMethod({type:"card",card:x});if(k){h(k.message||"Payment failed"),u(!1);return}console.log("Payment method created:",C),await new Promise(R=>setTimeout(R,2e3)),p(!1);const E=`NAZ-${Date.now()}`,A=new URLSearchParams({orderId:E,amount:t.toString(),service:s.service||e,cardCount:((T=s.cardCount)==null?void 0:T.toString())||"1",email:w,diamondSleeve:((I=s.diamondSleeve)==null?void 0:I.toString())||"false"});a(`/order-confirmation?${A.toString()}`)}catch{h("An unexpected error occurred")}finally{u(!1)}},_={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return c.jsxs(pT,{open:f,onOpenChange:p,children:[c.jsx(mT,{asChild:!0,children:c.jsxs(oe,{className:r,children:[c.jsx(hO,{className:"w-4 h-4 mr-2"}),n]})}),c.jsxs(Uv,{className:"sm:max-w-md",children:[c.jsx($v,{children:c.jsx(Bv,{children:"Complete Payment"})}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{children:["$",(t/100).toFixed(2)]}),c.jsx(_r,{children:e})]}),c.jsx(We,{children:c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{htmlFor:"email",children:"Email"}),c.jsx(_e,{id:"email",type:"email",placeholder:"your@email.com",value:w,onChange:v=>g(v.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ye,{children:"Card Information"}),c.jsx("div",{className:"p-3 border rounded-md",children:c.jsx(kk,{options:_})})]}),d&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:d}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(oe,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),c.jsx(oe,{type:"submit",disabled:!i||l,className:"flex-1",children:l?c.jsxs(c.Fragment,{children:[c.jsx(ez,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay $${(t/100).toFixed(2)}`})]})]})})]})]})]})},jle=()=>{const{toast:t}=Of(),[e,n]=b.useState("standard"),[r,s]=b.useState(1),[i,o]=b.useState(!1),a=50,l=[{id:"standard",name:"Standard Service",price:15,turnaround:"10-15 business days",icon:Cm,features:["Professional grading","Protective slab","Serial number & QR code","Insurance up to 500"]},{id:"express",name:"Express Service",price:30,turnaround:"5-7 business days",icon:Pl,popular:!0,features:["Priority handling","Professional grading","Protective slab","Serial number & QR code","Insurance up to 1,000"]},{id:"super-express",name:"Super Express",price:50,turnaround:"2-3 business days",icon:mz,features:["Highest priority","Professional grading","Protective slab","Serial number & QR code","Insurance up to 2,500"]}],u={id:"diamond",name:"Diamond Tier",price:750,turnaround:"Premium 1-2 business days",icon:$_,features:["Diamond-incrusted NAZ verified sleeve","Top-priority handling","Premium display casing","Insurance up to 10,000"]},d=h=>{h.preventDefault(),t({title:"Submission Received!",description:"We'll send you a confirmation email with shipping instructions shortly."})};return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"mb-12 text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Submit Cards for Grading"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose your service tier and complete the submission form"})]}),c.jsx("div",{className:"grid lg:grid-cols-3 gap-6 mb-6",children:l.map(h=>{const f=h.icon,p=e===h.id;return c.jsxs(le,{className:`p-6 cursor-pointer transition-all relative ${p?"ring-2 ring-accent shadow-premium":"shadow-card hover:shadow-card-hover"}`,onClick:()=>n(h.id),children:[h.popular&&c.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-accent text-accent-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(f,{className:"w-12 h-12 text-accent mx-auto mb-3"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:h.name}),c.jsxs("div",{className:"text-3xl font-bold mb-1",children:["",h.price,c.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/card"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:h.turnaround})]}),c.jsx("ul",{className:"space-y-2 mb-6",children:h.features.map((w,g)=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Cm,{className:"w-4 h-4 text-accent shrink-0"}),c.jsx("span",{children:w})]},g))}),c.jsx(Sb,{value:e,onValueChange:n,children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(Eb,{value:h.id,id:h.id}),c.jsx(Ye,{htmlFor:h.id,className:"ml-2 cursor-pointer",children:"Select this tier"})]})})]},h.id)})}),c.jsx("div",{className:"mb-12",children:c.jsxs(le,{className:`p-6 cursor-pointer transition-all relative diamond-card ${e===u.id?"ring-2 ring-accent shadow-premium":"shadow-card hover:shadow-card-hover"}`,onClick:()=>n(u.id),children:[c.jsx("div",{className:"diamond-gloss","aria-hidden":!0}),c.jsx("div",{className:"diamond-shimmer","aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"12%",top:"18%",animationDelay:"0s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"36%",top:"8%",animationDelay:"0.6s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"64%",top:"22%",animationDelay:"1.2s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"78%",top:"48%",animationDelay:"0.9s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"52%",top:"62%",animationDelay:"1.6s"},"aria-hidden":!0}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[c.jsx($_,{className:"w-6 h-6 text-accent"}),c.jsx("h3",{className:"text-xl font-bold",children:u.name})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:u.turnaround}),c.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm mb-4",children:u.features.map((h,f)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Cm,{className:"w-4 h-4 text-accent shrink-0"}),c.jsx("span",{children:h})]},f))})]}),c.jsxs("div",{className:"w-full md:w-56 text-right",children:[c.jsxs("div",{className:"text-3xl font-bold mb-2",children:["",u.price]}),c.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:u.turnaround}),c.jsx(Sb,{value:e,onValueChange:n,children:c.jsxs("div",{className:"flex items-center justify-end",children:[c.jsx(Eb,{value:u.id,id:u.id}),c.jsx(Ye,{htmlFor:u.id,className:"ml-2 cursor-pointer",children:"Select Diamond Tier"})]})})]})]})]})}),c.jsxs(le,{className:"p-8 shadow-card",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Submission Details"}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"name",children:"Full Name *"}),c.jsx(_e,{id:"name",placeholder:"Ash Ketchum",required:!0})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"email",children:"Email Address *"}),c.jsx(_e,{id:"email",type:"email",placeholder:"ash@pokemon.com",required:!0})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"phone",children:"Phone Number *"}),c.jsx(_e,{id:"phone",type:"tel",placeholder:"07700 900123",required:!0})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"cardCount",children:"Number of Cards *"}),c.jsx(_e,{id:"cardCount",type:"number",min:"1",value:r,onChange:h=>s(Number(h.target.value)||0),placeholder:"5",required:!0})]})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"address",children:"Shipping Address *"}),c.jsx(Fu,{id:"address",placeholder:"1 Pallet Town Road, Kanto, London, SW1A 1AA",rows:3,required:!0})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"notes",children:"Special Instructions (Optional)"}),c.jsx(Fu,{id:"notes",placeholder:"Any special handling requirements or notes about your cards...",rows:4})]}),c.jsxs("div",{className:"bg-secondary/50 rounded-lg p-6 relative diamond-card",children:[c.jsx("div",{className:"diamond-gloss","aria-hidden":!0}),c.jsx("div",{className:"diamond-shimmer","aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"18%",top:"22%",animationDelay:"0.2s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"42%",top:"12%",animationDelay:"0.8s"},"aria-hidden":!0}),c.jsx("div",{className:"diamond-sparkle",style:{left:"72%",top:"36%",animationDelay:"1.4s"},"aria-hidden":!0}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{id:"diamondSleeve",type:"checkbox",checked:i,onChange:h=>o(h.target.checked),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Add NAZ Diamond Sleeve"})]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",a," per card"]})]}),(()=>{const h=[...l,u].find(g=>g.id===e),p=((h==null?void 0:h.price)||0)+(i?a:0),w=p*(r||0);return c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Estimated Total"}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("span",{className:"text-3xl font-bold text-accent",children:["",p.toLocaleString()]}),c.jsx("span",{className:"text-muted-foreground",children:"per card"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Estimated order total: ",c.jsxs("strong",{children:["",w.toLocaleString()]})]})]})})()]}),(()=>{const h=[...l,u].find(_=>_.id===e),f=(h==null?void 0:h.price)||0,p=f+(i?a:0),w=p*(r||0),g=Math.round(w*100),y={service:(h==null?void 0:h.name)||"Card Grading",cardCount:r,diamondSleeve:i,tierPrice:f,perCardPrice:p,totalAmount:w};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(c5,{amount:g,description:`${(h==null?void 0:h.name)||"Card Grading"} - ${r} card${r!==1?"s":""}${i?" with Diamond Sleeve":""}`,buttonText:`Pay ${w.toFixed(2)} - Complete Order`,className:"w-full text-lg px-8 py-6 h-auto bg-accent hover:bg-accent/90",orderData:y}),c.jsx(oe,{type:"submit",variant:"outline",size:"lg",className:"w-full",children:"Submit Without Payment (Pay Later)"})]})})()]})]})]})})}),c.jsx(ns,{})]})},Ole=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(null),s=i=>{i.preventDefault(),r({cardName:"Charizard Base Set Holo",set:"Base Set",grade:10,serialNumber:t||"NAZ-2024-001234",dateGraded:"March 15, 2024",graderInitials:"JD",centering:"10",corners:"10",edges:"10",surface:"10",image:"/placeholder.svg"})};return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-12 text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Verify Graded Card"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Enter the serial number or scan the QR code to verify authenticity"})]}),c.jsx(le,{className:"p-8 shadow-card mb-8",children:c.jsxs("form",{onSubmit:s,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"serial",children:"Serial Number"}),c.jsxs("div",{className:"flex gap-4 mt-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(wu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(_e,{id:"serial",placeholder:"NAZ-2024-XXXXXX",value:t,onChange:i=>e(i.target.value),className:"pl-10",required:!0})]}),c.jsx(oe,{type:"submit",variant:"premium",children:"Verify"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),c.jsxs(oe,{type:"button",variant:"outline",className:"w-full",size:"lg",children:[c.jsx(oz,{className:"mr-2"}),"Scan QR Code"]})]})}),n&&c.jsxs(le,{className:"p-8 shadow-card-hover border-accent/50",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b",children:[c.jsx(uO,{className:"w-8 h-8 text-accent"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Verified Authentic"}),c.jsx("p",{className:"text-muted-foreground",children:"This card is certified by NAZ Grading"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{children:c.jsxs("div",{className:"aspect-[3/4] bg-secondary rounded-lg mb-4 relative",children:[c.jsx("img",{src:n.image,alt:n.cardName,className:"w-full h-full object-cover rounded-lg"}),c.jsx("div",{className:"absolute top-4 right-4 bg-accent text-accent-foreground font-bold text-2xl px-4 py-2 rounded-full shadow-premium",children:n.grade})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold mb-1",children:n.cardName}),c.jsx("p",{className:"text-muted-foreground",children:n.set})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Centering"}),c.jsx("p",{className:"text-2xl font-bold",children:n.centering})]}),c.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Corners"}),c.jsx("p",{className:"text-2xl font-bold",children:n.corners})]}),c.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Edges"}),c.jsx("p",{className:"text-2xl font-bold",children:n.edges})]}),c.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Surface"}),c.jsx("p",{className:"text-2xl font-bold",children:n.surface})]})]}),c.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wu,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Serial Number"}),c.jsx("p",{className:"font-mono font-semibold",children:n.serialNumber})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Vf,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Date Graded"}),c.jsx("p",{className:"font-semibold",children:n.dateGraded})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Cg,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Grader"}),c.jsx("p",{className:"font-semibold",children:n.graderInitials})]})]})]})]})]})]})]})})}),c.jsx(ns,{})]})},Dle=()=>{var i,o,a,l,u,d,h,f;const[t]=WW(),e=hi(),[n,r]=b.useState(null);if(b.useEffect(()=>{var p,w;if((p=e.state)!=null&&p.orderData&&((w=e.state)!=null&&w.isProductOrder))r({...e.state.orderData,isProductOrder:!0});else{const g={orderId:t.get("orderId")||`NAZ-${Date.now()}`,amount:t.get("amount")||"0",service:t.get("service")||"Standard Service",cardCount:t.get("cardCount")||"1",customerEmail:t.get("email")||"customer@example.com",hasDiamondSleeve:t.get("diamondSleeve")==="true",timestamp:new Date().toISOString(),isProductOrder:!1};r(g)}},[t,e.state]),!n)return c.jsx("div",{children:"Loading..."});const s=p=>`${(parseInt(p)/100).toFixed(2)}`;return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-green-100 rounded-full p-4",children:c.jsx(Bo,{className:"w-16 h-16 text-green-600"})})}),c.jsx("h1",{className:"text-4xl font-bold mb-4 text-green-600",children:n.isProductOrder?"Order Confirmed!":"Payment Successful!"}),c.jsx("p",{className:"text-xl text-muted-foreground",children:n.isProductOrder?"Your order has been confirmed and will be shipped soon":"Your order has been confirmed and is being processed"})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[c.jsxs(le,{className:"p-8",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[n.isProductOrder?c.jsx(cz,{className:"w-6 h-6 text-accent"}):c.jsx(Zo,{className:"w-6 h-6 text-accent"}),"Order Summary"]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Order ID:"}),c.jsx("span",{className:"font-mono text-accent",children:n.id||n.orderId})]}),n.isProductOrder?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"font-medium",children:"Items:"}),(i=n.items)==null?void 0:i.map((p,w)=>c.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[c.jsxs("span",{children:[p.productName," (x",p.quantity,")"]}),c.jsxs("span",{children:["",(p.price*p.quantity).toLocaleString()]})]},w))]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Subtotal:"}),c.jsxs("span",{children:["",(o=n.subtotal)==null?void 0:o.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Shipping:"}),c.jsx("span",{children:n.shipping===0?"Free":`${(a=n.shipping)==null?void 0:a.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Shipping Address:"}),c.jsxs("div",{className:"text-right text-sm",children:[c.jsx("div",{children:(l=n.shippingAddress)==null?void 0:l.address}),c.jsxs("div",{children:[(u=n.shippingAddress)==null?void 0:u.city,", ",(d=n.shippingAddress)==null?void 0:d.postcode]}),c.jsx("div",{children:(h=n.shippingAddress)==null?void 0:h.country})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Service:"}),c.jsx("span",{children:n.service})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Number of Cards:"}),c.jsx("span",{children:n.cardCount})]}),n.hasDiamondSleeve&&c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Diamond Sleeve:"}),c.jsx("span",{className:"text-accent",children:" Included"})]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Email:"}),c.jsx("span",{className:"text-sm",children:n.customerEmail})]}),c.jsxs("div",{className:"flex justify-between py-3 text-xl font-bold text-accent border-t-2",children:[c.jsx("span",{children:"Total Paid:"}),c.jsx("span",{children:n.isProductOrder?`${(f=n.total)==null?void 0:f.toLocaleString()}`:s(n.amount)})]})]}),c.jsxs(oe,{className:"w-full mb-4",variant:"outline",children:[c.jsx(vu,{className:"w-4 h-4 mr-2"}),"Download Receipt"]}),c.jsxs(oe,{className:"w-full",variant:"outline",children:[c.jsx(By,{className:"w-4 h-4 mr-2"}),"Email Receipt"]})]}),c.jsxs(le,{className:"p-8",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(Pl,{className:"w-6 h-6 text-accent"}),"What Happens Next"]}),c.jsx("div",{className:"space-y-6",children:n.isProductOrder?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Order Confirmation"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"You'll receive a confirmation email with order details within 15 minutes."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"2"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Order Processing"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll prepare your items for shipping within 1-2 business days."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Shipping & Tracking"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your order will be shipped with tracking information provided via email."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Delivery"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your items will be delivered to your specified address within 3-5 business days."})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Confirmation Email"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"You'll receive a confirmation email with shipping instructions within 15 minutes."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"2"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Ship Your Cards"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Follow the provided shipping instructions to send us your cards securely."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Professional Grading"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Our experts will grade your cards according to industry standards."})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold",children:"4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:"Secure Return"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your graded cards will be returned in protective slabs with tracking."})]})]})]})})]})]}),c.jsxs("div",{className:"text-center space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(qe,{to:"/verify",children:c.jsxs(oe,{size:"lg",className:"w-full sm:w-auto",children:["Track Your Order",c.jsx(K9,{className:"w-4 h-4 ml-2"})]})}),c.jsx(qe,{to:"/submit",children:c.jsx(oe,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Submit More Cards"})}),c.jsx(qe,{to:"/",children:c.jsx(oe,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Back to Home"})})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-6",children:["Questions? Contact us at"," ",c.jsx("a",{href:"mailto:support@naztcg.com",className:"text-accent hover:underline",children:"support@naztcg.com"})]})]})]})})}),c.jsx(ns,{})]})},Mle=Lf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$u=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:Ae(Mle({variant:e}),t),...n}));$u.displayName="Alert";const Lle=b.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:Ae("mb-1 font-medium leading-none tracking-tight",t),...e}));Lle.displayName="AlertTitle";const Bu=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ae("text-sm [&_p]:leading-relaxed",t),...e}));Bu.displayName="AlertDescription";const Vle=()=>{const[t,e]=b.useState({username:"",password:""}),[n,r]=b.useState(""),[s,i]=b.useState(!1),o=Bl();if(localStorage.getItem("adminLoggedIn")==="true")return c.jsx(wD,{to:"/admin",replace:!0});const l=async u=>{u.preventDefault(),i(!0),r(""),await new Promise(d=>setTimeout(d,500)),t.username==="admin"&&t.password==="naztcg2024"?(localStorage.setItem("adminLoggedIn","true"),localStorage.setItem("adminUser",JSON.stringify({username:"admin",role:"admin",loginTime:new Date().toISOString()})),o("/admin",{replace:!0})):(r("Invalid credentials. Please try again."),i(!1))};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:c.jsxs(le,{className:"w-full max-w-md",children:[c.jsxs(dn,{className:"space-y-1",children:[c.jsx(hn,{className:"text-2xl font-bold text-center",children:"NAZ TCG Admin Portal"}),c.jsx(_r,{className:"text-center",children:"Sign in to access the admin dashboard"})]}),c.jsxs(We,{children:[c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n&&c.jsx($u,{variant:"destructive",children:c.jsx(Bu,{children:n})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),c.jsx(_e,{id:"username",type:"text",placeholder:"Enter your username",value:t.username,onChange:u=>e(d=>({...d,username:u.target.value})),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),c.jsx(_e,{id:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:u=>e(d=>({...d,password:u.target.value})),required:!0})]}),c.jsx(oe,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Demo credentials: admin / naztcg2024"})})]})]})})},Fle=()=>{const[t,e]=b.useState(!1),n=hi();if(!(localStorage.getItem("adminLoggedIn")==="true"))return c.jsx(wD,{to:"/admin/login",replace:!0});const s=()=>{localStorage.removeItem("adminLoggedIn"),localStorage.removeItem("adminUser"),window.location.href="/admin/login"},i=[{path:"/admin",label:"Dashboard",icon:Z9},{path:"/admin/orders",label:"Orders",icon:_u},{path:"/admin/products",label:"Products",icon:Zo},{path:"/admin/customers",label:"Customers",icon:Pg},{path:"/admin/discount-codes",label:"Discount Codes",icon:B_},{path:"/admin/data",label:"Data Management",icon:dh},{path:"/admin/settings",label:"Settings",icon:lz}];return c.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#f5f1f0"},children:[c.jsxs("div",{className:"lg:hidden shadow-sm border-b px-4 py-3 flex items-center justify-between relative z-30",style:{backgroundColor:"#B2493D",borderColor:"#8B3428"},children:[c.jsx("h1",{className:"text-lg font-semibold text-white",children:"NAZ TCG Admin"}),c.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>e(!t),className:"text-white hover:bg-red-700",children:c.jsx(pO,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex",children:[c.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-[60] w-64 shadow-2xl border-r transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 lg:static lg:inset-0 lg:z-auto
          ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,style:{backgroundColor:"#B2493D",borderColor:"#8B3428"},children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-6 border-b",style:{borderColor:"#8B3428"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"NAZ TCG Admin"}),c.jsx("p",{className:"text-sm text-red-100 mt-1",children:"Trading Card Management"})]}),c.jsx(oe,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-red-700",onClick:()=>e(!1),children:c.jsx(Gh,{className:"h-4 w-4"})})]})}),c.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(o=>{const a=o.icon,l=n.pathname===o.path||o.path==="/admin"&&(n.pathname==="/admin"||n.pathname==="/admin/dashboard");return c.jsxs(qe,{to:o.path,className:`
                      flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors
                      ${l?"bg-red-700 text-white border border-red-600":"text-red-100 hover:bg-red-700 hover:text-white"}
                    `,onClick:()=>e(!1),children:[c.jsx(a,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:o.label})]},o.path)})}),c.jsx("div",{className:"p-4 border-t",style:{borderColor:"#8B3428"},children:c.jsxs(oe,{variant:"ghost",className:"w-full justify-start text-red-100 hover:text-white hover:bg-red-700",onClick:s,children:[c.jsx(nz,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})}),t&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden",onClick:()=>e(!1)}),c.jsx("main",{className:"flex-1 lg:ml-0",children:c.jsx("div",{className:"p-6",children:c.jsx(kW,{})})})]})]})},Ule=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function An({className:t,variant:e,...n}){return c.jsx("div",{className:Ae(Ule({variant:e}),t),...n})}const $le=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gT extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ble extends gT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rk extends gT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jk extends gT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pb||(Pb={}));class zle{constructor(e,{headers:n={},customFetch:r,region:s=Pb.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=$le(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const w=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let y=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const _=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:y}).catch(I=>{throw new Ble(I)}),v=_.headers.get("x-relay-error");if(v&&v==="true")throw new Rk(_);if(!_.ok)throw new jk(_);let x=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield _.json():x==="application/octet-stream"||x==="application/pdf"?T=yield _.blob():x==="text/event-stream"?T=_:x==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof jk||a instanceof Rk?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Un={};const cd=S$(doe);var tm={},nm={},rm={},sm={},im={},om={},Ok;function u5(){if(Ok)return om;Ok=1,Object.defineProperty(om,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return om.default=t,om}var Dk;function d5(){if(Dk)return im;Dk=1,Object.defineProperty(im,"__esModule",{value:!0});const e=cd.__importDefault(u5());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let p=null,w=null,g=null,y=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const I=await l.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=I:w=JSON.parse(I))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),T=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&T&&T.length>1&&(g=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(p={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,g=null,y=406,_="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(w=[],p=null,y=200,_="OK")}catch{l.status===404&&x===""?(y=204,_="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,_="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:w,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,f,p,w;let g="";const y=l==null?void 0:l.cause;if(y){const _=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",v=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";g=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,g+=`

Caused by: ${(f=y==null?void 0:y.name)!==null&&f!==void 0?f:"Error"}: ${_}`,v&&(g+=` (${v})`),y!=null&&y.stack&&(g+=`
${y.stack}`)}else g=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return im.default=n,im}var Mk;function h5(){if(Mk)return sm;Mk=1,Object.defineProperty(sm,"__esModule",{value:!0});const e=cd.__importDefault(d5());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return sm.default=n,sm}var Lk;function yT(){if(Lk)return rm;Lk=1,Object.defineProperty(rm,"__esModule",{value:!0});const e=cd.__importDefault(h5()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return rm.default=r,rm}var Vk;function f5(){if(Vk)return nm;Vk=1,Object.defineProperty(nm,"__esModule",{value:!0});const e=cd.__importDefault(yT());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return nm.default=n,nm}var Fk;function qle(){if(Fk)return tm;Fk=1,Object.defineProperty(tm,"__esModule",{value:!0});const t=cd,e=t.__importDefault(f5()),n=t.__importDefault(yT());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{f.searchParams.append(g,y)})):(h="POST",p=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:w,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return tm.default=r,tm}Object.defineProperty(Un,"__esModule",{value:!0});var p5=Un.PostgrestError=E5=Un.PostgrestBuilder=b5=Un.PostgrestTransformBuilder=_5=Un.PostgrestFilterBuilder=v5=Un.PostgrestQueryBuilder=g5=Un.PostgrestClient=void 0;const ud=cd,m5=ud.__importDefault(qle());var g5=Un.PostgrestClient=m5.default;const y5=ud.__importDefault(f5());var v5=Un.PostgrestQueryBuilder=y5.default;const w5=ud.__importDefault(yT());var _5=Un.PostgrestFilterBuilder=w5.default;const x5=ud.__importDefault(h5());var b5=Un.PostgrestTransformBuilder=x5.default;const S5=ud.__importDefault(d5());var E5=Un.PostgrestBuilder=S5.default;const T5=ud.__importDefault(u5());p5=Un.PostgrestError=T5.default;var C5=Un.default={PostgrestClient:m5.default,PostgrestQueryBuilder:y5.default,PostgrestFilterBuilder:w5.default,PostgrestTransformBuilder:x5.default,PostgrestBuilder:S5.default,PostgrestError:T5.default};const Wle=_R({__proto__:null,get PostgrestBuilder(){return E5},get PostgrestClient(){return g5},get PostgrestError(){return p5},get PostgrestFilterBuilder(){return _5},get PostgrestQueryBuilder(){return v5},get PostgrestTransformBuilder(){return b5},default:C5},[Un]),{PostgrestClient:Hle,PostgrestQueryBuilder:ghe,PostgrestFilterBuilder:yhe,PostgrestTransformBuilder:vhe,PostgrestBuilder:whe,PostgrestError:_he}=C5||Wle;class Gle{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kle="2.84.0",Yle=`realtime-js/${Kle}`,P5="1.0.0",Qle="2.0.0",Uk=P5,Ab=1e4,Xle=1e3,Jle=100;var Ha;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ha||(Ha={}));var Kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kt||(Kt={}));var xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xs||(xs={}));var Ib;(function(t){t.websocket="websocket"})(Ib||(Ib={}));var Ga;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ga||(Ga={}));class Zle{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),w=0;p.setUint8(w++,this.KINDS.userBroadcastPush),p.setUint8(w++,l.length),p.setUint8(w++,a.length),p.setUint8(w++,o.length),p.setUint8(w++,u.length),p.setUint8(w++,this.BINARY_ENCODING),Array.from(l,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(w++,y.charCodeAt(0)));var g=new Uint8Array(f.byteLength+d.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(d),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,w=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(w),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,u.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0)));var _=new Uint8Array(w.byteLength+f.byteLength);return _.set(new Uint8Array(w),0),_.set(new Uint8Array(f),w.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class A5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const $k=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ece(o,t,e,s),i),{}):{}},ece=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?I5(i,o):Nb(o)},I5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sce(e,n)}switch(t){case it.bool:return tce(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return nce(e);case it.json:case it.jsonb:return rce(e);case it.timestamp:return ice(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Nb(e);default:return Nb(e)}},Nb=t=>t,tce=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nce=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rce=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sce=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>I5(e,a))}return t},ice=t=>typeof t=="string"?t.replace(" ","T"):t,N5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mw{constructor(e,n,r={},s=Ab){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bk||(Bk={}));class Ah{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ah.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ah.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ah.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),w=d.filter(y=>p.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);w.length>0&&(a[u]=w),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zk;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zk||(zk={}));var Ih;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ih||(Ih={}));var wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wi||(wi={}));class vT{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mw(this,xs.join,this.params,this.timeout),this.rejoinTimer=new A5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ah(this),this.broadcastEndpointURL=N5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ih.PRESENCE]&&this.bindings[Ih.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(wi.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(wi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){e==null||e(wi.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,_=[];for(let v=0;v<y;v++){const x=g[v],{filter:{event:T,schema:I,table:k,filter:C}}=x,E=p&&p[v];if(E&&E.event===T&&E.schema===I&&E.table===k&&E.filter===C)_.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=Kt.errored,e==null||e(wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(wi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Kt.errored,e==null||e(wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Kt.joined&&e===Ih.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Mw(this,xs.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mw(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jle){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=xs;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,y;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,g,y,_,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,I=(w=p.filter)===null||w===void 0?void 0:w.event;return T&&((g=n.ids)===null||g===void 0?void 0:g.includes(T))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const T=(v=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return T==="*"||T===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:y,commit_timestamp:_,type:v,errors:x}=w;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:_,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&vT.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$k(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$k(e.columns,e.old_record)),n}}const Lw=()=>{},am={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oce=[1e3,2e3,5e3,1e4],ace=1e4,lce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cce{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ab,this.transport=null,this.heartbeatIntervalMs=am.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lw,this.ref=0,this.reconnectTimer=null,this.vsn=Uk,this.logger=Lw,this.conn=null,this.sendBuffer=[],this.serializer=new Zle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ib.websocket}`,this.httpEndpoint=N5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gle.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Ga.Connecting;case Ha.open:return Ga.Open;case Ha.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new vT(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xle,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},am.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([lce],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Yle};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(xs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new A5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},am.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ab,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:am.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Lw,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Uk,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:w=>oce[w-1]||ace,this.vsn){case P5:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(w,g)=>g(JSON.stringify(w)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(w,g)=>g(JSON.parse(w));break;case Qle:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class wT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uce extends wT{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kb extends wT{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const _T=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dce=()=>Response,Rb=t=>{if(Array.isArray(t))return t.map(n=>Rb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Rb(r)}),e},hce=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},fce=(t,e,n)=>ae(void 0,void 0,void 0,function*(){const r=yield dce();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new uce(Vw(s),i,o))}).catch(s=>{e(new kb(Vw(s),s))}):e(new kb(Vw(t),t))}),pce=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(hce(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function sp(t,e,n,r,s,i){return ae(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,pce(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>fce(l,a,r))})})}function Ef(t,e,n,r){return ae(this,void 0,void 0,function*(){return sp(t,"GET",e,n,r)})}function ys(t,e,n,r,s){return ae(this,void 0,void 0,function*(){return sp(t,"POST",e,r,s,n)})}function jb(t,e,n,r,s){return ae(this,void 0,void 0,function*(){return sp(t,"PUT",e,r,s,n)})}function mce(t,e,n,r){return ae(this,void 0,void 0,function*(){return sp(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function xT(t,e,n,r,s){return ae(this,void 0,void 0,function*(){return sp(t,"DELETE",e,r,s,n)})}class gce{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}var k5;class yce{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[k5]="BlobDownloadBuilder",this.promise=null}asStream(){return new gce(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}k5=Symbol.toStringTag;const vce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wce{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_T(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qk),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?jb:ys)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:qk.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield jb(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ys(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new wT("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}update(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield ys(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ys(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ae(this,void 0,void 0,function*(){try{const s=yield ys(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Ef(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new yce(l,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ef(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield mce(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r)&&r instanceof kb){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}list(e,n,r){return ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vce),n),{prefix:e||""});return{data:yield ys(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}listV2(e,n){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ys(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const R5="2.84.0",j5={"X-Client-Info":`storage-js/${R5}`};class _ce{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j5),n),this.fetch=_T(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ef(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ef(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}createBucket(e){return ae(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ys(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class xce{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j5),n),this.fetch=_T(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ef(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}}const bT={"X-Client-Info":`storage-js/${R5}`,"Content-Type":"application/json"};class O5 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function br(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Fw extends O5{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bce extends O5{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Wk;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wk||(Wk={}));const ST=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sce=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ece=(t,e,n)=>ae(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Fw(Hk(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Fw(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Fw(a,s,o))}}else e(new bce(Hk(t),t))}),Tce=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Sce(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function Cce(t,e,n,r,s,i){return ae(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Tce(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ece(l,a,r))})})}function Sr(t,e,n,r,s){return ae(this,void 0,void 0,function*(){return Cce(t,"POST",e,r,s,n)})}class Pce{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bT),n),this.fetch=ST(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}}class Ace{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bT),n),this.fetch=ST(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Sr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}}class Ice{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bT),n),this.fetch=ST(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield Sr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}}class Nce extends Ice{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new kce(this.url,this.headers,e,this.fetch)}}class kce extends Pce{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Rce(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Rce extends Ace{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class jce extends _ce{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new wce(this.url,this.headers,e,this.fetch)}get vectors(){return new Nce(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xce(this.url+"/iceberg",this.headers,this.fetch)}}const Oce="2.84.0";let eh="";typeof Deno<"u"?eh="deno":typeof document<"u"?eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eh="react-native":eh="node";const Dce={"X-Client-Info":`supabase-js-${eh}/${Oce}`},Mce={headers:Dce},Lce={schema:"public"},Vce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fce={},Uce=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$ce=()=>Headers,Bce=(t,e,n)=>{const r=Uce(n),s=$ce();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function zce(t){return t.endsWith("/")?t:t+"/"}function qce(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Wce(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zce(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D5="2.84.0",fc=30*1e3,Ob=3,Uw=Ob*fc,Hce="http://localhost:9999",Gce="supabase.auth.token",Kce={"X-Client-Info":`gotrue-js/${D5}`},Db="X-Supabase-Api-Version",M5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qce=10*60*1e3;class Tf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xce extends Tf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jce(t){return ce(t)&&t.name==="AuthApiError"}class Ka extends Tf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ca extends Tf{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class pr extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zce(t){return ce(t)&&t.name==="AuthSessionMissingError"}class rc extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lm extends Ca{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cm extends Ca{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eue(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gk extends Ca{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mb extends Ca{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $w(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class Kk extends Ca{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lb extends Ca{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yk=` 	
\r=`.split(""),tue=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yk.length;e+=1)t[Yk[e].charCodeAt(0)]=-2;for(let e=0;e<wy.length;e+=1)t[wy[e].charCodeAt(0)]=e;return t})();function Qk(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wy[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wy[r]),e.queuedBits-=6}}function L5(t,e,n){const r=tue[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xk(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{sue(o,r,n)};for(let o=0;o<t.length;o+=1)L5(t.charCodeAt(o),s,i);return e.join("")}function nue(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rue(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}nue(r,e)}}function sue(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function tu(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)L5(t.charCodeAt(s),n,r);return new Uint8Array(e)}function iue(t){const e=[];return rue(t,n=>e.push(n)),new Uint8Array(e)}function sl(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Qk(s,n,r)),Qk(null,n,r),e.join("")}function oue(t){return Math.round(Date.now()/1e3)+t}function aue(){return Symbol("auth-callback")}const an=()=>typeof window<"u"&&typeof document<"u",La={tested:!1,writable:!1},V5=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(La.tested)return La.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),La.tested=!0,La.writable=!0}catch{La.tested=!0,La.writable=!1}return La.writable};function lue(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const F5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cue=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Va=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},io=async(t,e)=>{await t.removeItem(e)};class zv{constructor(){this.promise=new zv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}zv.promiseConstructor=Promise;function Bw(t){const e=t.split(".");if(e.length!==3)throw new Lb("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Yce.test(e[r]))throw new Lb("JWT not in base64url format");return{header:JSON.parse(Xk(e[0])),payload:JSON.parse(Xk(e[1])),signature:tu(e[2]),raw:{header:e[0],payload:e[1]}}}async function uue(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function due(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function hue(t){return("0"+t.toString(16)).substr(-2)}function fue(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,hue).join("")}async function pue(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mue(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await pue(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sc(t,e,n=!1){const r=fue();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pc(t,`${e}-code-verifier`,s);const i=await mue(r);return[i,r===i?"plain":"s256"]}const gue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yue(t){const e=t.headers.get(Db);if(!e||!e.match(gue))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vue(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wue(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _ue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(t){if(!_ue.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zw(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xue(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Jk(t){return JSON.parse(JSON.stringify(t))}const Wa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bue=[502,503,504];async function Zk(t){var e;if(!cue(t))throw new Mb(Wa(t),0);if(bue.includes(t.status))throw new Mb(Wa(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ka(Wa(i),i)}let r;const s=yue(t);if(s&&s.getTime()>=M5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Kk(Wa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Kk(Wa(n),t.status,n.weak_password.reasons);throw new Xce(Wa(n),t.status||500,r)}const Sue=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ge(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Db]||(i[Db]=M5["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Eue(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Eue(t,e,n,r,s,i){const o=Sue(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Mb(Wa(l),0)}if(a.ok||await Zk(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zk(l)}}function hs(t){var e;let n=null;Pue(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=oue(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eR(t){const e=hs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _o(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tue(t){return{data:t,error:null}}function Cue(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Sa(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function tR(t){return t}function Pue(t){return t.access_token&&t.refresh_token&&t.expires_in}const qw=["global","local","others"];class Aue{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=F5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qw[0]){if(qw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qw.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_o})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Sa(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cue,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_o})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tR});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ic(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_o})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ic(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_o})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ic(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_o})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ic(e.userId);try{const{data:n,error:r}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ic(e.userId),ic(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tR});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function nR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const oc={debug:!!(globalThis&&V5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class U5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Iue extends U5{}async function Nue(t,e,n){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Iue(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Rue(t){return parseInt(t,16)}function jue(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Oue(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=$5(t.address),w=d?`${d}://${r}`:r,g=t.statement?`${t.statement}
`:"",y=`${w} wants you to sign in with your Ethereum account:
${p}

${g}`;let _=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}_+=v}return`${y}
${_}`}class Ft extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _y extends Ft{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Due({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(B5(o)){if(i.rp.id!==o)return new Ft({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Mue({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(B5(r)){if(n.rpId!==r)return new Ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Lue{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Vue=new Lue;function Fue(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Sa(t,["challenge","user","excludeCredentials"]),i=tu(e).buffer,o=Object.assign(Object.assign({},n),{id:tu(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:tu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Uue(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Sa(t,["challenge","allowCredentials"]),s=tu(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:tu(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function $ue(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:sl(new Uint8Array(t.response.attestationObject)),clientDataJSON:sl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bue(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sl(new Uint8Array(s.authenticatorData)),clientDataJSON:sl(new Uint8Array(s.clientDataJSON)),signature:sl(new Uint8Array(s.signature)),userHandle:s.userHandle?sl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rR(){var t,e;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zue(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",e)}:{data:null,error:new _y("Empty credential response",e)}}catch(e){return{data:null,error:Due({error:e,options:t})}}}async function que(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",e)}:{data:null,error:new _y("Empty credential response",e)}}catch(e){return{data:null,error:Mue({error:e,options:t})}}}const Wue={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hue={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xy(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=xy(a,o):r[i]=xy(o)}else r[i]=o}return r}function Gue(t,e){return xy(Wue,t,e||{})}function Kue(t,e){return xy(Hue,t,e||{})}class Yue{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??Vue.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Gue(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await zue({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Kue(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await que(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new Ka("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Tf("rpId is required for WebAuthn authentication")};try{if(!rR())return{data:null,error:new Ka("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new Ka("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Tf("rpId is required for WebAuthn registration")};try{if(!rR())return{data:null,error:new Ka("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new Ka("Unexpected error in register",o)}}}}kue();const Que={url:Hce,storageKey:Gce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sR(t,e,n){return await n()}const ac={};class Cf{get jwks(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Que),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Cf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Cf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&an()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Aue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=F5(i.fetch),this.lock=i.lock||sR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:an()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nue:this.lock=sR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yue(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:V5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nR(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nR(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(an()&&(n=lue(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),an()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eue(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new Ka("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:hs}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await sc(this.storage,this.storageKey)),i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:hs})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hs})}else throw new lm("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eR})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eR})}else throw new lm("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new rc;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,d,h,f;let p,w;if("message"in e)p=e.message,w=e.signature;else{const{chain:g,wallet:y,statement:_,options:v}=e;let x;if(an())if(typeof y=="object")x=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const T=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),I=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=$5(I[0]);let C=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const A=await x.request({method:"eth_chainId"});C=Rue(A)}const E={domain:T.host,address:k,statement:_,uri:T.href,version:"1",chainId:C,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Oue(E),w=await x.request({method:"personal_sign",params:[jue(p),k]})}try{const{data:g,error:y}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:hs});if(y)throw y;if(!g||!g.session||!g.user){const _=new rc;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(ce(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,h,f,p;let w,g;if("message"in e)w=e.message,g=e.signature;else{const{chain:y,wallet:_,statement:v,options:x}=e;let T;if(an())if(typeof _=="object")T=_;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const I=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),v?{statement:v}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${I.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:_}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:sl(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hs});if(_)throw _;if(!y||!y.session||!y.user){const v=new rc;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Va(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:hs});if(await io(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new rc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hs}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new rc;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sc(this.storage,this.storageKey));const{error:h}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new lm("You must provide either an email or phone number.")}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:hs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await sc(this.storage,this.storageKey));const u=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Tue});return!((i=u.data)===null||i===void 0)&&i.url&&an()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pr;const{error:s}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new lm("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Uw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Va(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=zw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=xue(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_o}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_o})})}catch(n){if(ce(n))return Zce(n)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new pr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await sc(this.storage,this.storageKey));const{data:u,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_o});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Bw(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new pr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!an())throw new cm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gk("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new cm("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=fc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jce(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=aue(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sc(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return an()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hs}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new rc}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await due(async s=>(s>0&&await uue(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$w(i)&&Date.now()+o-r<fc})}catch(r){if(this._debug(n,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),an()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Va(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await pc(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:zw()}else if(s&&!s.user&&!s.user){const o=await Va(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await io(this.storage,this.storageKey+"-user"),await pc(this.storage,this.storageKey,s)):s.user=zw()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Uw;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Uw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$w(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zv;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ce(i)){const o={data:null,error:i};return $w(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await pc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Jk(s);await pc(this.storage,this.storageKey,i)}else{const s=Jk(n);await pc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await io(this.storage,this.storageKey+"-code-verifier"),await io(this.storage,this.storageKey+"-user"),this.userStorage&&await io(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&an()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/fc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fc}ms, refresh threshold is ${Ob} ticks`),s<=Ob&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof U5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$ue(e.webauthn.credential_response):Bue(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fue(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Uue(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bw(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pr})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pr});const o=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&an()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pr});const o=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&an()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pr})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new pr})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Qce>s)return r;const{data:i,error:o}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Bw(r);n!=null&&n.allowExpired||vue(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=wue(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,iue(`${a}.${l}`)))throw new Lb("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}Cf.nextInstanceID={};const Xue=Cf;class Jue extends Xue{constructor(e){super(e)}}class Zue{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=Wce(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Lce,realtime:Fce,auth:Object.assign(Object.assign({},Vce),{storageKey:l}),global:Mce},d=qce(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bce(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Hle(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new jce(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jue({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cce(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z5=(t,e,n)=>new Zue(t,e,n);function ede(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ede()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iR="https://elihmzzheuwmjwdqbufy.supabase.co",tde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsaWhtenpoZXV3bWp3ZHFidWZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MzY4ODcsImV4cCI6MjA3OTIxMjg4N30.ye9iiYcEwdmtTdkibhYrTfrM0NsYRCAsA2VDuTE9sq4";let Qm;try{Qm=z5(iR,tde),console.log(" Supabase connected:",iR)}catch(t){throw console.error(" Supabase connection failed:",t),t}const Ya=class Ya{static getInstance(){return Ya.instance||(Ya.instance=new Ya),Ya.instance}isOnline(){return!0}async saveData(e,n,r){try{console.log(` Saving ${n.length} items to ${e}`);const{error:s}=await Qm.from(e).upsert(n,{onConflict:"id"});if(s)throw console.error(` Failed to save ${e} to cloud:`,s),s;return console.log(` Successfully saved ${e} to cloud database`),localStorage.setItem(r,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(`${e}Updated`)),!0}catch(s){throw console.error(` Error saving ${e}:`,s),s}}async loadData(e,n){try{console.log(` Loading ${e} from cloud database`);const{data:r,error:s}=await Qm.from(e).select("*").order("updatedAt",{ascending:!1});if(s)throw console.error(` Failed to load ${e} from cloud:`,s),s;return console.log(` Loaded ${(r==null?void 0:r.length)||0} items from ${e} cloud database`),localStorage.setItem(n,JSON.stringify(r||[])),r||[]}catch(r){console.error(` Error loading ${e}:`,r);const s=localStorage.getItem(n);return console.log(` Falling back to localStorage for ${e}`),s?JSON.parse(s):[]}}async deleteData(e,n,r){try{console.log(` Deleting ${n} from ${e}`);const{error:s}=await Qm.from(e).delete().eq("id",n);if(s)throw console.error(` Failed to delete ${n} from ${e}:`,s),s;console.log(` Successfully deleted ${n} from ${e} cloud database`);const o=JSON.parse(localStorage.getItem(r)||"[]").filter(a=>a.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent(`${e}Updated`)),!0}catch(s){throw console.error(` Error deleting from ${e}:`,s),s}}async saveProducts(e){return this.saveData("products",e,"adminProducts")}async loadProducts(){return this.loadData("products","adminProducts")}async deleteProduct(e){return this.deleteData("products",e,"adminProducts")}async saveOrders(e){return this.saveData("orders",e,"adminOrders")}async loadOrders(){return this.loadData("orders","adminOrders")}async saveCustomers(e){return this.saveData("customers",e,"adminCustomers")}async loadCustomers(){return this.loadData("customers","adminCustomers")}async saveDiscountCodes(e){return this.saveData("discount_codes",e,"adminDiscountCodes")}async loadDiscountCodes(){return this.loadData("discount_codes","adminDiscountCodes")}async syncAllData(){try{await Promise.all([this.loadProducts(),this.loadOrders(),this.loadCustomers(),this.loadDiscountCodes()])}catch(e){console.error("Error syncing all data:",e)}}isCloudAvailable(){return this.isOnline()}getStorageStatus(){const e=this.isCloudAvailable(),n=typeof Storage<"u";let r="";return e&&n?r="Data synced across all devices":n?r="Data saved locally only - connect to internet to sync across devices":r="Storage not available",{cloud:e,local:n,message:r}}};ie(Ya,"instance");let Vb=Ya;const Yt=Vb.getInstance();async function nde(){try{const t=JSON.parse(localStorage.getItem("adminProducts")||"[]"),e=JSON.parse(localStorage.getItem("adminOrders")||"[]"),n=JSON.parse(localStorage.getItem("adminCustomers")||"[]"),r=JSON.parse(localStorage.getItem("adminDiscountCodes")||"[]");await Promise.all([t.length>0?Yt.saveProducts(t):Promise.resolve(),e.length>0?Yt.saveOrders(e):Promise.resolve(),n.length>0?Yt.saveCustomers(n):Promise.resolve(),r.length>0?Yt.saveDiscountCodes(r):Promise.resolve()]),console.log("Successfully migrated local data to cloud")}catch(t){console.error("Error migrating local data to cloud:",t)}}const Mn={PRODUCTS:"adminProducts",ORDERS:"adminOrders",CUSTOMERS:"adminCustomers",DISCOUNT_CODES:"adminDiscountCodes",BACKUP:"naztcg_backup",LAST_BACKUP:"naztcg_last_backup"},Qa=class Qa{static getInstance(){return Qa.instance||(Qa.instance=new Qa),Qa.instance}async createBackup(){const e={products:await Yt.loadProducts(),orders:await Yt.loadOrders(),customers:await Yt.loadCustomers(),discountCodes:await Yt.loadDiscountCodes(),timestamp:new Date().toISOString(),version:"2.0.0"};return localStorage.setItem(Mn.BACKUP,JSON.stringify(e)),localStorage.setItem(Mn.LAST_BACKUP,e.timestamp),e}async restoreFromBackup(e){try{return await Promise.all([Yt.saveProducts(e.products),Yt.saveOrders(e.orders),Yt.saveCustomers(e.customers),Yt.saveDiscountCodes(e.discountCodes||[])]),localStorage.setItem(Mn.PRODUCTS,JSON.stringify(e.products)),localStorage.setItem(Mn.ORDERS,JSON.stringify(e.orders)),localStorage.setItem(Mn.CUSTOMERS,JSON.stringify(e.customers)),localStorage.setItem(Mn.DISCOUNT_CODES,JSON.stringify(e.discountCodes||[])),window.dispatchEvent(new CustomEvent("productsUpdated")),window.dispatchEvent(new CustomEvent("ordersUpdated")),window.dispatchEvent(new CustomEvent("customersUpdated")),window.dispatchEvent(new CustomEvent("discountCodesUpdated")),!0}catch(n){return console.error("Failed to restore backup:",n),!1}}async exportData(){const e=await this.createBackup();return JSON.stringify(e,null,2)}async importData(e){try{const n=JSON.parse(e);return await this.restoreFromBackup(n)}catch(n){return console.error("Failed to import data:",n),!1}}async downloadBackup(e){const n=await this.exportData(),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=e||`naztcg-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}getBackupInfo(){const e=localStorage.getItem(Mn.LAST_BACKUP),n=localStorage.getItem(Mn.BACKUP)!==null;return{lastBackup:e,hasBackup:n}}startAutoBackup(){const e=async()=>{const n=localStorage.getItem(Mn.LAST_BACKUP),r=new Date().getTime(),s=n?new Date(n).getTime():0,i=24*60*60*1e3;r-s>i&&(await this.createBackup(),console.log("Auto backup created"))};e(),setInterval(e,60*60*1e3)}syncAcrossTabs(){const e=n=>{n.key&&[Mn.PRODUCTS,Mn.ORDERS,Mn.CUSTOMERS].includes(n.key)&&(n.key===Mn.PRODUCTS?window.dispatchEvent(new CustomEvent("productsUpdated")):n.key===Mn.ORDERS?window.dispatchEvent(new CustomEvent("ordersUpdated")):n.key===Mn.CUSTOMERS&&window.dispatchEvent(new CustomEvent("customersUpdated")))};window.addEventListener("storage",e),setInterval(async()=>{try{await Yt.syncAllData()}catch(n){console.error("Error during periodic sync:",n)}},3e4)}async initialize(){this.syncAcrossTabs(),this.startAutoBackup();try{await nde()}catch(n){console.error("Error during migration:",n)}try{await Yt.syncAllData()}catch(n){console.error("Error during initial sync:",n)}const{hasBackup:e}=this.getBackupInfo();e||await this.createBackup()}getStorageStatus(){return Yt.getStorageStatus()}};ie(Qa,"instance");let Fb=Qa;const ip=Fb.getInstance(),rde=()=>ip.createBackup(),sde=t=>ip.downloadBackup(t),ide=t=>ip.importData(t),Xm=()=>ip.getBackupInfo(),q5=()=>ip.initialize(),oR=()=>{const[t,e]=b.useState({totalRevenue:0,totalOrders:0,totalProducts:0,totalCustomers:0,recentOrders:[],lowStockProducts:[]});b.useEffect(()=>{const l=JSON.parse(localStorage.getItem("adminOrders")||"[]"),u=JSON.parse(localStorage.getItem("adminProducts")||"[]"),d=JSON.parse(localStorage.getItem("adminCustomers")||"[]"),h=l.reduce((w,g)=>w+(g.total||0),0),f=l.sort((w,g)=>new Date(g.createdAt).getTime()-new Date(w.createdAt).getTime()).slice(0,5).map(w=>({id:w.id,customer:w.customerName||w.email,total:w.total,status:w.status,date:new Date(w.createdAt).toLocaleDateString()})),p=u.filter(w=>(w.stock||0)<10).slice(0,5).map(w=>({id:w.id,name:w.name,stock:w.stock||0}));e({totalRevenue:h,totalOrders:l.length,totalProducts:u.length,totalCustomers:d.length,recentOrders:f,lowStockProducts:p})},[]);const n=l=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(l),r=l=>{switch(l.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=Xm(),i=s.lastBackup?new Date(s.lastBackup):null,o=i?Math.floor((new Date().getTime()-i.getTime())/(1e3*3600*24)):null,a=!s.hasBackup||o&&o>7;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back to your NAZ TCG admin panel"})]}),a&&c.jsxs($u,{className:"border-orange-200 bg-orange-50",children:[c.jsx(dh,{className:"h-4 w-4 text-orange-500"}),c.jsxs(Bu,{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-orange-800",children:"Data Backup Recommended"}),c.jsx("p",{className:"text-orange-700 mt-1",children:s.hasBackup?`Last backup was ${o} days ago. Regular backups protect against data loss.`:"No backup found. Create your first backup to protect your data."})]}),c.jsx(qe,{to:"/admin/data",children:c.jsxs(oe,{variant:"outline",size:"sm",className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[c.jsx(vu,{className:"h-4 w-4 mr-2"}),"Backup Now"]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(le,{children:[c.jsxs(dn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(hn,{className:"text-sm font-medium",children:"Total Revenue"}),c.jsx(bg,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(We,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n(t.totalRevenue)}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx(q_,{className:"inline h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(hn,{className:"text-sm font-medium",children:"Total Orders"}),c.jsx(_u,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(We,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx(q_,{className:"inline h-3 w-3 mr-1"}),"+8% from last month"]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(hn,{className:"text-sm font-medium",children:"Products"}),c.jsx(Zo,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(We,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx(Zo,{className:"inline h-3 w-3 mr-1"}),"Active listings"]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(hn,{className:"text-sm font-medium",children:"Customers"}),c.jsx(Pg,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(We,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.totalCustomers}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx(Pg,{className:"inline h-3 w-3 mr-1"}),"Registered users"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(Pl,{className:"h-5 w-5"}),"Recent Orders"]}),c.jsx(_r,{children:"Latest orders from your customers"})]}),c.jsx(We,{children:t.recentOrders.length>0?c.jsx("div",{className:"space-y-4",children:t.recentOrders.map(l=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:l.customer}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",l.id.slice(0,8)]}),c.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:[c.jsx(Vf,{className:"h-3 w-3"}),l.date]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold",children:n(l.total)}),c.jsx(An,{className:`text-xs ${r(l.status)}`,children:l.status})]})]},l.id))}):c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent orders"})})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(Pm,{className:"h-5 w-5 text-orange-500"}),"Low Stock Alert"]}),c.jsx(_r,{children:"Products that need restocking"})]}),c.jsx(We,{children:t.lowStockProducts.length>0?c.jsx("div",{className:"space-y-4",children:t.lowStockProducts.map(l=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:l.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Product ID: ",l.id.slice(0,8)]})]}),c.jsx("div",{className:"text-right",children:c.jsxs(An,{variant:"destructive",className:"text-xs",children:[l.stock," left"]})})]},l.id))}):c.jsx("p",{className:"text-gray-500 text-center py-8",children:"All products well stocked"})})]})]})]})},ode=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState(""),[o,a]=b.useState("all"),[l,u]=b.useState(null);b.useEffect(()=>{const y=JSON.parse(localStorage.getItem("adminOrders")||"[]");e(y),r(y)},[]),b.useEffect(()=>{let y=t;s&&(y=y.filter(_=>_.customerName.toLowerCase().includes(s.toLowerCase())||_.email.toLowerCase().includes(s.toLowerCase())||_.id.toLowerCase().includes(s.toLowerCase()))),o!=="all"&&(y=y.filter(_=>_.status.toLowerCase()===o)),r(y)},[t,s,o]);const d=(y,_)=>{const v=t.map(x=>x.id===y?{...x,status:_,updatedAt:new Date().toISOString()}:x);e(v),localStorage.setItem("adminOrders",JSON.stringify(v))},h=y=>{if(confirm("Are you sure you want to delete this order?")){const _=t.filter(v=>v.id!==y);e(_),localStorage.setItem("adminOrders",JSON.stringify(_))}},f=y=>{switch(y.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=y=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(y),w=y=>new Date(y).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=()=>{const y=[["Order ID","Customer","Email","Total","Status","Date"],...n.map(T=>[T.id,T.customerName,T.email,T.total,T.status,w(T.createdAt)])].map(T=>T.join(",")).join(`
`),_=new Blob([y],{type:"text/csv"}),v=window.URL.createObjectURL(_),x=document.createElement("a");x.href=v,x.download="orders.csv",x.click(),window.URL.revokeObjectURL(v)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage customer orders and shipping"})]}),c.jsxs(oe,{onClick:g,className:"gap-2",children:[c.jsx(vu,{className:"h-4 w-4"}),"Export CSV"]})]}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(wu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsx(_e,{placeholder:"Search orders by customer, email, or order ID...",value:s,onChange:y=>i(y.target.value),className:"pl-10"})]})}),c.jsxs(yr,{value:o,onValueChange:a,children:[c.jsxs(Qn,{className:"w-full sm:w-48",children:[c.jsx(X9,{className:"h-4 w-4 mr-2"}),c.jsx(vr,{placeholder:"Filter by status"})]}),c.jsxs(Xn,{children:[c.jsx(je,{value:"all",children:"All Orders"}),c.jsx(je,{value:"pending",children:"Pending"}),c.jsx(je,{value:"processing",children:"Processing"}),c.jsx(je,{value:"completed",children:"Completed"}),c.jsx(je,{value:"cancelled",children:"Cancelled"})]})]})]})})}),c.jsx("div",{className:"grid gap-4",children:n.length>0?n.map(y=>c.jsx(le,{className:"hover:shadow-md transition-shadow",children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",y.id.slice(0,8)]}),c.jsx(An,{className:`${f(y.status)} text-xs`,children:y.status})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Cg,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:y.customerName})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bg,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:p(y.total)})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zo,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{children:[y.items.length," item",y.items.length!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vf,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:w(y.createdAt)})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(yr,{value:y.status,onValueChange:_=>d(y.id,_),children:[c.jsx(Qn,{className:"w-32",children:c.jsx(vr,{})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"pending",children:"Pending"}),c.jsx(je,{value:"processing",children:"Processing"}),c.jsx(je,{value:"completed",children:"Completed"}),c.jsx(je,{value:"cancelled",children:"Cancelled"})]})]}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>u(y),children:c.jsx(fO,{className:"h-4 w-4"})}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>h(y.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Tg,{className:"h-4 w-4"})})]})]})})},y.id)):c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Zo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),c.jsx("p",{className:"text-gray-500",children:s||o!=="all"?"Try adjusting your search or filter criteria":"Orders will appear here when customers make purchases"})]})})})}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(le,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(dn,{children:[c.jsxs(hn,{children:["Order Details #",l.id.slice(0,8)]}),c.jsx(_r,{children:"Complete order information"})]}),c.jsxs(We,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",l.customerName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",l.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Order Date:"})," ",w(l.createdAt)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"}),c.jsx(An,{className:`ml-2 ${f(l.status)}`,children:l.status})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Shipping Address"}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{children:l.shippingAddress.street}),c.jsx("p",{children:l.shippingAddress.city}),c.jsx("p",{children:l.shippingAddress.postcode}),c.jsx("p",{children:l.shippingAddress.country})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),c.jsxs("div",{className:"space-y-2",children:[l.items.map((y,_)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:y.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",y.quantity]})]}),c.jsx("p",{className:"font-semibold",children:p(y.price*y.quantity)})]},_)),c.jsx("div",{className:"border-t pt-2 mt-4",children:c.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{children:p(l.total)})]})})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(oe,{onClick:()=>u(null),children:"Close"})})]})]})})]})},ade=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState(""),[o,a]=b.useState("all"),[l,u]=b.useState("all"),[d,h]=b.useState(!1),[f,p]=b.useState(null),[w,g]=b.useState(!0),[y,_]=b.useState(!1),[v,x]=b.useState(null),[T,I]=b.useState({name:"",description:"",price:"",category:"",series:"",rarity:"",stock:"",image:"",condition:"mint",status:"active"}),[k,C]=b.useState(null),[E,A]=b.useState("");b.useEffect(()=>{const L=async()=>{g(!0),x(null);try{const te=await wo.getProducts();console.log(" AdminProducts: Loaded products from Firebase:",te.length),e(te),r(te)}catch(te){console.error(" AdminProducts: Error loading products from Firebase:",te),x("Failed to load products from Firebase. Please check your connection.")}finally{g(!1)}},z=wo.subscribeToProducts(te=>{console.log(" AdminProducts: Real-time update from Firebase:",te.length,"products"),e(te),r(te),g(!1)});return L(),()=>{z()}},[]),b.useEffect(()=>{let L=t;s&&(L=L.filter(z=>z.name.toLowerCase().includes(s.toLowerCase())||z.description&&z.description.toLowerCase().includes(s.toLowerCase())||z.series&&z.series.toLowerCase().includes(s.toLowerCase())||z.rarity&&z.rarity.toLowerCase().includes(s.toLowerCase()))),o!=="all"&&(L=L.filter(z=>z.category===o)),l!=="all"&&(L=L.filter(z=>z.series===l)),r(L)},[t,s,o,l]);const R=["Grading","Trading Cards","Accessories","Supplies"],j=["Base Set","Jungle","Fossil","Team Rocket","Gym Heroes","Gym Challenge","Neo Genesis","Neo Discovery","Neo Destiny","Neo Revelation","Expedition","Aquapolis","Skyridge","Ruby & Sapphire","Sandstorm","Dragon","Team Magma vs Team Aqua","Hidden Legends","FireRed & LeafGreen","Team Rocket Returns","Deoxys","Emerald","Unseen Forces","Delta Species","Legend Maker","Holon Phantoms","Crystal Guardians","Dragon Frontiers","Power Keepers","Diamond & Pearl","Mysterious Treasures","Secret Wonders","Great Encounters","Majestic Dawn","Legends Awakened","Stormfront","Platinum","Rising Rivals","Supreme Victors","Arceus","HeartGold & SoulSilver","Unleashed","Undaunted","Triumphant","Black & White","Emerging Powers","Noble Victories","Next Destinies","Dark Explorers","Dragons Exalted","Boundaries Crossed","Plasma Storm","Plasma Freeze","Plasma Blast","Legendary Treasures","XY","Flashfire","Furious Fists","Phantom Forces","Primal Clash","Roaring Skies","Ancient Origins","BREAKthrough","BREAKpoint","Generations","Fates Collide","Steam Siege","Evolutions","Sun & Moon","Guardians Rising","Burning Shadows","Crimson Invasion","Ultra Prism","Forbidden Light","Celestial Storm","Dragon Majesty","Lost Thunder","Team Up","Detective Pikachu","Unbroken Bonds","Unified Minds","Hidden Fates","Cosmic Eclipse","Sword & Shield","Rebel Clash","Darkness Ablaze","Vivid Voltage","Battle Styles","Chilling Reign","Evolving Skies","Fusion Strike","Brilliant Stars","Astral Radiance","Pokemon GO","Lost Origin","Silver Tempest","Paldea Evolved","Obsidian Flames","151","Paradox Rift","Paldean Fates","Temporal Forces","Twilight Masquerade","Shrouded Fable","Stellar Crown","Surging Sparks"],N=["Common","Uncommon","Rare","Rare Holo","Ultra Rare","Secret Rare","Promo"],O=[{value:"mint",label:"Mint"},{value:"near_mint",label:"Near Mint"},{value:"lightly_played",label:"Lightly Played"},{value:"moderately_played",label:"Moderately Played"},{value:"heavily_played",label:"Heavily Played"},{value:"damaged",label:"Damaged"}],V=()=>{I({name:"",description:"",price:"",category:"",series:"",rarity:"",stock:"",image:"",condition:"mint",status:"active"}),p(null),C(null),A("")},Y=L=>{var te;const z=(te=L.target.files)==null?void 0:te[0];if(z){C(z);const J=new FileReader;J.onload=fe=>{var Z;const ke=(Z=fe.target)==null?void 0:Z.result;A(ke),I(Ie=>({...Ie,image:ke}))},J.readAsDataURL(z)}},Q=async L=>{L.preventDefault(),_(!0),x(null);try{const z={name:T.name,description:T.description,price:parseFloat(T.price),category:T.category,series:T.series||null,rarity:T.rarity||null,stock_quantity:parseInt(T.stock),image_url:T.image||E||"/api/placeholder/300/200",condition:T.condition,status:T.status};if(f)await wo.updateProduct(f.id,z),console.log(" AdminProducts: Updated product in Firebase:",f.id);else{const te=await wo.createProduct(z);console.log(" AdminProducts: Created new product in Firebase:",te.id)}V(),h(!1)}catch(z){console.error("Error saving product:",z),x("Failed to save product. Please try again.")}finally{_(!1)}},B=L=>{p(L),I({name:L.name,description:L.description||"",price:L.price.toString(),category:L.category,series:L.series||"",rarity:L.rarity||"",stock:L.stock_quantity.toString(),image:L.image_url||"",condition:L.condition,status:L.status}),A(L.image_url||""),h(!0)},M=async L=>{if(confirm("Are you sure you want to delete this product?"))try{_(!0),x(null),await wo.deleteProduct(L),console.log(" AdminProducts: Deleted product from Firebase:",L)}catch(z){console.error(" AdminProducts: Error deleting product:",z),x("Failed to delete product. Please try again.")}finally{_(!1)}},F=L=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(L),q=L=>L===0?{color:"bg-red-100 text-red-800",text:"Out of Stock"}:L<10?{color:"bg-yellow-100 text-yellow-800",text:"Low Stock"}:{color:"bg-green-100 text-green-800",text:"In Stock"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Products"}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(dO,{className:"h-3 w-3"}),"Firebase (Real-time)"]})]}),c.jsx("p",{className:"text-gray-600",children:"Manage your product catalog with Firebase real-time synchronization"}),v&&c.jsx("div",{className:"mt-2 p-3 bg-red-100 border border-red-200 rounded-lg text-red-700 text-sm",children:v})]}),c.jsxs(pT,{open:d,onOpenChange:h,children:[c.jsx(mT,{asChild:!0,children:c.jsxs(oe,{onClick:V,className:"gap-2",disabled:w||y,children:[c.jsx(Eg,{className:"h-4 w-4"}),"Add Product"]})}),c.jsxs(Uv,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs($v,{children:[c.jsx(Bv,{children:f?"Edit Product":"Add New Product"}),c.jsx(l5,{children:f?"Update product information":"Create a new product listing"})]}),c.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Product Name"}),c.jsx(_e,{value:T.name,onChange:L=>I(z=>({...z,name:L.target.value})),placeholder:"Enter product name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Category"}),c.jsxs(yr,{value:T.category,onValueChange:L=>I(z=>({...z,category:L})),children:[c.jsx(Qn,{children:c.jsx(vr,{placeholder:"Select category"})}),c.jsx(Xn,{children:R.map(L=>c.jsx(je,{value:L,children:L},L))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"TCG Series"}),c.jsxs(yr,{value:T.series,onValueChange:L=>I(z=>({...z,series:L})),children:[c.jsx(Qn,{children:c.jsx(vr,{placeholder:"Select TCG series"})}),c.jsx(Xn,{className:"max-h-60 overflow-y-auto",children:j.map(L=>c.jsx(je,{value:L,children:L},L))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Rarity"}),c.jsxs(yr,{value:T.rarity,onValueChange:L=>I(z=>({...z,rarity:L})),children:[c.jsx(Qn,{children:c.jsx(vr,{placeholder:"Select rarity"})}),c.jsx(Xn,{children:N.map(L=>c.jsx(je,{value:L,children:L},L))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Condition"}),c.jsxs(yr,{value:T.condition,onValueChange:L=>I(z=>({...z,condition:L})),children:[c.jsx(Qn,{children:c.jsx(vr,{placeholder:"Select condition"})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"mint",children:"Mint"}),c.jsx(je,{value:"near_mint",children:"Near Mint"}),c.jsx(je,{value:"lightly_played",children:"Lightly Played"}),c.jsx(je,{value:"moderately_played",children:"Moderately Played"}),c.jsx(je,{value:"heavily_played",children:"Heavily Played"}),c.jsx(je,{value:"damaged",children:"Damaged"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Description"}),c.jsx(Fu,{value:T.description,onChange:L=>I(z=>({...z,description:L.target.value})),placeholder:"Enter product description",rows:3})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),c.jsx(_e,{type:"number",step:"0.01",value:T.price,onChange:L=>I(z=>({...z,price:L.target.value})),placeholder:"0.00",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Stock Quantity"}),c.jsx(_e,{type:"number",value:T.stock,onChange:L=>I(z=>({...z,stock:L.target.value})),placeholder:"0",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Status"}),c.jsxs(yr,{value:T.status,onValueChange:L=>I(z=>({...z,status:L})),children:[c.jsx(Qn,{children:c.jsx(vr,{})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"active",children:"Active"}),c.jsx(je,{value:"inactive",children:"Inactive"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Product Image"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(_e,{type:"file",accept:"image/*",onChange:Y,className:"cursor-pointer"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Upload from your phone or device. Supported formats: JPG, PNG, GIF"}),E&&c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-sm font-medium",children:"Preview:"}),c.jsx("div",{className:"mt-2 border rounded-lg p-2 bg-gray-50",children:c.jsx("img",{src:E,alt:"Product preview",className:"max-w-full h-32 object-cover rounded"})})]}),c.jsx("div",{className:"text-xs text-gray-400",children:"Or enter image URL manually:"}),c.jsx(_e,{value:T.image,onChange:L=>{I(z=>({...z,image:L.target.value})),A(L.target.value)},placeholder:"https://example.com/image.jpg"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx(oe,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:y,children:"Cancel"}),c.jsx(oe,{type:"submit",disabled:y,children:y?"Saving...":f?"Update Product":"Create Product"})]})]})]})]})]}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(wu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsx(_e,{placeholder:"Search products by name, description, series, or rarity...",value:s,onChange:L=>i(L.target.value),className:"pl-10"})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(yr,{value:o,onValueChange:a,children:[c.jsx(Qn,{className:"w-full sm:w-48",children:c.jsx(vr,{placeholder:"Filter by category"})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"all",children:"All Categories"}),R.map(L=>c.jsx(je,{value:L,children:L},L))]})]}),c.jsxs(yr,{value:l,onValueChange:u,children:[c.jsx(Qn,{className:"w-full sm:w-48",children:c.jsx(vr,{placeholder:"Filter by series"})}),c.jsxs(Xn,{className:"max-h-60 overflow-y-auto",children:[c.jsx(je,{value:"all",children:"All Series"}),j.map(L=>c.jsx(je,{value:L,children:L},L))]})]})]})]})})}),w?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Loading products..."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(L=>{var te;const z=q(L.stock_quantity);return c.jsxs(le,{className:"hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"aspect-video bg-gray-100 rounded-t-lg overflow-hidden",children:c.jsx("img",{src:L.image_url||"/api/placeholder/300/200",alt:L.name,className:"w-full h-full object-cover"})}),c.jsx(We,{className:"pt-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg truncate",children:L.name}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:L.description})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-lg font-bold text-green-600",children:F(L.price)}),c.jsx(An,{className:z.color,children:z.text})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-500",children:[c.jsxs("span",{children:["Stock: ",L.stock_quantity]}),c.jsx("span",{children:L.category}),L.series&&c.jsxs("span",{children:["Series: ",L.series]}),L.rarity&&c.jsxs("span",{children:["Rarity: ",L.rarity]}),c.jsxs("span",{children:["Condition: ",((te=O.find(J=>J.value===L.condition))==null?void 0:te.label)||L.condition]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[c.jsx(An,{variant:L.status==="active"?"default":"secondary",children:L.status}),L.stock_quantity===0&&c.jsx(W_,{className:"h-4 w-4 text-red-500"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>B(L),disabled:y,children:c.jsx(uz,{className:"h-4 w-4"})}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>M(L.id),className:"text-red-600 hover:text-red-700",disabled:y,children:c.jsx(Tg,{className:"h-4 w-4"})})]})]})})]},L.id)}):c.jsx("div",{className:"col-span-full",children:c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Zo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:s||o!=="all"?"Try adjusting your search or filter criteria":"Start by adding your first product to the catalog"}),!s&&o==="all"&&c.jsxs(oe,{onClick:()=>h(!0),className:"gap-2",children:[c.jsx(Eg,{className:"h-4 w-4"}),"Add Your First Product"]})]})})})})})]})},lde=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState(""),[o,a]=b.useState(null);b.useEffect(()=>{const f=JSON.parse(localStorage.getItem("adminOrders")||"[]"),p=new Map;f.forEach(g=>{const y=g.email;if(p.has(y)){const _=p.get(y);_.totalOrders++,_.totalSpent+=g.total,_.lastOrderDate=g.createdAt,_.orders.push({id:g.id,total:g.total,date:g.createdAt,status:g.status})}else p.set(y,{id:y,name:g.customerName||g.email,email:g.email,totalOrders:1,totalSpent:g.total,firstOrderDate:g.createdAt,lastOrderDate:g.createdAt,status:"active",orders:[{id:g.id,total:g.total,date:g.createdAt,status:g.status}]})});const w=Array.from(p.values()).sort((g,y)=>new Date(y.lastOrderDate).getTime()-new Date(g.lastOrderDate).getTime());e(w),r(w),localStorage.setItem("adminCustomers",JSON.stringify(w))},[]),b.useEffect(()=>{if(s){const f=t.filter(p=>p.name.toLowerCase().includes(s.toLowerCase())||p.email.toLowerCase().includes(s.toLowerCase()));r(f)}else r(t)},[t,s]);const l=f=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(f),u=f=>new Date(f).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}),d=f=>f>=500?{tier:"VIP",color:"bg-purple-100 text-purple-800"}:f>=200?{tier:"Gold",color:"bg-yellow-100 text-yellow-800"}:f>=50?{tier:"Silver",color:"bg-gray-100 text-gray-800"}:{tier:"Bronze",color:"bg-orange-100 text-orange-800"},h=()=>{const f=[["Name","Email","Total Orders","Total Spent","First Order","Last Order"],...n.map(y=>[y.name,y.email,y.totalOrders,y.totalSpent,u(y.firstOrderDate),u(y.lastOrderDate)])].map(y=>y.join(",")).join(`
`),p=new Blob([f],{type:"text/csv"}),w=window.URL.createObjectURL(p),g=document.createElement("a");g.href=w,g.download="customers.csv",g.click(),window.URL.revokeObjectURL(w)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage customer relationships and data"})]}),c.jsxs(oe,{onClick:h,className:"gap-2",children:[c.jsx(vu,{className:"h-4 w-4"}),"Export CSV"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),c.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),c.jsx(Cg,{className:"h-8 w-8 text-blue-600"})]})})}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),c.jsx("p",{className:"text-2xl font-bold",children:l(t.reduce((f,p)=>f+p.totalSpent,0)/t.reduce((f,p)=>f+p.totalOrders,0)||0)})]}),c.jsx(bg,{className:"h-8 w-8 text-green-600"})]})})}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"VIP Customers"}),c.jsx("p",{className:"text-2xl font-bold",children:t.filter(f=>f.totalSpent>=500).length})]}),c.jsx(An,{className:"bg-purple-100 text-purple-800",children:"VIP"})]})})}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Repeat Customers"}),c.jsx("p",{className:"text-2xl font-bold",children:t.filter(f=>f.totalOrders>1).length})]}),c.jsx(_u,{className:"h-8 w-8 text-orange-600"})]})})})]}),c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(wu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsx(_e,{placeholder:"Search customers by name or email...",value:s,onChange:f=>i(f.target.value),className:"pl-10"})]})})}),c.jsx("div",{className:"grid gap-4",children:n.length>0?n.map(f=>{const p=d(f.totalSpent);return c.jsx(le,{className:"hover:shadow-md transition-shadow",children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h3",{className:"font-semibold text-lg",children:f.name}),c.jsx(An,{className:`${p.color} text-xs`,children:p.tier})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(By,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:f.email})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_u,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{children:[f.totalOrders," order",f.totalOrders!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bg,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:l(f.totalSpent)})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vf,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{children:["Last: ",u(f.lastOrderDate)]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>a(f),children:[c.jsx(fO,{className:"h-4 w-4"}),"View Details"]})})]})})},f.id)}):c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Cg,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No customers found"}),c.jsx("p",{className:"text-gray-500",children:s?"Try adjusting your search criteria":"Customers will appear here after they place orders"})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(le,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(dn,{children:[c.jsx(hn,{children:"Customer Details"}),c.jsx(_r,{children:o.name})]}),c.jsxs(We,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",o.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",o.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Customer Since:"})," ",u(o.firstOrderDate)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Total Orders:"})," ",o.totalOrders]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Total Spent:"})," ",l(o.totalSpent)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Tier:"}),c.jsx(An,{className:`ml-2 ${d(o.totalSpent).color}`,children:d(o.totalSpent).tier})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Order History"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.orders.sort((f,p)=>new Date(p.date).getTime()-new Date(f.date).getTime()).map(f=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Order #",f.id.slice(0,8)]}),c.jsx("p",{className:"text-sm text-gray-600",children:u(f.date)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold",children:l(f.total)}),c.jsx(An,{className:`text-xs ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="processing"?"bg-blue-100 text-blue-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})]})]},f.id))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(oe,{onClick:()=>a(null),children:"Close"})})]})]})})]})};var qv="Switch",[cde,xhe]=os(qv),[ude,dde]=cde(qv),W5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=b.useState(null),w=Be(e,x=>p(x)),g=b.useRef(!1),y=f?d||!!f.closest("form"):!0,[_,v]=oi({prop:s,defaultProp:i??!1,onChange:u,caller:qv});return c.jsxs(ude,{scope:n,checked:_,disabled:a,children:[c.jsx(xe.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Y5(_),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onClick:me(t.onClick,x=>{v(T=>!T),y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),y&&c.jsx(K5,{control:f,bubbles:!g.current,name:r,value:l,checked:_,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});W5.displayName=qv;var H5="SwitchThumb",G5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=dde(H5,n);return c.jsx(xe.span,{"data-state":Y5(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});G5.displayName=H5;var hde="SwitchBubbleInput",K5=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=b.useRef(null),a=Be(o,i),l=iT(n),u=Y1(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K5.displayName=hde;function Y5(t){return t?"checked":"unchecked"}var Q5=W5,fde=G5;const mc=b.forwardRef(({className:t,...e},n)=>c.jsx(Q5,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:c.jsx(fde,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mc.displayName=Q5.displayName;function pde({showDetailed:t=!1}){const[e,n]=b.useState({cloud:!1,local:!0,message:""}),[r,s]=b.useState(!1);b.useEffect(()=>{const o=()=>{n(Yt.getStorageStatus())};o();const a=setInterval(o,5e3);return()=>clearInterval(a)},[]);const i=async()=>{s(!0);try{await Yt.syncAllData(),n(Yt.getStorageStatus())}catch(o){console.error("Manual sync failed:",o)}finally{s(!1)}};return t?c.jsx(le,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Data Synchronization"}),c.jsxs(oe,{variant:"outline",size:"sm",onClick:i,disabled:r,className:"gap-2",children:[c.jsx(z_,{className:`h-4 w-4 ${r?"animate-spin":""}`}),r?"Syncing...":"Sync Now"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[e.cloud?c.jsx(Bo,{className:"h-5 w-5 text-green-500 mt-0.5"}):c.jsx(Pm,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:"Cloud Storage"}),c.jsx("div",{className:"text-sm text-gray-600",children:e.cloud?"Connected - Data syncs across all devices":"Not configured - Data saved locally only"}),!e.cloud&&c.jsx(An,{variant:"outline",className:"mt-2 text-xs",children:"Setup required"})]})]}),c.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[e.local?c.jsx(Bo,{className:"h-5 w-5 text-green-500 mt-0.5"}):c.jsx(Pm,{className:"h-5 w-5 text-red-500 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:"Local Storage"}),c.jsx("div",{className:"text-sm text-gray-600",children:e.local?"Available - Provides offline access":"Not available - Browser storage disabled"}),e.local&&c.jsx(An,{variant:"outline",className:"mt-2 text-xs",children:"Working"})]})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"font-medium text-sm mb-1",children:"Current Status"}),c.jsx("div",{className:"text-sm text-gray-600",children:e.message})]}),!e.cloud&&c.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Pm,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-blue-900 mb-2",children:"Enable Cross-Device Sync"}),c.jsx("div",{className:"text-sm text-blue-700 mb-3",children:"Set up free cloud storage to sync products across all your devices. Products uploaded on laptop will appear on mobile and vice versa."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(oe,{variant:"outline",size:"sm",className:"text-blue-700 border-blue-300 hover:bg-blue-100",onClick:()=>window.open("/CROSS_DEVICE_SYNC_SETUP.md","_blank"),children:[c.jsx(EP,{className:"h-4 w-4 mr-2"}),"Setup Guide"]}),c.jsxs(oe,{variant:"outline",size:"sm",className:"text-blue-700 border-blue-300 hover:bg-blue-100",onClick:()=>window.open("https://supabase.com","_blank"),children:[c.jsx(EP,{className:"h-4 w-4 mr-2"}),"Get Supabase"]})]})]})]})}),e.cloud&&c.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Bo,{className:"h-5 w-5 text-green-600"}),c.jsxs("div",{className:"text-sm text-green-800",children:[c.jsx("strong",{children:"Cross-device sync is active!"})," Products uploaded on any device will automatically appear on all your other devices."]})]})})]})})}):c.jsx("div",{className:"flex items-center gap-2",children:e.cloud?c.jsxs(c.Fragment,{children:[c.jsx(dO,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Synced"})]}):c.jsxs(c.Fragment,{children:[c.jsx(pz,{className:"h-4 w-4 text-yellow-600"}),c.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Local only"})]})})}const mde=()=>{const[t,e]=b.useState({storeName:"NAZ TCG",storeDescription:"Professional trading card grading and authentication services",contactEmail:"contact@naztcg.co.uk",supportEmail:"support@naztcg.co.uk",phone:"+44 1234 567890",address:{street:"123 Trading Card Lane",city:"London",postcode:"SW1A 1AA",country:"United Kingdom"},business:{vatNumber:"GB123456789",companyNumber:"12345678",taxRate:20},shipping:{freeShippingThreshold:50,standardShippingCost:4.99,expeditedShippingCost:9.99},payments:{stripePublishableKey:"pk_test_...",paypalEnabled:!1,bankTransferEnabled:!0},notifications:{orderEmails:!0,lowStockAlerts:!0,customerEmails:!0}}),[n,r]=b.useState(!1),[s,i]=b.useState(!1);b.useEffect(()=>{const l=localStorage.getItem("adminSettings");l&&e(JSON.parse(l))},[]);const o=async()=>{r(!0),await new Promise(l=>setTimeout(l,1e3)),localStorage.setItem("adminSettings",JSON.stringify(t)),r(!1),i(!0),setTimeout(()=>i(!1),3e3)},a=(l,u)=>{e(d=>{const h=l.split("."),f={...d};let p=f;for(let w=0;w<h.length-1;w++)p[h[w]]={...p[h[w]]},p=p[h[w]];return p[h[h.length-1]]=u,f})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Configure your store settings and preferences"})]}),c.jsx(oe,{onClick:o,disabled:n,className:"gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(az,{className:"h-4 w-4"}),"Save Changes"]})})]}),s&&c.jsxs($u,{className:"border-green-200 bg-green-50",children:[c.jsx(Bo,{className:"h-4 w-4 text-green-600"}),c.jsx(Bu,{className:"text-green-800",children:"Settings saved successfully!"})]}),c.jsx(pde,{showDetailed:!0}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(dz,{className:"h-5 w-5"}),"Store Information"]}),c.jsx(_r,{children:"Basic information about your store"})]}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Store Name"}),c.jsx(_e,{value:t.storeName,onChange:l=>a("storeName",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Contact Email"}),c.jsx(_e,{type:"email",value:t.contactEmail,onChange:l=>a("contactEmail",l.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Store Description"}),c.jsx(Fu,{value:t.storeDescription,onChange:l=>a("storeDescription",l.target.value),rows:3})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Support Email"}),c.jsx(_e,{type:"email",value:t.supportEmail,onChange:l=>a("supportEmail",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),c.jsx(_e,{value:t.phone,onChange:l=>a("phone",l.target.value)})]})]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsx(hn,{children:"Business Address"}),c.jsx(_r,{children:"Your registered business address"})]}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Street Address"}),c.jsx(_e,{value:t.address.street,onChange:l=>a("address.street",l.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"City"}),c.jsx(_e,{value:t.address.city,onChange:l=>a("address.city",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Postcode"}),c.jsx(_e,{value:t.address.postcode,onChange:l=>a("address.postcode",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Country"}),c.jsx(_e,{value:t.address.country,onChange:l=>a("address.country",l.target.value)})]})]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsx(hn,{children:"Business Details"}),c.jsx(_r,{children:"Legal and tax information"})]}),c.jsx(We,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"VAT Number"}),c.jsx(_e,{value:t.business.vatNumber,onChange:l=>a("business.vatNumber",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Company Number"}),c.jsx(_e,{value:t.business.companyNumber,onChange:l=>a("business.companyNumber",l.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Tax Rate (%)"}),c.jsx(_e,{type:"number",value:t.business.taxRate,onChange:l=>a("business.taxRate",parseFloat(l.target.value)||0)})]})]})})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(hz,{className:"h-5 w-5"}),"Shipping Settings"]}),c.jsx(_r,{children:"Configure shipping costs and thresholds"})]}),c.jsx(We,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Free Shipping Threshold ()"}),c.jsx(_e,{type:"number",step:"0.01",value:t.shipping.freeShippingThreshold,onChange:l=>a("shipping.freeShippingThreshold",parseFloat(l.target.value)||0)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Standard Shipping ()"}),c.jsx(_e,{type:"number",step:"0.01",value:t.shipping.standardShippingCost,onChange:l=>a("shipping.standardShippingCost",parseFloat(l.target.value)||0)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Express Shipping ()"}),c.jsx(_e,{type:"number",step:"0.01",value:t.shipping.expeditedShippingCost,onChange:l=>a("shipping.expeditedShippingCost",parseFloat(l.target.value)||0)})]})]})})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(hO,{className:"h-5 w-5"}),"Payment Settings"]}),c.jsx(_r,{children:"Configure payment methods and gateways"})]}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Stripe Publishable Key"}),c.jsx(_e,{type:"password",value:t.payments.stripePublishableKey,onChange:l=>a("payments.stripePublishableKey",l.target.value),placeholder:"pk_live_..."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"PayPal Payments"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Accept payments via PayPal"})]}),c.jsx(mc,{checked:t.payments.paypalEnabled,onCheckedChange:l=>a("payments.paypalEnabled",l)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Bank Transfer"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Accept bank transfer payments"})]}),c.jsx(mc,{checked:t.payments.bankTransferEnabled,onCheckedChange:l=>a("payments.bankTransferEnabled",l)})]})]})]})]}),c.jsxs(le,{children:[c.jsxs(dn,{children:[c.jsxs(hn,{className:"flex items-center gap-2",children:[c.jsx(By,{className:"h-5 w-5"}),"Notification Settings"]}),c.jsx(_r,{children:"Configure email notifications and alerts"})]}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Order Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive emails for new orders"})]}),c.jsx(mc,{checked:t.notifications.orderEmails,onCheckedChange:l=>a("notifications.orderEmails",l)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Low Stock Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when products are low in stock"})]}),c.jsx(mc,{checked:t.notifications.lowStockAlerts,onCheckedChange:l=>a("notifications.lowStockAlerts",l)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Customer Email Updates"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates to customers"})]}),c.jsx(mc,{checked:t.notifications.customerEmails,onCheckedChange:l=>a("notifications.customerEmails",l)})]})]})]})]})},gde=()=>{const{toast:t}=Of(),e=b.useRef(null),[n,r]=b.useState(Xm()),[s,i]=b.useState(!1),o=async()=>{i(!0);try{rde(),r(Xm()),t({title:"Backup Created",description:"Your data has been backed up successfully."})}catch{t({title:"Backup Failed",description:"Failed to create backup. Please try again.",variant:"destructive"})}finally{i(!1)}},a=()=>{try{sde(),t({title:"Download Started",description:"Your backup file is being downloaded."})}catch{t({title:"Download Failed",description:"Failed to download backup file.",variant:"destructive"})}},l=f=>{var w;const p=(w=f.target.files)==null?void 0:w[0];if(p){const g=new FileReader;g.onload=y=>{var v;const _=(v=y.target)==null?void 0:v.result;ide(_)?(r(Xm()),t({title:"Data Imported",description:"Your data has been restored successfully."})):t({title:"Import Failed",description:"Failed to import data. Please check the file format.",variant:"destructive"})},g.readAsText(p)}},u=f=>f?new Date(f).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(()=>{const f=JSON.parse(localStorage.getItem("adminProducts")||"[]"),p=JSON.parse(localStorage.getItem("adminOrders")||"[]"),w=JSON.parse(localStorage.getItem("adminCustomers")||"[]"),g=JSON.parse(localStorage.getItem("adminDiscountCodes")||"[]");return{products:f.length,orders:p.length,customers:w.length,discountCodes:g.length,totalRevenue:p.reduce((y,_)=>y+(_.total||0),0)}})();return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Backup, restore, and manage your store data"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(dh,{className:"h-4 w-4 text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Products"}),c.jsx("p",{className:"text-2xl font-bold",children:h.products})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ao,{className:"h-4 w-4 text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Orders"}),c.jsx("p",{className:"text-2xl font-bold",children:h.orders})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bo,{className:"h-4 w-4 text-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Customers"}),c.jsx("p",{className:"text-2xl font-bold",children:h.customers})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pl,{className:"h-4 w-4 text-orange-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Discount Codes"}),c.jsx("p",{className:"text-2xl font-bold",children:h.discountCodes})]})]})})]}),c.jsxs(le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Ao,{className:"h-5 w-5 text-green-500"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Backup Status"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Pl,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Last Backup"})]}),c.jsx("p",{className:"text-lg",children:u(n.lastBackup)})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(dh,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Backup Available"})]}),c.jsx("div",{className:"flex items-center gap-2",children:n.hasBackup?c.jsxs(c.Fragment,{children:[c.jsx(Bo,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-green-600",children:"Yes"})]}):c.jsxs(c.Fragment,{children:[c.jsx(W_,{className:"h-4 w-4 text-orange-500"}),c.jsx("span",{className:"text-orange-600",children:"No"})]})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(vu,{className:"h-5 w-5 text-blue-500"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Backup Data"})]}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Create and download a backup of all your store data including products, orders, and customers."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(oe,{onClick:o,disabled:s,className:"w-full",variant:"outline",children:s?c.jsxs(c.Fragment,{children:[c.jsx(z_,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Backup..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"mr-2 h-4 w-4"}),"Create Backup"]})}),c.jsxs(oe,{onClick:a,disabled:!n.hasBackup,className:"w-full",variant:"default",children:[c.jsx(vu,{className:"mr-2 h-4 w-4"}),"Download Backup File"]})]})]}),c.jsxs(le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(fz,{className:"h-5 w-5 text-green-500"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Restore Data"})]}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Upload and restore data from a backup file. This will replace all current data."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ye,{htmlFor:"backup-file",children:"Select Backup File"}),c.jsx(_e,{id:"backup-file",type:"file",accept:".json",ref:e,onChange:l,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),c.jsxs($u,{children:[c.jsx(W_,{className:"h-4 w-4"}),c.jsxs(Bu,{children:[c.jsx("strong",{children:"Warning:"})," Restoring data will replace all current products, orders, and customers. Make sure to create a backup first if you want to preserve current data."]})]})]})]})]}),c.jsxs(le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(z_,{className:"h-5 w-5 text-purple-500"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Automatic Backup"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[c.jsx(Bo,{className:"h-5 w-5 text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-green-800",children:"Daily Backups"}),c.jsx("p",{className:"text-sm text-green-600",children:"Automatic backups every 24 hours"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[c.jsx(dh,{className:"h-5 w-5 text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-blue-800",children:"Data Sync"}),c.jsx("p",{className:"text-sm text-blue-600",children:"Synchronized across browser tabs"})]})]})]}),c.jsxs($u,{children:[c.jsx(Ao,{className:"h-4 w-4"}),c.jsx(Bu,{children:"Your data is automatically backed up locally every 24 hours. For additional security, regularly download backup files and store them safely offline."})]})]})]})]})},yde=()=>{const{toast:t}=Of(),[e,n]=b.useState([]),[r,s]=b.useState(!1),[i,o]=b.useState(null),[a,l]=b.useState({code:"",description:"",type:"percentage",value:"",minimumOrder:"",maxUses:"",startDate:"",endDate:"",isActive:!0,isStackable:!1});b.useEffect(()=>{const v=localStorage.getItem("adminDiscountCodes");v&&n(JSON.parse(v))},[]);const u=v=>{localStorage.setItem("adminDiscountCodes",JSON.stringify(v)),n(v),window.dispatchEvent(new CustomEvent("discountCodesUpdated"))},d=()=>{l({code:"",description:"",type:"percentage",value:"",minimumOrder:"",maxUses:"",startDate:"",endDate:"",isActive:!0,isStackable:!1}),o(null)},h=v=>{if(v.preventDefault(),!a.code||!a.description||!a.value&&a.type!=="free_shipping"){t({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}if(e.some(k=>k.code.toLowerCase()===a.code.toLowerCase()&&(!i||k.id!==i.id))){t({title:"Code Exists",description:"A discount code with this name already exists.",variant:"destructive"});return}const T={id:i?i.id:`DISCOUNT-${Date.now()}`,code:a.code.toUpperCase(),description:a.description,type:a.type,value:a.type==="free_shipping"?0:parseFloat(a.value),minimumOrder:parseFloat(a.minimumOrder)||0,maxUses:parseInt(a.maxUses)||0,currentUses:i?i.currentUses:0,startDate:a.startDate,endDate:a.endDate,isActive:a.isActive,isStackable:a.isStackable,createdAt:i?i.createdAt:new Date().toISOString()};let I;i?(I=e.map(k=>k.id===i.id?T:k),t({title:"Code Updated",description:`Discount code "${T.code}" has been updated.`})):(I=[...e,T],t({title:"Code Created",description:`Discount code "${T.code}" has been created.`})),u(I),s(!1),d()},f=v=>{o(v),l({code:v.code,description:v.description,type:v.type,value:v.type==="free_shipping"?"":v.value.toString(),minimumOrder:v.minimumOrder.toString(),maxUses:v.maxUses.toString(),startDate:v.startDate,endDate:v.endDate,isActive:v.isActive,isStackable:v.isStackable||!1}),s(!0)},p=v=>{const x=e.find(T=>T.id===v);if(window.confirm(`Are you sure you want to delete the discount code "${x==null?void 0:x.code}"?`)){const T=e.filter(I=>I.id!==v);u(T),t({title:"Code Deleted",description:"Discount code has been deleted."})}},w=v=>{const x=e.map(T=>T.id===v?{...T,isActive:!T.isActive}:T);u(x),t({title:"Status Updated",description:"Discount code status has been updated."})},g=(v,x)=>v==="free_shipping"?"Free Shipping":v==="percentage"?`${x}%`:`${x.toFixed(2)}`,y=v=>v?new Date(v)<new Date:!1,_=v=>v?new Date(v)>new Date:!1;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Discount Codes"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage promotional discount codes"})]}),c.jsxs(pT,{open:r,onOpenChange:v=>{s(v),v||d()},children:[c.jsx(mT,{asChild:!0,children:c.jsxs(oe,{children:[c.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Add Discount Code"]})}),c.jsxs(Uv,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx($v,{children:c.jsx(Bv,{children:i?"Edit Discount Code":"Create New Discount Code"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"code",children:"Code *"}),c.jsx(_e,{id:"code",value:a.code,onChange:v=>l(x=>({...x,code:v.target.value.toUpperCase()})),placeholder:"SAVE20",maxLength:20})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"type",children:"Discount Type *"}),c.jsxs(yr,{value:a.type,onValueChange:v=>l(x=>({...x,type:v})),children:[c.jsx(Qn,{children:c.jsx(vr,{})}),c.jsxs(Xn,{children:[c.jsx(je,{value:"percentage",children:"Percentage (%)"}),c.jsx(je,{value:"fixed",children:"Fixed Amount ()"}),c.jsx(je,{value:"free_shipping",children:"Free Shipping"})]})]})]})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"description",children:"Description *"}),c.jsx(Fu,{id:"description",value:a.description,onChange:v=>l(x=>({...x,description:v.target.value})),placeholder:"20% off all trading cards",rows:2})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.type!=="free_shipping"&&c.jsxs("div",{children:[c.jsxs(Ye,{htmlFor:"value",children:[a.type==="percentage"?"Percentage (%)":"Amount ()"," *"]}),c.jsx(_e,{id:"value",type:"number",step:a.type==="percentage"?"1":"0.01",min:"0",max:a.type==="percentage"?"100":void 0,value:a.value,onChange:v=>l(x=>({...x,value:v.target.value})),placeholder:a.type==="percentage"?"20":"10.00"})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"minimumOrder",children:"Minimum Order ()"}),c.jsx(_e,{id:"minimumOrder",type:"number",step:"0.01",min:"0",value:a.minimumOrder,onChange:v=>l(x=>({...x,minimumOrder:v.target.value})),placeholder:"0.00"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"maxUses",children:"Max Uses (0 = unlimited)"}),c.jsx(_e,{id:"maxUses",type:"number",min:"0",value:a.maxUses,onChange:v=>l(x=>({...x,maxUses:v.target.value})),placeholder:"100"})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:v=>l(x=>({...x,isActive:v.target.checked})),className:"rounded"}),c.jsx(Ye,{htmlFor:"isActive",children:"Active"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"isStackable",checked:a.isStackable,onChange:v=>l(x=>({...x,isStackable:v.target.checked})),className:"rounded"}),c.jsx(Ye,{htmlFor:"isStackable",children:"Stackable with other discounts"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"startDate",children:"Start Date"}),c.jsx(_e,{id:"startDate",type:"datetime-local",value:a.startDate,onChange:v=>l(x=>({...x,startDate:v.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"endDate",children:"End Date"}),c.jsx(_e,{id:"endDate",type:"datetime-local",value:a.endDate,onChange:v=>l(x=>({...x,endDate:v.target.value}))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(oe,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(oe,{type:"submit",children:i?"Update Code":"Create Code"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(B_,{className:"h-5 w-5 text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Codes"}),c.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Vf,{className:"h-5 w-5 text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Codes"}),c.jsx("p",{className:"text-2xl font-bold",children:e.filter(v=>v.isActive&&!y(v.endDate)&&!_(v.startDate)).length})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(TP,{className:"h-5 w-5 text-orange-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Uses"}),c.jsx("p",{className:"text-2xl font-bold",children:e.reduce((v,x)=>v+x.currentUses,0)})]})]})}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tg,{className:"h-5 w-5 text-red-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),c.jsx("p",{className:"text-2xl font-bold",children:e.filter(v=>y(v.endDate)).length})]})]})})]}),c.jsx(le,{children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Discount Codes"}),e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(B_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No discount codes yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first discount code to get started"})]}):c.jsx("div",{className:"space-y-4",children:e.map(v=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:v.code}),c.jsx(An,{variant:v.isActive?"default":"secondary",children:v.isActive?"Active":"Inactive"}),y(v.endDate)&&c.jsx(An,{variant:"destructive",children:"Expired"}),_(v.startDate)&&c.jsx(An,{variant:"outline",children:"Not Started"}),v.isStackable&&c.jsx(An,{variant:"secondary",children:"Stackable"})]}),c.jsx("p",{className:"text-muted-foreground mb-2",children:v.description}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Discount:"}),c.jsx("p",{children:g(v.type,v.value)})]}),v.minimumOrder>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Min Order:"}),c.jsxs("p",{children:["",v.minimumOrder.toFixed(2)]})]}),v.maxUses>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Uses:"}),c.jsxs("p",{children:[v.currentUses," / ",v.maxUses]})]}),v.startDate&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Start:"}),c.jsx("p",{children:new Date(v.startDate).toLocaleDateString()})]}),v.endDate&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"End:"}),c.jsx("p",{children:new Date(v.endDate).toLocaleDateString()})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>w(v.id),children:v.isActive?"Deactivate":"Activate"}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(v),children:c.jsx(TP,{className:"h-4 w-4"})}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>p(v.id),children:c.jsx(Tg,{className:"h-4 w-4"})})]})]})},v.id))})]})})]})};var vde="Separator",aR="horizontal",wde=["horizontal","vertical"],X5=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=aR,...s}=t,i=_de(r)?r:aR,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(xe.div,{"data-orientation":i,...a,...s,ref:e})});X5.displayName=vde;function _de(t){return wde.includes(t)}var J5=X5;const Ub=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(J5,{ref:s,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ub.displayName=J5.displayName;const xde="https://elihmzzheuwmjwdqbufy.supabase.co",bde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsaWhtenpoZXV3bWp3ZHFidWZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MzY4ODcsImV4cCI6MjA3OTIxMjg4N30.ye9iiYcEwdmtTdkibhYrTfrM0NsYRCAsA2VDuTE9sq4";let pe;pe=z5(xde,bde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function Sde(){const t=Date.now().toString().slice(-6),e=Math.random().toString(36).substring(2,6).toUpperCase();return`NAZ${t}${e}`}class Ede{async getProducts(e){try{let n=pe.from("products").select(`
          *,
          variants:product_variants(*)
        `).eq("status","active").order("created_at",{ascending:!1});e!=null&&e.category&&(n=n.eq("category",e.category)),e!=null&&e.series&&(n=n.eq("series",e.series)),e!=null&&e.rarity&&(n=n.eq("rarity",e.rarity)),e!=null&&e.minPrice&&(n=n.gte("base_price",e.minPrice)),e!=null&&e.maxPrice&&(n=n.lte("base_price",e.maxPrice)),e!=null&&e.search&&(n=n.or(`name.ilike.%${e.search}%,description.ilike.%${e.search}%`));const{data:r,error:s}=await n;if(s)throw console.error("Error fetching products:",s),s;return r||[]}catch(n){throw console.error("Product service error:",n),n}}async getProductById(e){try{const{data:n,error:r}=await pe.from("products").select(`
          *,
          variants:product_variants(*)
        `).eq("id",e).eq("status","active").single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(n){throw console.error("Error fetching product:",n),n}}async createProduct(e){try{const{data:n,error:r}=await pe.from("products").insert({...e,status:e.status||"active"}).select().single();if(r)throw console.error("Error creating product:",r),r;return e.stock_quantity>0&&await this.logInventoryChange(n.id,null,"restock",e.stock_quantity,0),n}catch(n){throw console.error("Product creation error:",n),n}}async updateProduct(e,n){try{const r=await pe.from("products").select("stock_quantity").eq("id",e).single(),{data:s,error:i}=await pe.from("products").update(n).eq("id",e).select().single();if(i)throw console.error("Error updating product:",i),i;if(r.data&&n.stock_quantity!==void 0&&n.stock_quantity!==r.data.stock_quantity){const o=n.stock_quantity-r.data.stock_quantity,a=o>0?"restock":"adjustment";await this.logInventoryChange(e,null,a,o,r.data.stock_quantity)}return s}catch(r){throw console.error("Product update error:",r),r}}async deleteProduct(e){try{const{error:n}=await pe.from("products").update({status:"discontinued"}).eq("id",e);if(n)throw console.error("Error deleting product:",n),n}catch(n){throw console.error("Product deletion error:",n),n}}async createProductVariant(e){try{const{data:n,error:r}=await pe.from("product_variants").insert({...e,status:e.status||"available"}).select().single();if(r)throw console.error("Error creating variant:",r),r;return e.stock_quantity>0&&await this.logInventoryChange(null,n.id,"restock",e.stock_quantity,0),n}catch(n){throw console.error("Variant creation error:",n),n}}async updateProductVariant(e,n){try{const r=await pe.from("product_variants").select("stock_quantity").eq("id",e).single(),{data:s,error:i}=await pe.from("product_variants").update(n).eq("id",e).select().single();if(i)throw console.error("Error updating variant:",i),i;if(r.data&&n.stock_quantity!==void 0&&n.stock_quantity!==r.data.stock_quantity){const o=n.stock_quantity-r.data.stock_quantity,a=o>0?"restock":"adjustment";await this.logInventoryChange(null,e,a,o,r.data.stock_quantity)}return s}catch(r){throw console.error("Variant update error:",r),r}}async checkAvailability(e,n,r=1){try{if(n){const{data:s}=await pe.from("product_variants").select("stock_quantity, status").eq("id",n).eq("status","available").single();return s?s.stock_quantity>=r:!1}if(e){const{data:s}=await pe.from("products").select("stock_quantity, status").eq("id",e).eq("status","active").single();return s?s.stock_quantity>=r:!1}return!1}catch(s){return console.error("Error checking availability:",s),!1}}async reserveStock(e,n,r=1,s){try{if(n){const{data:i}=await pe.from("product_variants").select("stock_quantity").eq("id",n).single();if(!i||i.stock_quantity<r)return!1;const{error:o}=await pe.from("product_variants").update({stock_quantity:i.stock_quantity-r}).eq("id",n);return o||await this.logInventoryChange(null,n,"reserve",-r,i.stock_quantity,s),!o}if(e){const{data:i}=await pe.from("products").select("stock_quantity").eq("id",e).single();if(!i||i.stock_quantity<r)return!1;const{error:o}=await pe.from("products").update({stock_quantity:i.stock_quantity-r}).eq("id",e);return o||await this.logInventoryChange(e,null,"reserve",-r,i.stock_quantity,s),!o}return!1}catch(i){return console.error("Error reserving stock:",i),!1}}async releaseStock(e,n,r=1,s){try{if(n){const{data:i}=await pe.from("product_variants").select("stock_quantity").eq("id",n).single();if(!i)return!1;const{error:o}=await pe.from("product_variants").update({stock_quantity:i.stock_quantity+r}).eq("id",n);return o||await this.logInventoryChange(null,n,"release",r,i.stock_quantity,s),!o}if(e){const{data:i}=await pe.from("products").select("stock_quantity").eq("id",e).single();if(!i)return!1;const{error:o}=await pe.from("products").update({stock_quantity:i.stock_quantity+r}).eq("id",e);return o||await this.logInventoryChange(e,null,"release",r,i.stock_quantity,s),!o}return!1}catch(i){return console.error("Error releasing stock:",i),!1}}async getCategories(){try{const{data:e,error:n}=await pe.from("products").select("category").eq("status","active");if(n)throw n;return[...new Set(e.map(s=>s.category))].sort()}catch(e){return console.error("Error fetching categories:",e),[]}}async getSeries(){try{const{data:e,error:n}=await pe.from("products").select("series").eq("status","active");if(n)throw n;return[...new Set(e.map(s=>s.series))].sort()}catch(e){return console.error("Error fetching series:",e),[]}}async logInventoryChange(e,n,r,s,i,o,a,l,u){try{await pe.from("inventory_log").insert({product_id:e,product_variant_id:n,change_type:r,quantity_change:s,previous_quantity:i,new_quantity:i+s,reference_id:o,reference_type:a,notes:l,created_by:u})}catch(d){console.error("Error logging inventory change:",d)}}async getInventoryLog(e,n,r=50){try{let s=pe.from("inventory_log").select("*").order("created_at",{ascending:!1}).limit(r);e&&(s=s.eq("product_id",e)),n&&(s=s.eq("product_variant_id",n));const{data:i,error:o}=await s;if(o)throw o;return i||[]}catch(s){return console.error("Error fetching inventory log:",s),[]}}}const gc=new Ede;class Tde{constructor(){ie(this,"sessionId");ie(this,"cartId",null);this.sessionId=this.getOrCreateSessionId()}async initializeCart(e){try{let{data:n}=await pe.from("carts").select("*").eq("session_id",this.sessionId).gt("expires_at",new Date().toISOString()).single();if(n)return this.cartId=n.id,n;const{data:r,error:s}=await pe.from("carts").insert({session_id:this.sessionId,customer_id:e,expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).select().single();if(s)throw s;return this.cartId=r.id,r}catch(n){throw console.error("Error initializing cart:",n),n}}async addToCart(e){try{if(this.cartId||await this.initializeCart(),!await gc.checkAvailability(e.productId,e.variantId,e.quantity))throw new Error("Product is not available in requested quantity");const{data:r}=await pe.from("cart_items").select("*").eq("cart_id",this.cartId).eq("product_id",e.productId||null).eq("product_variant_id",e.variantId||null).maybeSingle();let s;if(r){const i=r.quantity+e.quantity;if(!await gc.checkAvailability(e.productId,e.variantId,i))throw new Error("Cannot add more items - insufficient stock");const{data:a,error:l}=await pe.from("cart_items").update({quantity:i}).eq("id",r.id).select().single();if(l)throw l;s=a}else{const{data:i,error:o}=await pe.from("cart_items").insert({cart_id:this.cartId,product_id:e.productId,product_variant_id:e.variantId,quantity:e.quantity}).select().single();if(o)throw o;s=i}return await this.enrichCartItem(s)}catch(n){throw console.error("Error adding to cart:",n),n}}async updateCartItem(e,n){try{if(n<=0)return await this.removeFromCart(e);const{data:r}=await pe.from("cart_items").select("*").eq("id",e).single();if(!r)throw new Error("Cart item not found");if(!await gc.checkAvailability(r.product_id||void 0,r.product_variant_id||void 0,n))throw new Error("Product is not available in requested quantity");const{data:i,error:o}=await pe.from("cart_items").update({quantity:n}).eq("id",e).select().single();if(o)throw o;return await this.enrichCartItem(i)}catch(r){throw console.error("Error updating cart item:",r),r}}async removeFromCart(e){try{const{error:n}=await pe.from("cart_items").delete().eq("id",e);if(n)throw n}catch(n){throw console.error("Error removing from cart:",n),n}}async getCart(){try{this.cartId||await this.initializeCart();const{data:e,error:n}=await pe.from("cart_items").select("*").eq("cart_id",this.cartId).order("added_at",{ascending:!0});if(n)throw n;const r=await Promise.all((e||[]).map(a=>this.enrichCartItem(a))),s=r.reduce((a,l)=>a+l.displayPrice*l.quantity,0),i=r.length,o=r.reduce((a,l)=>a+l.quantity,0);return{items:r,subtotal:s,itemCount:i,totalQuantity:o}}catch(e){return console.error("Error getting cart:",e),{items:[],subtotal:0,itemCount:0,totalQuantity:0}}}async clearCart(){try{if(!this.cartId)return;const{error:e}=await pe.from("cart_items").delete().eq("cart_id",this.cartId);if(e)throw e}catch(e){throw console.error("Error clearing cart:",e),e}}async validateCart(){try{const e=await this.getCart(),n=[],r=[];for(const i of e.items)i.isAvailable?i.quantity>i.maxQuantity&&(await this.updateCartItem(i.id,i.maxQuantity),r.push(`${i.displayName} (reduced to ${i.maxQuantity})`)):(await this.removeFromCart(i.id),n.push(i.displayName));const s=await this.getCart();return{isValid:n.length===0&&r.length===0,removedItems:n,updatedItems:r,cart:s}}catch(e){throw console.error("Error validating cart:",e),e}}async reserveCartItems(){try{const e=await this.getCart();for(const n of e.items)if(!await gc.reserveStock(n.product_id||void 0,n.product_variant_id||void 0,n.quantity,this.cartId))return await this.releaseCartItems(),!1;return!0}catch(e){return console.error("Error reserving cart items:",e),!1}}async releaseCartItems(){try{const e=await this.getCart();for(const n of e.items)await gc.releaseStock(n.product_id||void 0,n.product_variant_id||void 0,n.quantity,this.cartId)}catch(e){console.error("Error releasing cart items:",e)}}async mergeCarts(e){try{if(!this.cartId||this.cartId===e)return;const{data:n}=await pe.from("cart_items").select("*").eq("cart_id",this.cartId);if(!n||n.length===0)return;for(const r of n){const{data:s}=await pe.from("cart_items").select("*").eq("cart_id",e).eq("product_id",r.product_id||null).eq("product_variant_id",r.product_variant_id||null).maybeSingle();s?await pe.from("cart_items").update({quantity:s.quantity+r.quantity}).eq("id",s.id):await pe.from("cart_items").update({cart_id:e}).eq("id",r.id)}await this.clearCart(),this.cartId=e}catch(n){throw console.error("Error merging carts:",n),n}}async enrichCartItem(e){try{let n=null,r=null,s="Unknown Product",i=0,o,a=!1,l=0;if(e.product_variant_id){const{data:u}=await pe.from("product_variants").select(`
            *,
            product:products(*)
          `).eq("id",e.product_variant_id).single();u&&(r=u,n=u.product,s=`${n.name}${r.grade?` (Grade ${r.grade})`:""}`,i=r.price,o=n.image_url,a=r.status==="available"&&r.stock_quantity>0,l=r.stock_quantity)}else if(e.product_id){const{data:u}=await pe.from("products").select("*").eq("id",e.product_id).single();u&&(n=u,s=n.name,i=n.base_price,o=n.image_url,a=n.status==="active"&&n.stock_quantity>0,l=n.stock_quantity)}return{...e,product:n||void 0,variant:r||void 0,displayName:s,displayPrice:i,displayImage:o,isAvailable:a,maxQuantity:l}}catch(n){return console.error("Error enriching cart item:",n),{...e,displayName:"Error Loading Product",displayPrice:0,isAvailable:!1,maxQuantity:0}}}getOrCreateSessionId(){let e=localStorage.getItem("naz_session_id");return e||(e="sess_"+Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("naz_session_id",e)),e}async getCartItemCount(){try{this.cartId||await this.initializeCart();const{data:e,error:n}=await pe.from("cart_items").select("quantity").eq("cart_id",this.cartId);return n?0:(e||[]).reduce((r,s)=>r+s.quantity,0)}catch(e){return console.error("Error getting cart item count:",e),0}}}const Fa=new Tde,lR={CA:.0875,NY:.08,TX:.0625,FL:.06,WA:.065,DEFAULT:.0875},cR={standard:9.99,expedited:19.99,overnight:39.99,free:0};class Cde{async calculateOrderSummary(e,n,r="standard",s){try{const i=e.subtotal,o=lR[n.toUpperCase()]||lR.DEFAULT,a=Number((i*o).toFixed(2));let l=cR[r]||cR.standard;i>=200&&(l=0);let u=0;s&&(u=await this.calculateDiscount(s,i));const d=Number((i+a+l-u).toFixed(2));return{subtotal:i,tax_amount:a,shipping_amount:l,discount_amount:u,total_amount:d}}catch(i){throw console.error("Error calculating order summary:",i),i}}async createPaymentIntent(e){try{if((await Fa.getCart()).items.length===0)throw new Error("Cart is empty");const r=await Fa.validateCart();if(!r.isValid)throw new Error("Some items in your cart are no longer available");if(!await Fa.reserveCartItems())throw new Error("Unable to reserve items - please try again");const i=await this.calculateOrderSummary(r.cart,e.shipping_address.state,e.shipping_method,e.discount_code),o=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Math.round(i.total_amount*100),currency:"usd",metadata:{customer_email:e.email,item_count:r.cart.itemCount,total_quantity:r.cart.totalQuantity}})});if(!o.ok)throw await Fa.releaseCartItems(),new Error("Failed to create payment intent");const{client_secret:a}=await o.json();return{client_secret:a,amount:i.total_amount,currency:"usd"}}catch(n){throw console.error("Error creating payment intent:",n),await Fa.releaseCartItems(),n}}async createOrder(e,n){var r,s;try{const i=await Fa.getCart();if(i.items.length===0)throw new Error("Cart is empty");const o=await this.calculateOrderSummary(i,e.shipping_address.state,e.shipping_method,e.discount_code);let a=null;const{data:l}=await pe.from("customers").select("*").eq("email",e.email).maybeSingle();if(l)a=l;else{const{data:f,error:p}=await pe.from("customers").insert({email:e.email,first_name:e.billing_address.first_name,last_name:e.billing_address.last_name}).select().single();p?console.error("Error creating customer:",p):a=f}const u=Sde(),{data:d,error:h}=await pe.from("orders").insert({order_number:u,customer_id:a==null?void 0:a.id,email:e.email,status:"processing",payment_status:"paid",payment_intent_id:n,subtotal:o.subtotal,tax_amount:o.tax_amount,shipping_amount:o.shipping_amount,discount_amount:o.discount_amount,total_amount:o.total_amount,currency:"USD",billing_address:e.billing_address,shipping_address:e.shipping_address,shipping_method:e.shipping_method,notes:e.notes}).select().single();if(h)throw console.error("Error creating order:",h),h;for(const f of i.items)await pe.from("order_items").insert({order_id:d.id,product_id:f.product_id,product_variant_id:f.product_variant_id,product_name:f.displayName,product_image:f.displayImage,grade:(r=f.variant)==null?void 0:r.grade,serial_number:(s=f.variant)==null?void 0:s.serial_number,quantity:f.quantity,unit_price:f.displayPrice,total_price:f.displayPrice*f.quantity}),await gc.reserveStock(f.product_id||void 0,f.product_variant_id||void 0,f.quantity,d.id);return e.discount_code&&await this.useDiscountCode(e.discount_code),await Fa.clearCart(),d}catch(i){throw console.error("Error creating order:",i),i}}async getOrderById(e){try{const{data:n,error:r}=await pe.from("orders").select(`
          *,
          items:order_items(*),
          customer:customers(*)
        `).eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(n){return console.error("Error fetching order:",n),null}}async getOrderByNumber(e){try{const{data:n,error:r}=await pe.from("orders").select(`
          *,
          items:order_items(*),
          customer:customers(*)
        `).eq("order_number",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(n){return console.error("Error fetching order:",n),null}}async getOrders(e=1,n=20,r,s){try{let i=pe.from("orders").select(`
          *,
          items:order_items(*),
          customer:customers(*)
        `,{count:"exact"}).order("created_at",{ascending:!1});r&&(i=i.eq("status",r)),s&&(i=i.eq("payment_status",s));const o=(e-1)*n,a=o+n-1,{data:l,error:u,count:d}=await i.range(o,a);if(u)throw u;return{orders:l||[],total:d||0,hasMore:(d||0)>a+1}}catch(i){return console.error("Error fetching orders:",i),{orders:[],total:0,hasMore:!1}}}async updateOrderStatus(e,n){try{const{data:r,error:s}=await pe.from("orders").update({status:n}).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw console.error("Error updating order status:",r),r}}async addTrackingNumber(e,n){try{const{data:r,error:s}=await pe.from("orders").update({tracking_number:n,status:"shipped"}).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw console.error("Error adding tracking number:",r),r}}async validateDiscountCode(e,n){try{const{data:r,error:s}=await pe.from("discount_codes").select("*").eq("code",e.toUpperCase()).eq("is_active",!0).single();if(s||!r)return{isValid:!1,message:"Invalid discount code"};const i=new Date;return r.starts_at&&new Date(r.starts_at)>i?{isValid:!1,message:"Discount code is not yet active"}:r.expires_at&&new Date(r.expires_at)<i?{isValid:!1,message:"Discount code has expired"}:r.usage_limit&&r.usage_count>=r.usage_limit?{isValid:!1,message:"Discount code has reached its usage limit"}:n<r.minimum_order_amount?{isValid:!1,message:`Minimum order amount of $${r.minimum_order_amount} required`}:{isValid:!0,discount:this.calculateDiscountAmount(r,n),message:`${r.description||"Discount applied"}`}}catch(r){return console.error("Error validating discount code:",r),{isValid:!1,message:"Error validating discount code"}}}calculateDiscountAmount(e,n){return e.type==="percentage"?Number((n*(e.value/100)).toFixed(2)):Math.min(e.value,n)}async calculateDiscount(e,n){const r=await this.validateDiscountCode(e,n);return r.isValid&&r.discount||0}async useDiscountCode(e){try{await pe.rpc("increment_discount_usage",{discount_code:e.toUpperCase()})}catch(n){console.error("Error using discount code:",n)}}async getCustomerOrders(e){try{const{data:n,error:r}=await pe.from("orders").select(`
          *,
          items:order_items(*),
          customer:customers(*)
        `).eq("email",e).order("created_at",{ascending:!1});if(r)throw r;return n||[]}catch(n){return console.error("Error fetching customer orders:",n),[]}}}const Pde=new Cde,Ade=()=>{const t=Bl(),{toast:e}=Of(),{items:n,clearCart:r,loading:s,totalAmount:i}=xv(),[o,a]=b.useState(!1),[l,u]=b.useState({name:"",email:"",phone:"",address:"",city:"",postcode:"",country:"United Kingdom"}),[d,h]=b.useState(""),[f,p]=b.useState([]),[w,g]=b.useState(""),y=i,_=y>50?0:4.99;let v=0,x=!1;f.forEach(N=>{N.type==="free_shipping"?x=!0:N.type==="percentage"?v+=y*N.value/100:N.type==="fixed"&&(v+=N.value)}),v=Math.min(v,y);const T=x?0:_,I=y-v+T;if(s)return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx(Sg,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),c.jsx("p",{children:"Loading checkout..."})]})}),c.jsx(ns,{})]});if(n.length===0)return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some items to your cart before checking out."}),c.jsx(oe,{onClick:()=>t("/shop"),variant:"premium",children:"Continue Shopping"})]})}),c.jsx(ns,{})]});const k=(N,O)=>{u(V=>({...V,[N]:O}))},C=()=>{if(!d.trim()){g("Please enter a discount code");return}const N=localStorage.getItem("adminDiscountCodes"),V=(N?JSON.parse(N):[]).find(M=>M.code.toLowerCase()===d.toLowerCase().trim());if(!V){g("Invalid discount code");return}if(f.some(M=>M.id===V.id)){g("This discount code is already applied");return}const Y=f.some(M=>!M.isStackable),Q=V.isStackable;if(f.length>0&&(!Q||Y)){g("This discount cannot be combined with other offers");return}if(V.type==="free_shipping"&&f.some(M=>M.type==="free_shipping")){g("Only one free shipping code can be applied");return}if(!V.isActive){g("This discount code is not active");return}if(V.startDate&&new Date(V.startDate)>new Date){g("This discount code is not yet valid");return}if(V.endDate&&new Date(V.endDate)<new Date){g("This discount code has expired");return}if(V.minimumOrder>0&&y<V.minimumOrder){g(`Minimum order of ${V.minimumOrder.toFixed(2)} required for this discount`);return}if(V.maxUses>0&&V.currentUses>=V.maxUses){g("This discount code has reached its usage limit");return}p(M=>[...M,V]),h(""),g("");const B=V.type==="free_shipping"?"Free Shipping":V.type==="percentage"?V.value+"% off":""+V.value.toFixed(2)+" off";e({title:"Discount Applied!",description:`${V.description} - ${B}`})},E=N=>{p(O=>O.filter(V=>V.id!==N)),g(""),e({title:"Discount Removed",description:"Discount code has been removed from your order."})},A=()=>{p([]),h(""),g(""),e({title:"All Discounts Removed",description:"All discount codes have been removed from your order."})},R=async N=>{try{a(!0);const O={customerInfo:{name:l.name,email:l.email,phone:l.phone,address:l.address,city:l.city,postcode:l.postcode,country:l.country},appliedDiscounts:f.map(Y=>({code:Y.code,type:Y.type,value:Y.value,description:Y.description})),paymentIntentId:N.paymentIntentId},V=await Pde.createOrder(O);await r(),t("/order-confirmation",{state:{orderData:V,isProductOrder:!0}}),e({title:"Order confirmed!",description:"Thank you for your purchase. Your order has been confirmed."})}catch(O){console.error("Order creation error:",O),e({title:"Order processing failed",description:O.message||"There was an error processing your order. Please contact support.",variant:"destructive"})}finally{a(!1)}},j=l.name&&l.email&&l.address&&l.city&&l.postcode;return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Ir,{}),c.jsx("main",{className:"flex-grow pt-24 pb-12",children:c.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"}),c.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase"})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"name",children:"Full Name *"}),c.jsx(_e,{id:"name",value:l.name,onChange:N=>k("name",N.target.value),placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"email",children:"Email Address *"}),c.jsx(_e,{id:"email",type:"email",value:l.email,onChange:N=>k("email",N.target.value),placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"phone",children:"Phone Number"}),c.jsx(_e,{id:"phone",type:"tel",value:l.phone,onChange:N=>k("phone",N.target.value),placeholder:"Enter your phone number"})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"address",children:"Address *"}),c.jsx(_e,{id:"address",value:l.address,onChange:N=>k("address",N.target.value),placeholder:"Enter your address"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"city",children:"City *"}),c.jsx(_e,{id:"city",value:l.city,onChange:N=>k("city",N.target.value),placeholder:"Enter city"})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"postcode",children:"Postcode *"}),c.jsx(_e,{id:"postcode",value:l.postcode,onChange:N=>k("postcode",N.target.value),placeholder:"Enter postcode"})]})]}),c.jsxs("div",{children:[c.jsx(Ye,{htmlFor:"country",children:"Country"}),c.jsx(_e,{id:"country",value:l.country,onChange:N=>k("country",N.target.value),placeholder:"United Kingdom"})]})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),c.jsxs("div",{className:"space-y-4",children:[n.map(N=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 bg-secondary rounded",children:c.jsx("img",{src:N.product.image_url||"/placeholder.svg",alt:N.product.name,className:"w-full h-full object-cover rounded",onError:O=>{O.target.src="/placeholder.svg"}})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium",children:N.product.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",N.quantity,"  ",N.product.price.toLocaleString()]})]}),c.jsxs("div",{className:"font-medium",children:["",(N.product.price*N.quantity).toLocaleString()]})]},N.id)),c.jsx(Ub,{}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["",y.toLocaleString()]})]}),f.map(N=>c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{children:N.type==="free_shipping"?"Free Shipping":`Discount (${N.code})`}),c.jsx("span",{children:N.type==="free_shipping"?`-${_.toFixed(2)}`:N.type==="percentage"?`-${(y*N.value/100).toFixed(2)}`:`-${Math.min(N.value,y).toFixed(2)}`})]},N.id)),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Shipping"}),c.jsx("span",{children:T===0?"Free":`${T.toFixed(2)}`})]}),c.jsx(Ub,{}),c.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["",I.toLocaleString()]})]})]}),y<50&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Add ",(50-y).toFixed(2)," more for free shipping!"]})]})]}),c.jsxs(le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Discount Codes"}),f.length>1&&c.jsx(oe,{variant:"outline",size:"sm",onClick:A,className:"text-red-600 hover:text-red-700",children:"Remove All"})]}),f.length>0&&c.jsx("div",{className:"space-y-3 mb-4",children:f.map(N=>c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-green-800",children:N.code}),c.jsx("p",{className:"text-sm text-green-600",children:N.description}),c.jsx("p",{className:"text-sm text-green-600",children:N.type==="free_shipping"?`Free Shipping: ${_.toFixed(2)} saved`:`Savings: ${N.type==="percentage"?(y*N.value/100).toFixed(2):Math.min(N.value,y).toFixed(2)}`})]}),c.jsx(oe,{variant:"outline",size:"sm",onClick:()=>E(N.id),className:"text-red-600 hover:text-red-700",children:"Remove"})]})},N.id))}),(f.length===0||f.some(N=>N.isStackable))&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(_e,{placeholder:"Enter discount code",value:d,onChange:N=>{h(N.target.value),g("")},className:w?"border-red-500":""}),c.jsx(oe,{onClick:C,disabled:!d.trim(),variant:"outline",children:"Apply"})]}),w&&c.jsx("p",{className:"text-sm text-red-600",children:w})]})]}),c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment"}),j?c.jsxs(c.Fragment,{children:[o&&c.jsxs("div",{className:"text-center py-4 mb-4",children:[c.jsx(Sg,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"Processing your order..."})]}),c.jsx(c5,{amount:Math.round(I*100),currency:"gbp",description:`Purchase of ${n.length} item(s)`,customerEmail:l.email,onSuccess:R,onError:N=>{console.error("Payment error:",N),a(!1),e({title:"Payment failed",description:N.message||"Please try again.",variant:"destructive"})},disabled:o})]}):c.jsxs("div",{className:"text-center py-4",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"Please fill in all required shipping information to continue."}),c.jsx(oe,{disabled:!0,variant:"outline",children:"Complete Payment"})]})]})]})]})]})}),c.jsx(ns,{})]})},Ide=()=>{const t=hi();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};var Z5="clover",Nde=function(e){return e===3?"v3":e},e$="https://js.stripe.com",kde="".concat(e$,"/").concat(Z5,"/stripe.js"),Rde=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,jde=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,uR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ode=function(e){return Rde.test(e)||jde.test(e)},Dde=function(){for(var e=document.querySelectorAll('script[src^="'.concat(e$,'"]')),n=0;n<e.length;n++){var r=e[n];if(Ode(r.src))return r}return null},dR=function(e){var n="",r=document.createElement("script");r.src="".concat(kde).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Mde=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.4.0",startTime:n})},Ud=null,um=null,dm=null,Lde=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Vde=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Fde=function(e){return Ud!==null?Ud:(Ud=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(uR),window.Stripe){n(window.Stripe);return}try{var s=Dde();if(s&&e)console.warn(uR);else if(!s)s=dR(e);else if(s&&dm!==null&&um!==null){var i;s.removeEventListener("load",dm),s.removeEventListener("error",um),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=dR(e)}dm=Vde(n,r),um=Lde(r),s.addEventListener("load",dm),s.addEventListener("error",um)}catch(o){r(o);return}}),Ud.catch(function(n){return Ud=null,Promise.reject(n)}))},Ude=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),o=Nde(e.version),a=Z5;i&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.4.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return Mde(l,r),l},$d,t$=!1,n$=function(){return $d||($d=Fde(null).catch(function(e){return $d=null,Promise.reject(e)}),$d)};Promise.resolve().then(function(){return n$()}).catch(function(t){t$||console.warn(t)});var $de=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t$=!0;var s=Date.now();return n$().then(function(i){return Ude(i,n,s)})};const Bde="pk_test_your_publishable_key_here",zde=$de(Bde),qde=({children:t})=>(console.log(" STRIPE: Using environment variable key"),c.jsx(F3,{stripe:zde,children:t})),Wde=()=>{b.useEffect(()=>{q5(),Gde();const t=e=>{const n=e.detail,r=JSON.parse(localStorage.getItem("adminOrders")||"[]"),s={id:n.id||Date.now().toString(),customerName:n.customerName||n.email,email:n.email,total:n.total,status:"pending",items:n.items||[],shippingAddress:n.shippingAddress||{street:"",city:"",postcode:"",country:"United Kingdom"},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r.unshift(s),localStorage.setItem("adminOrders",JSON.stringify(r)),Hde(s)};return window.addEventListener("orderCreated",t),()=>{window.removeEventListener("orderCreated",t)}},[])},Hde=t=>{const e=JSON.parse(localStorage.getItem("adminCustomers")||"[]"),n=e.findIndex(r=>r.email===t.email);if(n>=0){const r=e[n];r.totalOrders=(r.totalOrders||0)+1,r.totalSpent=(r.totalSpent||0)+t.total,r.lastOrderDate=t.createdAt,r.orders=r.orders||[],r.orders.push({id:t.id,total:t.total,date:t.createdAt,status:t.status})}else{const r={id:t.email,name:t.customerName||t.email,email:t.email,totalOrders:1,totalSpent:t.total,firstOrderDate:t.createdAt,lastOrderDate:t.createdAt,status:"active",orders:[{id:t.id,total:t.total,date:t.createdAt,status:t.status}]};e.push(r)}localStorage.setItem("adminCustomers",JSON.stringify(e))},Gde=async()=>{if(!localStorage.getItem("adminProducts"))try{if((await Yt.loadProducts()).length===0){console.log(" Creating initial sample products (both local and cloud empty)");const n=[{id:Date.now().toString(),name:"PSA Card Grading Service",description:"Professional card grading and authentication service",price:25,category:"Grading",series:"",rarity:"",stock:100,image:"/api/placeholder/300/200",status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:(Date.now()+1).toString(),name:"BGS Card Grading Service",description:"Beckett Grading Services authentication",price:30,category:"Grading",series:"",rarity:"",stock:75,image:"/api/placeholder/300/200",status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:(Date.now()+2).toString(),name:"Card Sleeves (100 pack)",description:"Premium card protection sleeves",price:12.99,category:"Accessories",series:"",rarity:"",stock:50,image:"/api/placeholder/300/200",status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];localStorage.setItem("adminProducts",JSON.stringify(n))}else console.log(" Cloud has products, skipping sample data creation")}catch(e){console.error("Error checking cloud products:",e)}localStorage.getItem("adminOrders")||localStorage.setItem("adminOrders",JSON.stringify([])),localStorage.getItem("adminCustomers")||localStorage.setItem("adminCustomers",JSON.stringify([]))},Kde=new V7,Yde=()=>(Wde(),b.useEffect(()=>{q5()},[]),c.jsx(U7,{client:Kde,children:c.jsxs(p7,{children:[c.jsx(Xz,{}),c.jsx(I8,{}),c.jsx(qde,{children:c.jsx(WJ,{children:c.jsx($W,{children:c.jsxs(jW,{children:[c.jsx(Lt,{path:"/",element:c.jsx(Xie,{})}),c.jsx(Lt,{path:"/shop",element:c.jsx(Eae,{})}),c.jsx(Lt,{path:"/product/:id",element:c.jsx(Tae,{})}),c.jsx(Lt,{path:"/cart",element:c.jsx(Cae,{})}),c.jsx(Lt,{path:"/checkout",element:c.jsx(Ade,{})}),c.jsx(Lt,{path:"/submit",element:c.jsx(jle,{})}),c.jsx(Lt,{path:"/verify",element:c.jsx(Ole,{})}),c.jsx(Lt,{path:"/order-confirmation",element:c.jsx(Dle,{})}),c.jsx(Lt,{path:"/admin/login",element:c.jsx(Vle,{})}),c.jsxs(Lt,{path:"/admin",element:c.jsx(Fle,{}),children:[c.jsx(Lt,{index:!0,element:c.jsx(oR,{})}),c.jsx(Lt,{path:"dashboard",element:c.jsx(oR,{})}),c.jsx(Lt,{path:"orders",element:c.jsx(ode,{})}),c.jsx(Lt,{path:"products",element:c.jsx(ade,{})}),c.jsx(Lt,{path:"customers",element:c.jsx(lde,{})}),c.jsx(Lt,{path:"discount-codes",element:c.jsx(yde,{})}),c.jsx(Lt,{path:"settings",element:c.jsx(mde,{})}),c.jsx(Lt,{path:"data",element:c.jsx(gde,{})})]}),c.jsx(Lt,{path:"*",element:c.jsx(Ide,{})})]})})})})]})})),Qde="/assets/NAZ%20FAVICON-DSYMVr14.png";function Xde(t){let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.head.appendChild(e)),e.href=t}Xde(Qde);O2(document.getElementById("root")).render(c.jsx(Yde,{}));
